import{j as e}from"./AboutHeader-COUW3Uy_.js";import{r as a}from"./index-CqkZ-sT_.js";import{G as E}from"./Global-BM4Id4Pw.js";import"./main-CkMzf7wF.js";import{C as R}from"./chevron-down-CxOx8ByU.js";import{S as N}from"./search-DhoFIDMi.js";import{C as L}from"./check-CvqheCNB.js";import"./___vite-browser-external_commonjs-proxy-DA7w84js.js";import"./createLucideIcon-D0vxYqnu.js";const $=({options:l=[],placeholder:f="Select an option",onChange:n,valueKey:j,labelKey:g,defaultValue:i,label:u,labelClass:p,className:c="customtext-neutral-dark rounded-xl",disabled:d=!1})=>{const[r,o]=a.useState(!1),[t,m]=a.useState(null),[y,w]=a.useState(""),x=a.useRef(null),h=l.length>0&&typeof l[0]=="object",S=h?j||Object.keys(l[0])[0]:null,k=h?g||Object.keys(l[0])[1]:null,b=l.map(s=>h?{value:s[S],label:s[k]}:{value:s,label:s});a.useEffect(()=>{if(i){const s=b.find(v=>v.value===i);s&&(m(s),n&&n(s.value))}},[i,b,n]),a.useEffect(()=>{const s=v=>{x.current&&!x.current.contains(v.target)&&o(!1)};return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[]);const O=s=>{m(s),n(s.value),o(!1)},C=b.filter(s=>s.label.toLowerCase().includes(y.toLowerCase()));return e.jsxs("div",{className:"relative w-full",ref:x,children:[u&&e.jsx("label",{className:`block text-sm mb-1 customtext-neutral-dark ${p}`,children:u}),e.jsxs("button",{className:`w-full relative text-start px-4 py-3 border-none focus:ring-0 focus:outline-0 transition-all duration-300 customtext-primary ${c}`,onClick:()=>o(!r),"aria-haspopup":"listbox","aria-expanded":r,disabled:d,children:[e.jsx("span",{className:"block truncate",children:t?t.label:f}),e.jsx("span",{className:"absolute inset-y-0 right-0 flex items-center justify-center py-3 pr-2 pointer-events-none",children:e.jsx(R,{className:`w-5 h-5 customtext-neutral-dark transition-transform duration-200 ${r?"rotate-180":""}`})})]}),r&&e.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-white rounded-lg shadow-lg max-h-60 overflow-auto",children:[e.jsx("div",{className:"sticky top-0 bg-white p-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(N,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:"text",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Search options...",value:y,onChange:s=>w(s.target.value)})]})}),e.jsx("ul",{className:"py-1",role:"listbox",children:C.map(s=>e.jsxs("li",{className:`px-4 py-2 cursor-pointer flex items-center justify-between 
                                    ${t&&t.value===s.value?"bg-blue-500 text-white":"hover:bg-gray-100"}`,onClick:()=>O(s),role:"option","aria-selected":t&&t.value===s.value,children:[e.jsx("span",{className:"block truncate",children:s.label}),t&&t.value===s.value&&e.jsx(L,{className:"w-5 h-5"})]},s.value))})]})]})},T=({data:l,pages:f,setLoading:n,products:j,setProducts:g,loading:i})=>{const u=a.useRef(),p=[{value:"nike",label:"Nike"},{value:"shopsimon",label:"Shop Simon"}],[c,d]=a.useState(""),[r,o]=a.useState("nike");return a.useEffect(()=>{const t=new URLSearchParams(window.location.search);t.get("search")&&d(t.get("search")),t.get("provider")&&o(t.get("provider"))},[]),e.jsx("header",{className:"w-full font-font-general",children:e.jsx("div",{className:"px-primary mx-auto py-4 font-font-general customtext-primary text-base font-semibold",children:e.jsxs("div",{className:"flex items-center justify-between gap-4 ",children:[e.jsx("a",{href:"/",className:"flex items-center gap-2",children:e.jsx("img",{src:`/assets/resources/logo.png?v=${crypto.randomUUID()}`,alt:E.APP_NAME,className:"h-14  object-contain object-center"})}),e.jsxs("div",{className:"relative w-full max-w-xl flex border rounded-full items-center justify-center ",children:[e.jsx("div",{className:"w-2/6 relative pl-2 before:absolute before:right-0 before:top-1/2 before:-translate-y-1/2 before:h-6 before:w-[1px] before:bg-[#E4E4E4]",children:e.jsx($,{options:p,placeholder:"Nike",defaultValue:r,onChange:t=>o(t),labelKey:"label",valueKey:"value"})}),e.jsxs("div",{className:"w-4/6",children:[e.jsx("input",{type:"search",placeholder:"Buscar productos",ref:u,value:c,onChange:t=>d(t.target.value),className:"w-full pr-14 py-4 pl-4 border-none rounded-full focus:ring-0 focus:outline-none"}),e.jsxs("a",{href:c.trim()?`/catalogo?search=${encodeURIComponent(c)}&provider=${encodeURIComponent(r)}`:"#",className:"inline-flex absolute  items-center justify-center gap-2 right-3 text-sm customtext-primary top-1/2 transform -translate-y-1/2 py-2 px-3 bg-black  rounded-xl","aria-label":"Buscar",children:[e.jsx(N,{}),"Buscar"]})]})]}),e.jsx("ul",{className:"list-none flex gap-4 text-lg",children:f.map((t,m)=>t.menuable&&e.jsx("li",{className:"py-3",children:e.jsx("a",{href:t.path,className:"hover:customtext-primary cursor-pointer transition-all duration-300 pr-6  ",children:t.name})},m))})]})})})};export{T as default};

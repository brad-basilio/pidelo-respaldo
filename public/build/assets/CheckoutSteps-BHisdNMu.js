var Q=Object.defineProperty;var X=(t,s,i)=>s in t?Q(t,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[s]=i;var D=(t,s,i)=>X(t,typeof s!="symbol"?s+"":s,i);import{j as e}from"./AboutHeader-ClKiNAEV.js";import{r as x}from"./index-DFv2mRv-.js";import{N as h}from"./Number2Currency-e57Tgsuk.js";import{c as T}from"./createLucideIcon-CC2OGGjd.js";import{P as Y}from"./plus-DqVREqgL.js";import{u as F,S as M}from"./SelectForm-yR0PH5BO.js";import{m as g}from"./main-rZoj-gSW.js";import{I as v}from"./InputForm-D93kGC-S.js";import"./chevron-down-Bgb5hLdB.js";import"./search-BlyVC63b.js";import"./check-sPmXvS3y.js";import"./___vite-browser-external_commonjs-proxy-BQdpDcDf.js";/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=T("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=T("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=T("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),I=({children:t,className:s="",...i})=>e.jsx("button",{type:"button",className:`w-full bg-primary font-bold text-white py-3 px-4  hover:opacity-90 hover:shadow-md transition-all duration-300 focus:outline-none active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed rounded-xl ${s}`,...i,children:t}),V=({children:t,className:s="",...i})=>e.jsx("a",{className:`w-full block border-primary cursor-pointer border-2 text-center font-bold customtext-primary py-3 px-4  hover:opacity-90 hover:shadow-md transition-all duration-300 focus:outline-none active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed rounded-xl ${s}`,...i,children:t}),ee=({setCart:t,...s})=>{const i=()=>{t(u=>u.filter(o=>o.id!==s.id))},r=()=>{t(u=>u.map(o=>o.id===s.id?{...o,quantity:(o.quantity||1)+1}:o))},d=()=>{t(u=>u.map(o=>{if(o.id===s.id){const m=(o.quantity||1)-1;return m<=0?(i(s.id),null):{...o,quantity:m}}return o}).filter(Boolean))};return console.log(s),e.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("img",{src:`/storage/images/item/${s.image}`,alt:s.name,className:"w-20 h-20 object-cover rounded"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-lg mb-2",children:s.name}),e.jsxs("p",{className:"text-sm customtext-neutral-light",children:["Marca: ",e.jsx("span",{className:"customtext-neutral-dark",children:s.brand.name})]}),e.jsxs("p",{className:"text-sm customtext-neutral-light",children:["Disponibilidad: ",e.jsxs("span",{className:"customtext-neutral-dark",children:[s.stock>=s.quantity?"En stock":"Agotado"," "]})]}),e.jsxs("p",{className:"text-sm customtext-neutral-light",children:["SKU: ",e.jsx("span",{className:"customtext-neutral-dark",children:s.sku})]})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"w-36 text-right",children:[e.jsxs("div",{className:"text-xs text-gray-500 line-through",children:["S/ ",Number(s.price*s.quantity).toFixed(2)]}),e.jsxs("div",{className:"font-bold text-lg mt-2",children:["S/ ",Number(s.final_price*s.quantity).toFixed(2)]}),e.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[e.jsxs("div",{className:"flex items-center border border-gray-200 rounded-lg overflow-hidden shadow-sm",children:[e.jsx("button",{type:"button",onClick:d,className:"p-2 text-gray-600 hover:bg-gray-100 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary","aria-label":"Decrease quantity",children:e.jsx(W,{size:16})}),e.jsx("div",{className:"w-12 h-8 flex justify-center items-center bg-white",children:e.jsx("span",{className:"font-semibold text-sm",children:s.quantity||1})}),e.jsx("button",{type:"button",onClick:r,className:"p-2 text-gray-600 hover:bg-gray-100 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary","aria-label":"Increase quantity",children:e.jsx(Y,{size:16})})]}),e.jsx("button",{onClick:i,className:"p-2 text-gray-400 hover:text-red-500 transition-colors duration-200 rounded-full hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-red-200","aria-label":"Remove item",children:e.jsx(Z,{size:18})})]})]})})]})},s.id)};function se({cart:t,setCart:s,onContinue:i,subTotal:r,envio:d,igv:u,totalFinal:o}){return console.log(t),e.jsxs("div",{className:"grid lg:grid-cols-5 gap-8",children:[e.jsx("div",{className:"lg:col-span-3",children:e.jsx("div",{className:"space-y-6",children:t.map((m,p)=>e.jsx(ee,{...m,setCart:s},p))})}),e.jsxs("div",{className:"bg-[#F7F9FB] rounded-xl shadow-lg p-6 col-span-2 h-max",children:[e.jsx("h3",{className:"text-2xl font-bold pb-6",children:"Resumen de compra"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"customtext-neutral-dark",children:"Subtotal"}),e.jsxs("span",{className:"font-semibold",children:["S/ ",h(r)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"customtext-neutral-dark",children:"IGV"}),e.jsxs("span",{className:"font-semibold",children:["S/ ",h(u)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"customtext-neutral-dark",children:"EnvÃ­o"}),e.jsxs("span",{className:"font-semibold",children:["S/ ",h(d)]})]}),e.jsx("div",{className:"py-3 border-y-2 mt-6",children:e.jsxs("div",{className:"flex justify-between font-bold text-[20px] items-center",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["S/ ",h(o)]})]})}),e.jsxs("div",{className:"space-y-2 pt-4",children:[e.jsx(I,{onClick:i,children:"  Continuar"}),e.jsx(V,{href:"/",children:" Cancelar"})]}),e.jsx("div",{children:e.jsxs("p",{className:"text-sm customtext-neutral-dark",children:["Al realizar tu pedido, aceptas losÂ ",e.jsx("a",{className:"customtext-primary font-bold",children:"TÃ©rminos y Condiciones"}),", y que nosotros usaremos sus datos personales de acuerdo con nuestraÂ ",e.jsx("a",{className:"customtext-primary font-bold",children:"PolÃ­tica de Privacidad"}),"."]})})]})]})]})}class _{}D(_,"getShippingCost",async s=>{try{const{status:i,result:r}=await g.Fetch("./api/delivery-prices",{method:"POST",body:JSON.stringify(s)});if(!i)throw new Error((r==null?void 0:r.message)||"Error al obtener datos");return g.Notify.add({icon:"/assets/img/icon.svg",title:"Operacion correcta",body:"Se obtuvo correctamente el precio de envio"}),r}catch(i){return g.Notify.add({icon:"/assets/img/icon.svg",title:"Error",body:i.message,type:"danger"}),!1}});function ae(){let t="";for(let s=0;s<12;s++){const i=Math.floor(Math.random()*10);t+=i}return t}const te=t=>new Promise((s,i)=>{try{console.log(t);const r=ae(t.email);console.log(r),window.Culqi.publicKey="pk_test_f4d42a7b5073e8df",window.Culqi.settings({title:"Stech PerÃº",email:t.email,currency:"PEN",amount:t.amount*100,order:`${r}`}),console.log(window.Culqi.settings),window.Culqi.options({lang:"es",installments:!1,paymentMethods:{tarjeta:!0,yape:!0,bancaMovil:!0,agente:!0,billetera:!0,cuotealo:!0},style:{logo:"https://i.ibb.co/Xf7Nbc7J/Simplification.png",bannerColor:"#20A4E0",buttonBackground:"#20A4E0"}}),window.Culqi.open(),window.culqi=async function(){try{if(!window.Culqi.token){i("No se obtuvo un token de Culqi");return}const d=window.Culqi.token.id;console.log("âœ… Token generado:",d),t={...t,token:d,orderNumber:r},console.log("_request actualizado",t);const{status:u,result:o}=await g.Fetch("./api/pago",{method:"POST",body:JSON.stringify(t)});u||console.log((o==null?void 0:o.message)||"Error en el pago"),window.Culqi.close(),g.Notify.add({icon:"/assets/img/icon.svg",title:"Pago Exitoso",body:"El pago se procesÃ³ correctamente.",type:"success"}),s(o)}catch(d){g.Notify.add({icon:"/assets/img/icon.svg",title:"Error en el Pago",body:d.message,type:"danger"}),i(d.message||"Error en el pago")}},document.addEventListener("culqi.error",function(d){var u,o;g.Notify.add({icon:"/assets/img/icon.svg",title:"Error en Culqi",body:((u=d.detail)==null?void 0:u.message)||"Error desconocido",type:"danger"}),i(((o=d.detail)==null?void 0:o.message)||"Error desconocido")})}catch(r){g.Notify.add({icon:"/assets/img/icon.svg",title:"Error",body:r.message,type:"danger"}),i("Error en la integraciÃ³n con Culqi")}}),L=({title:t,description:s,selected:i,onSelect:r,disabled:d})=>e.jsxs("div",{className:`flex w-full items-center gap-3 p-4 border rounded-xl cursor-pointer transition-all duration-300 customtext-neutral-dark 
                }`,onClick:r,children:[e.jsx("div",{className:`w-5 h-5 border-2 rounded-full flex items-center justify-center ${i?"border-primary":""}`,children:i&&e.jsx("div",{className:"w-3 h-3 bg-primary rounded-full"})}),e.jsxs("div",{className:"customtext-neutral-light",children:[e.jsx("h4",{className:"text-sm ",children:t}),e.jsx("p",{className:"text-xs",children:s})]})]});function ne({cart:t,setSale:s,setCode:i,setDelivery:r,setCart:d,onContinue:u,noContinue:o,subTotal:m,igv:p,totalFinal:w,user:n,setEnvio:q,envio:k}){const[a,y]=x.useState({name:(n==null?void 0:n.name)||"",lastname:(n==null?void 0:n.lastname)||"",email:(n==null?void 0:n.email)||"",department:(n==null?void 0:n.department)||"",province:(n==null?void 0:n.province)||"",district:(n==null?void 0:n.district)||"",address:(n==null?void 0:n.address)||"",number:(n==null?void 0:n.number)||"",comment:(n==null?void 0:n.comment)||"",reference:(n==null?void 0:n.reference)||"",shippingOption:"delivery"}),b=c=>{const{name:l,value:B}=c.target;y(S=>({...S,[l]:B}))},[j,N]=x.useState(""),[f,E]=x.useState(""),[C,P]=x.useState(""),[J,R]=x.useState([]),[G,K]=x.useState([]),[H,$]=x.useState([]),[le,oe]=x.useState(0);x.useEffect(()=>{const c=[...new Set(F.map(l=>l.departamento))];R(c)},[]),x.useEffect(()=>{if(j){const c=[...new Set(F.filter(l=>l.departamento===j).map(l=>l.provincia))];K(c),E(""),P(""),$([]),y(l=>({...l,department:j,province:"",district:""}))}},[j]),x.useEffect(()=>{if(f){const c=F.filter(l=>l.departamento===j&&l.provincia===f).map(l=>l.distrito);$(c),P(""),y(l=>({...l,province:f,district:""}))}},[f]),x.useEffect(()=>{C&&(y(l=>({...l,district:C})),(async()=>{try{const l=await _.getShippingCost({department:j,district:C});q(l.data.price),h(l.data.price)>0?A("express"):A("free")}catch(l){console.error("Error fetching shipping cost:",l),alert("No se pudo obtener el costo de envÃ­o.")}})())},[C]);const U=async c=>{if(c.preventDefault(),!n){g.Notify.add({icon:"/assets/img/icon.svg",title:"Iniciar SesiÃ³n",body:"Se requiere que incie sesiÃ³n para realizar la compra",type:"danger"});return}if(!a.department||!a.province||!a.district||!a.name||!a.lastname||!a.email||!a.address||!a.reference){g.Notify.add({icon:"/assets/img/icon.svg",title:"Error en el Formulario",body:"Completar los datos de envÃ­o",type:"danger"});return}if(!window.Culqi){console.error("âŒ Culqi aÃºn no se ha cargado.");return}try{const l={user_id:(n==null?void 0:n.id)||"",name:(a==null?void 0:a.name)||"",lastname:(a==null?void 0:a.lastname)||"",fullname:`${a==null?void 0:a.name} ${a==null?void 0:a.lastname}`,email:(a==null?void 0:a.email)||"",phone:"",country:"PerÃº",department:j||"",province:f||"",district:C||"",ubigeo:null,address:(a==null?void 0:a.address)||"",number:(a==null?void 0:a.number)||"",comment:(a==null?void 0:a.comment)||"",reference:(a==null?void 0:a.reference)||"",amount:w||0,delivery:k,cart:t},S=await te(l);S.status?(s(S.sale),r(S.delivery),i(S.code),d([]),u()):g.Notify.add({icon:"/assets/img/icon.svg",title:"Error en el Pago",body:"El pago ha sido rechazado",type:"danger"})}catch(l){console.log(l),g.Notify.add({icon:"/assets/img/icon.svg",title:"Error en el Pago",body:"No se llegÃ³ a procesar el pago",type:"danger"})}},[O,A]=x.useState("free");return e.jsxs("div",{className:"grid lg:grid-cols-5 gap-8",children:[e.jsxs("div",{className:"lg:col-span-3",children:[e.jsxs("form",{className:"space-y-6",onSubmit:c=>c.preventDefault(),children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(v,{type:"text",label:"Nombres",name:"name",value:a.name,onChange:b,placeholder:"Nombres"}),e.jsx(v,{label:"Apellidos",type:"text",name:"lastname",value:a.lastname,onChange:b,placeholder:"Apellidos"})]}),e.jsx(v,{label:"Correo electrÃ³nico",type:"email",name:"email",value:a.email,onChange:b,placeholder:"Ej. hola@gmail.com"}),e.jsx(M,{label:"Departamento",options:J,placeholder:"Selecciona un Departamento",onChange:c=>{N(c),y(l=>({...l,department:j}))}}),e.jsx(M,{disabled:!j,label:"Provincia",options:G,placeholder:"Selecciona una Provincia",onChange:c=>{E(c),y(l=>({...l,province:f}))}}),e.jsx(M,{disabled:!f,label:"Distrito",options:H,placeholder:"Selecciona un Distrito",onChange:c=>{P(c),y(l=>({...l,district:C}))}}),e.jsx(v,{label:"Avenida / Calle / JirÃ³n",type:"text",name:"address",value:a.address,onChange:b,placeholder:"Ingresa el nombre de la calle"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(v,{label:"NÃºmero",type:"text",name:"number",value:a.number,onChange:b,placeholder:"Ingresa el nÃºmero de la calle"}),e.jsx(v,{label:"Dpto./ Interior/ Piso/ Lote/ Bloque (opcional)",type:"text",name:"comment",value:a.comment,onChange:b,placeholder:"Ej. Casa 3, Dpto 101"})]}),e.jsx(v,{label:"Referencia",type:"text",name:"reference",value:a.reference,onChange:b,placeholder:"Ejem. Altura de la avenida..."})]}),e.jsxs("div",{className:"flex gap-4 mt-4",children:[e.jsx(L,{title:"EnvÃ­o gratis",description:"Entrega entre 3 a 10 dÃ­as hÃ¡biles",selected:O==="free"}),e.jsx(L,{title:"Delivery",description:"Delivery 24 horas",selected:O==="express"})]}),e.jsxs("div",{className:"flex gap-4 mt-6 bg-[#F7F9FB] p-3 rounded-xl",children:[e.jsx("div",{className:"w-5",children:e.jsx(z,{className:"customtext-primary",width:"20px"})}),e.jsxs("div",{className:"text-xs font-medium customtext-neutral-dark flex flex-col gap-2",children:[e.jsx("p",{children:"Solo Lima Metropolitana: Dentro de las 24 horas despuÃ©s de efectuado el pago, solo algunos distritos de Lima Metropolitana."}),e.jsxs("p",{children:[" ","Distritos No incluidos: Santa MarÃ­a del Mar, Pucusana, San Bartolo, Punta Hermosa, LurÃ­n, Pachacamac, Chorrillos, Villa el Salvador, Villa MarÃ­a del Triunfo, San Juan de Miraflores, Cieneguilla, Ate, Chosica, Huaycan, San Juan de Lurigancho (hasta el Metro), AncÃ³n, Santa Rosa, Carabayllo, Puente Piedra."]}),e.jsxs("p",{children:[" ","Same Day: Solo para compras efectuadas hasta las 1pm del dÃ­a."]})]})]}),e.jsxs("div",{className:"flex gap-4 mt-4 bg-[#F7F9FB] p-3 rounded-xl",children:[e.jsx("div",{className:"w-5",children:e.jsx(z,{className:"customtext-primary",width:"20px"})}),e.jsx("div",{className:"text-xs font-medium customtext-neutral-dark flex flex-col gap-2",children:e.jsx("p",{children:"Lima: 3 a 4 dias hÃ¡biles | Provincia: de 4 a 10 dias hÃ¡biles"})})]})]}),e.jsxs("div",{className:"bg-[#F7F9FB] rounded-xl shadow-lg p-6 col-span-2 h-max",children:[e.jsx("h3",{className:"text-2xl font-bold pb-6",children:"Resumen de compra"}),e.jsx("div",{className:"space-y-6 border-b-2 pb-6",children:t.map((c,l)=>e.jsx("div",{className:"rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"bg-white p-2 rounded-xl",children:e.jsx("img",{src:`/storage/images/item/${c.image}`,alt:c.name,className:"w-20 h-20 object-cover rounded  "})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-lg mb-2",children:c.name}),e.jsxs("p",{className:"text-sm customtext-neutral-light",children:["Marca:"," ",e.jsx("span",{className:"customtext-neutral-dark",children:c.brand.name})]}),e.jsxs("p",{className:"text-sm customtext-neutral-light",children:["Cantidad:"," ",e.jsxs("span",{className:"customtext-neutral-dark",children:[c.quantity," "]})]}),e.jsxs("p",{className:"text-sm customtext-neutral-light",children:["SKU:"," ",e.jsx("span",{className:"customtext-neutral-dark",children:c.sku})]})]})]})},c.id))}),e.jsxs("div",{className:"space-y-4 mt-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"customtext-neutral-dark",children:"Subtotal"}),e.jsxs("span",{className:"font-semibold",children:["S/ ",h(m)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"customtext-neutral-dark",children:"IGV"}),e.jsxs("span",{className:"font-semibold",children:["S/ ",h(p)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"customtext-neutral-dark",children:"EnvÃ­o"}),e.jsxs("span",{className:"font-semibold",children:["S/ ",h(k)]})]}),e.jsx("div",{className:"py-3 border-y-2 mt-6",children:e.jsxs("div",{className:"flex justify-between font-bold text-[20px] items-center",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["S/ ",h(w)]})]})}),e.jsxs("div",{className:"space-y-2 pt-4",children:[e.jsxs(I,{onClick:U,children:[" ","Continuar"]}),e.jsxs(V,{onClick:o,children:[" ","Cancelar"]})]}),e.jsx("div",{children:e.jsxs("p",{className:"text-sm customtext-neutral-dark",children:["Al realizar tu pedido, aceptas los",e.jsx("a",{className:"customtext-primary font-bold",children:"TÃ©rminos y Condiciones"}),", y que nosotros usaremos sus datos personales de acuerdo con nuestra",e.jsx("a",{className:"customtext-primary font-bold",children:"PolÃ­tica de Privacidad"}),"."]})})]})]})]})}function ie({cart:t,code:s,delivery:i}){const d=(t.reduce((m,p)=>{const w=p.final_price;return m+w*p.quantity},0)/1.18).toFixed(2),u=(d*.18).toFixed(2),o=parseFloat(d)+parseFloat(u)+parseFloat(i);return e.jsx("div",{className:"mx-auto",children:e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("h2",{className:"text-[20px] customtext-neutral-light",children:"Gracias por tu compra ðŸŽ‰"}),e.jsx("p",{className:"customtext-neutral-dark text-5xl font-semibold",children:"Tu orden ha sido recibida"}),e.jsxs("div",{className:"py-4",children:[e.jsx("div",{className:" customtext-neutral-light",children:"CÃ³digo de pedido"}),e.jsx("div",{className:"customtext-neutral-dark text-lg font-semibold",children:`#${s}`})]}),e.jsxs("div",{className:"space-y-4 max-w-lg bg-[#F7F9FB] mx-auto p-8 rounded-xl",children:[e.jsx("div",{className:"space-y-6 border-b-2 pb-6",children:t.map((m,p)=>e.jsx("div",{className:"rounded-lg",children:e.jsxs("div",{className:"flex   gap-4",children:[e.jsx("div",{className:"bg-white p-2 rounded-xl w-max",children:e.jsx("img",{src:`/storage/images/item/${m.image}`,alt:m.name,className:"w-20 h-20 object-cover rounded  "})}),e.jsxs("div",{className:" text-start",children:[e.jsx("h3",{className:"font-medium text-lg mb-2",children:m.name}),e.jsxs("p",{className:"text-sm customtext-neutral-light",children:["Marca: ",e.jsx("span",{className:"customtext-neutral-dark",children:m.brand.name})]}),e.jsxs("p",{className:"text-sm customtext-neutral-light",children:["Cantidad: ",e.jsxs("span",{className:"customtext-neutral-dark",children:[m.quantity," "]})]}),e.jsxs("p",{className:"text-sm customtext-neutral-light",children:["SKU: ",e.jsx("span",{className:"customtext-neutral-dark",children:m.sku})]})]})]})},p))}),e.jsxs("div",{className:"space-y-4 mt-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"customtext-neutral-dark",children:"Subtotal"}),e.jsxs("span",{className:"font-semibold",children:["S/ ",h(d)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"customtext-neutral-dark",children:"IGV"}),e.jsxs("span",{className:"font-semibold",children:["S/ ",h(u)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"customtext-neutral-dark",children:"EnvÃ­o"}),e.jsxs("span",{className:"font-semibold",children:["S/ ",h(i)]})]}),e.jsx("div",{className:"py-3 border-y-2 mt-6",children:e.jsxs("div",{className:"flex justify-between font-bold text-[20px] items-center",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["S/ ",h(o)]})]})})]}),e.jsx("div",{className:"pt-3",children:e.jsx(I,{href:"/catalogo",children:"  Seguir Comprando"})})]})]})})})}function Ne({cart:t,setCart:s,user:i}){const[r,d]=x.useState(1),o=(t.reduce((N,f)=>{const E=f.final_price;return N+E*f.quantity},0)/1.18).toFixed(2),m=(o*.18).toFixed(2),[p,w]=x.useState(0),n=parseFloat(o)+parseFloat(m)+parseFloat(p),[q,k]=x.useState([]),[a,y]=x.useState([]),[b,j]=x.useState([]);return x.useEffect(()=>{const N=document.createElement("script");return N.src="https://checkout.culqi.com/js/v4",N.async=!0,N.onload=()=>{console.log("âœ… Culqi cargado correctamente."),window.culqi=function(){window.Culqi.token?console.log("âœ… Token recibido:",window.Culqi.token.id):window.Culqi.order?console.log("âœ… Orden recibida:",window.Culqi.order):console.error("âŒ Error en Culqi:",window.Culqi.error)}},document.body.appendChild(N),()=>{document.body.removeChild(N)}},[]),e.jsx("div",{className:"min-h-screen bg-[#F7F9FB] py-12 px-primary 2xl:px-0 2xl:max-w-7xl mx-auto",children:e.jsxs("div",{className:"bg-white   p-8 rounded-xl",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between max-w-3xl mx-auto",children:[e.jsx("div",{className:`text-sm ${r===1?"customtext-primary font-medium":"customtext-neutral-dark"}`,children:"1. Carrito de compra"}),e.jsx("div",{className:`text-sm ${r===2?"customtext-primary font-medium":"customtext-neutral-dark"}`,children:"2. Detalles de envÃ­o"}),e.jsx("div",{className:`text-sm ${r===3?"customtext-primary font-medium":"customtext-neutral-dark"}`,children:"3. Orden confirmada"})]}),e.jsx("div",{className:"mt-4 h-1 max-w-3xl mx-auto bg-gray-200",children:e.jsx("div",{className:"h-1 bg-primary transition-all duration-500",style:{width:`${(r-1)/2*100}%`}})})]}),r===1&&e.jsx(se,{cart:t,setCart:s,onContinue:()=>d(2),subTotal:o,envio:p,igv:m,totalFinal:n}),r===2&&e.jsx(ne,{setCode:y,setDelivery:j,cart:t,setSale:k,setCart:s,onContinue:()=>d(3),noContinue:()=>d(1),subTotal:o,envio:p,setEnvio:w,igv:m,totalFinal:n,user:i}),r===3&&e.jsx(ie,{code:a,delivery:b,cart:q,subTotal:o,envio:p,igv:m,totalFinal:n})]})})}export{Ne as default};

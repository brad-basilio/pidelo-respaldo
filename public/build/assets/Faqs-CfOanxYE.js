var w=Object.defineProperty;var h=(r,t,s)=>t in r?w(r,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[t]=s;var f=(r,t,s)=>h(r,typeof t!="symbol"?t+"":t,s);import{j as n}from"./AboutHeader-COUW3Uy_.js";import{B as b}from"./Base-G0qRPjZI.js";import{r as o}from"./index-CqkZ-sT_.js";import{T as v}from"./TextareaFormGroup-BkL9I0bq.js";import{c as j}from"./ReactAppend-CtUeIECI.js";import{S as q}from"./ProductCard-DppMoL6U.js";import{M as B}from"./Modal-BdGNjleW.js";import{D as p}from"./DxButton-CsjWvhyj.js";import{I as F}from"./InputFormGroup-DSD8AIIl.js";import{T as C}from"./Table-CZMIa64L.js";import{C as E}from"./CreateReactScript-Bsv9rl_S.js";import{B as D}from"./BasicEditing-CqE15M_Q.js";import"./Global-BM4Id4Pw.js";import"./tippy-react.esm-HYwDmlWP.js";import"./index-VLFqsz8m.js";/* empty css              */import"./Logout-DbjxToKk.js";import"./main-CkMzf7wF.js";import"./___vite-browser-external_commonjs-proxy-DA7w84js.js";import"./MenuItemContainer-Dvmht3nv.js";import"./index.esm-DuQXRrqZ.js";/* empty css               */import"./General-BmbBKdsB.js";class S extends D{constructor(){super(...arguments);f(this,"path","admin/faqs")}}const c=new S,T=()=>{const r=o.useRef(),t=o.useRef(),s=o.useRef(),a=o.useRef(),l=o.useRef(),[d,u]=o.useState(!1),m=e=>{e!=null&&e.id?u(!0):u(!1),s.current.value=(e==null?void 0:e.id)??"",a.current.value=(e==null?void 0:e.question)??"",l.current.value=(e==null?void 0:e.answer)??"",$(t.current).modal("show")},x=async e=>{e.preventDefault();const i={id:s.current.value||void 0,question:a.current.value,answer:l.current.value};await c.save(i)&&($(r.current).dxDataGrid("instance").refresh(),$(t.current).modal("hide"))},g=async e=>{const{isConfirmed:i}=await q.fire({title:"Eliminar indicador",text:"Â¿Estas seguro de eliminar este indicador?",icon:"warning",showCancelButton:!0,confirmButtonText:"Si, eliminar",cancelButtonText:"Cancelar"});!i||!await c.delete(e)||$(r.current).dxDataGrid("instance").refresh()};return n.jsxs(n.Fragment,{children:[n.jsx(C,{gridRef:r,title:"Preguntas Frecuentes",rest:c,toolBar:e=>{e.unshift({widget:"dxButton",location:"after",options:{icon:"refresh",hint:"Refrescar tabla",onClick:()=>$(r.current).dxDataGrid("instance").refresh()}}),e.unshift({widget:"dxButton",location:"after",options:{icon:"plus",text:"Nueva pregunta",hint:"Nueva pregunta",onClick:()=>m()}})},columns:[{dataField:"id",caption:"ID",visible:!1},{dataField:"question",caption:"Pregunta"},{dataField:"answer",caption:"Respuesta"},{caption:"Acciones",cellTemplate:(e,{data:i})=>{e.append(p({className:"btn btn-xs btn-soft-primary",title:"Editar",icon:"fa fa-pen",onClick:()=>m(i)})),e.append(p({className:"btn btn-xs btn-soft-danger",title:"Eliminar",icon:"fa fa-trash",onClick:()=>g(i.id)}))},allowFiltering:!1,allowExporting:!1}]}),n.jsx(B,{modalRef:t,title:d?"Editar Pregunta":"Agregar Pregunta",onSubmit:x,size:"md",children:n.jsxs("div",{className:"row",id:"faqs-container",children:[n.jsx("input",{ref:s,type:"hidden"}),n.jsx(F,{eRef:a,label:"Pregunta",col:"col-sm-8",rows:3,required:!0}),n.jsx(v,{eRef:l,label:"Respuesta",rows:3})]})})]})};E((r,t)=>{j(r).render(n.jsx(b,{...t,title:"Preguntas Frecuentes",children:n.jsx(T,{...t})}))});

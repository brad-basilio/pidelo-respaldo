import{j as e}from"./AboutSimple-Cf8x2fCZ.js";import"./index-BH53Isel.js";import{N as i}from"./Number2Currency-e57Tgsuk.js";import{G as x}from"./General-BmbBKdsB.js";import"./index-yBjzXJbu.js";const b=({data:c,cart:n,setCart:m})=>{const t=n.reduce((s,l)=>{const r=l.discount>0?Math.min(l.price,l.discount):l.price;return s+r*l.quantity},0),a=Number(x.igv_checkout)/100;return e.jsx("section",{className:"bg-white",children:e.jsxs("div",{className:"px-[5%] replace-max-w-here w-full mx-auto py-[2.5%] grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:n.length>0?e.jsx("div",{className:"bg-accent rounded-lg p-6",children:n.map((s,l)=>e.jsx("div",{className:"mb-6 pb-6 border-b border-gray-200 last:border-0 last:mb-0 last:pb-0",children:e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsx("div",{className:"col-span-4 font-medium mb-2",children:"Producto"}),e.jsxs("div",{className:"flex items-center col-span-4 md:col-span-2 gap-4",children:[e.jsx("div",{className:"!w-20",children:e.jsx("img",{src:`/storage/images/item/${s.image}`,onError:r=>r.target.src="/assets/img/noimage/no_img.jpg",alt:s.name,className:"!w-20 h-full object-cover object-center rounded-md aspect-[4/3]"})}),e.jsxs("div",{className:"w-full",children:[e.jsx("h3",{className:"font-medium leading-tight",children:s.name||`Producto ${l+1}`}),e.jsxs("button",{onClick:()=>{const r=n.filter((d,o)=>o!==l);m(r)},className:"text-red-500 flex items-center mt-2",children:["Eliminar",e.jsx("i",{className:"mdi mdi-close ms-1 -mb-0.5"})]})]})]}),e.jsxs("div",{className:"col-span-4 md:col-span-2 grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium mb-2",children:"Cantidad"}),e.jsx("div",{className:"border border-gray-300 rounded flex items-center w-16",children:e.jsx("input",{type:"number",min:"1",value:s.quantity,onChange:r=>{const d=[...n];d[l].quantity=Number.parseInt(r.target.value)||1,m(d)},className:"w-full text-center py-1 px-2 bg-transparent"})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium mb-2",children:"Precio"}),e.jsxs("div",{children:[s.discount_percent>0&&e.jsxs("span",{className:"line-through text-xs text-gray-500",children:["S/ ",i(s.price)]}),e.jsxs("span",{className:"block",children:["S/ ",i(s.final_price)]})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium mb-2",children:"Sub Total"}),e.jsxs("div",{children:["S/ ",i(s.final_price*s.quantity)]})]})]})]})},l))}):e.jsx("div",{className:"bg-accent rounded-lg p-8 flex items-center justify-center min-h-80",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-xl font-bold mb-2",children:"Ups!"}),e.jsx("p",{className:"mb-4",children:"No hay productos en el carrito"}),e.jsxs("a",{href:c==null?void 0:c.url_catalog,className:"bg-green-600 p-2 px-4 rounded-full text-white inline-block",children:[e.jsx("i",{className:"mdi mdi-cart-plus me-1"}),"Agregar productos"]})]})})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-accent rounded-lg p-6",children:[e.jsx("h2",{className:"font-semibold text-lg mb-4",children:"Resumen de la compra"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{children:"Subtotal"}),e.jsxs("span",{children:["S/. ",i(a>0?t*(1-a):t)]})]}),a>0&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("p",{children:["IGV (",(a*100).toFixed(2),"%)"]}),e.jsxs("span",{children:["S/. ",i(t*a)]})]}),e.jsxs("div",{className:"flex justify-between items-center font-semibold text-lg pt-2 border-t border-gray-200",children:[e.jsx("p",{children:"Total"}),e.jsxs("span",{children:["S/. ",i(t)]})]}),e.jsx("a",{href:c==null?void 0:c.url_checkout,className:"text-white bg-green-600 w-full px-4 py-3 rounded-full cursor-pointer inline-block text-center font-medium mt-4",children:"Siguiente"})]})]})})]})})};export{b as default};

var S=Object.defineProperty;var D=(t,s,o)=>s in t?S(t,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[s]=o;var q=(t,s,o)=>D(t,typeof s!="symbol"?s+"":s,o);import{j as a}from"./ModalImportItem-ClKiNAEV.js";import{r as w}from"./index-DFv2mRv-.js";import{L as M,G as B,M as L}from"./esm-912m5aUQ.js";import{B as I}from"./Base-CnoP34n1.js";import{B as z}from"./BasicEditing-DktVQ8WO.js";import{C as K}from"./CreateReactScript-C556Y6YC.js";import{c as Q}from"./ReactAppend-D9rqaU78.js";import{Q as c}from"./QuillFormGroup-DuHWQ9Xf.js";import{T as U}from"./TextareaFormGroup-CR14ptGz.js";import{G as Y}from"./Global-BM4Id4Pw.js";import"./index-Sd7so-oN.js";import"./tippy-react.esm-CGYKl-Jd.js";/* empty css              */import"./Logout-CnsEv7kI.js";import"./main-rZoj-gSW.js";import"./___vite-browser-external_commonjs-proxy-BQdpDcDf.js";import"./MenuItemContainer-DimihTIG.js";import"./index.esm-Cw4Q9yGE.js";/* empty css               */import"./General-BmbBKdsB.js";class J extends z{constructor(){super(...arguments);q(this,"path","admin/generals")}}const O=new J,V=({generals:t})=>{var v,b,j,x,y,N,f,C,g,P,_,k,$,F,G,T;const s=((v=t.find(e=>e.correlative=="location"))==null?void 0:v.description)??"0,0",[o,l]=w.useState({phones:((x=(j=(b=t.find(e=>e.correlative=="phone_contact"))==null?void 0:b.description)==null?void 0:j.split(","))==null?void 0:x.map(e=>e.trim()))??[""],emails:((f=(N=(y=t.find(e=>e.correlative=="email_contact"))==null?void 0:y.description)==null?void 0:N.split(","))==null?void 0:f.map(e=>e.trim()))??[""],cintillo:((C=t.find(e=>e.correlative=="cintillo"))==null?void 0:C.description)??"",address:((g=t.find(e=>e.correlative=="address"))==null?void 0:g.description)??"",openingHours:((P=t.find(e=>e.correlative=="opening_hours"))==null?void 0:P.description)??"",supportPhone:((_=t.find(e=>e.correlative=="support_phone"))==null?void 0:_.description)??"",supportEmail:((k=t.find(e=>e.correlative=="support_email"))==null?void 0:k.description)??"",privacyPolicy:(($=t.find(e=>e.correlative=="privacy_policy"))==null?void 0:$.description)??"",termsConditions:((F=t.find(e=>e.correlative=="terms_conditions"))==null?void 0:F.description)??"",deliveryPolicy:((G=t.find(e=>e.correlative=="delivery_policy"))==null?void 0:G.description)??"",salebackPolicy:((T=t.find(e=>e.correlative=="saleback_policy"))==null?void 0:T.description)??"",location:{lat:Number(s.split(",").map(e=>e.trim())[0]),lng:Number(s.split(",").map(e=>e.trim())[1])}}),[n,m]=w.useState("contact"),p=(e,i,r)=>{const{value:d}=e.target,E=[...o[r]];E[i]=d,l(R=>({...R,[r]:E}))},u=e=>{l(i=>({...i,[e]:[...i[e],""]}))},h=(e,i)=>{const r=[...o[i]];r.splice(e,1),l(d=>({...d,[i]:r}))},A=e=>{l(i=>({...i,location:{lat:e.latLng.lat(),lng:e.latLng.lng()}}))},H=async e=>{e.preventDefault();try{await O.save([{correlative:"phone_contact",name:"Teléfono de contacto",description:o.phones.join(",")},{correlative:"email_contact",name:"Correo de contacto",description:o.emails.join(",")},{correlative:"address",name:"Dirección",description:o.address},{correlative:"cintillo",name:"Cintillo",description:o.cintillo},{correlative:"opening_hours",name:"Horarios de atención",description:o.openingHours},{correlative:"support_phone",name:"Número de soporte",description:o.supportPhone},{correlative:"support_email",name:"Correo de soporte",description:o.supportEmail},{correlative:"privacy_policy",name:"Política de privacidad",description:o.privacyPolicy},{correlative:"terms_conditions",name:"Términos y condiciones",description:o.termsConditions},{correlative:"delivery_policy",name:"Políticas de envío",description:o.deliveryPolicy},{correlative:"saleback_policy",name:"Políticas de devolucion y cambio",description:o.salebackPolicy},{correlative:"location",name:"Ubicación",description:`${o.location.lat},${o.location.lng}`}])}catch(i){console.error("Error al guardar los datos:",i)}};return a.jsx("div",{className:"card",children:a.jsxs("form",{className:"card-body",onSubmit:H,children:[a.jsxs("ul",{className:"nav nav-tabs",id:"contactTabs",role:"tablist",children:[a.jsx("li",{className:"nav-item",role:"presentation",children:a.jsx("button",{className:`nav-link ${n==="contact"?"active":""}`,onClick:()=>m("contact"),type:"button",role:"tab",children:"Información de Contacto"})}),a.jsx("li",{className:"nav-item",role:"presentation",children:a.jsx("button",{className:`nav-link ${n==="policies"?"active":""}`,onClick:()=>m("policies"),type:"button",role:"tab",children:"Políticas y Términos"})}),a.jsx("li",{className:"nav-item",role:"presentation",children:a.jsx("button",{className:`nav-link ${n==="location"?"active":""}`,onClick:()=>m("location"),type:"button",role:"tab",children:"Ubicación"})})]}),a.jsxs("div",{className:"tab-content",id:"contactTabsContent",children:[a.jsxs("div",{className:`tab-pane fade ${n==="contact"?"show active":""}`,role:"tabpanel",children:[a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-md-6",children:[o.phones.map((e,i)=>a.jsxs("div",{className:"mb-3",children:[a.jsxs("label",{htmlFor:`phone-${i}`,className:"form-label",children:["Teléfono ",i+1]}),a.jsxs("div",{className:"input-group",children:[a.jsx("input",{type:"tel",className:"form-control",id:`phone-${i}`,value:e,onChange:r=>p(r,i,"phones"),required:!0}),a.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:()=>h(i,"phones"),children:a.jsx("i",{className:"fa fa-trash"})})]})]},`phone-${i}`)),a.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>u("phones"),children:"Agregar teléfono"})]}),a.jsxs("div",{className:"col-md-6",children:[o.emails.map((e,i)=>a.jsxs("div",{className:"mb-3",children:[a.jsxs("label",{htmlFor:`email-${i}`,className:"form-label",children:["Correo ",i+1]}),a.jsxs("div",{className:"input-group",children:[a.jsx("input",{type:"text",className:"form-control",id:`email-${i}`,value:e,onChange:r=>p(r,i,"emails"),required:!0}),a.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:()=>h(i,"emails"),children:a.jsx("i",{className:"fa fa-trash"})})]})]},`email-${i}`)),a.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>u("emails"),children:"Agregar correo"})]})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"cintillo",className:"form-label",children:"Cintillo"}),a.jsx("textarea",{className:"form-control",id:"cintillo",value:o.cintillo,onChange:e=>l({...o,cintillo:e.target.value}),required:!0})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"address",className:"form-label",children:"Dirección"}),a.jsx("textarea",{className:"form-control",id:"address",value:o.address,onChange:e=>l({...o,address:e.target.value}),required:!0})]}),a.jsx("div",{className:"mb-3",children:a.jsx(U,{label:"Horarios de atencion",onChange:e=>l({...o,openingHours:e.target.value}),value:o.openingHours,required:!0})}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"supportPhone",className:"form-label",children:"Número de soporte"}),a.jsx("input",{type:"tel",className:"form-control",id:"supportPhone",value:o.supportPhone,onChange:e=>l({...o,supportPhone:e.target.value}),required:!0})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"supportEmail",className:"form-label",children:"Correo de soporte"}),a.jsx("input",{type:"email",className:"form-control",id:"supportEmail",value:o.supportEmail,onChange:e=>l({...o,supportEmail:e.target.value}),required:!0})]})]}),a.jsxs("div",{className:`tab-pane fade ${n==="policies"?"show active":""}`,role:"tabpanel",children:[a.jsx("div",{className:"mb-3",children:a.jsx(c,{label:"Política de privacidad",value:o.privacyPolicy,onChange:e=>l({...o,privacyPolicy:e})})}),a.jsx("div",{className:"mb-3",children:a.jsx(c,{label:"Términos y condiciones",value:o.termsConditions,onChange:e=>l({...o,termsConditions:e})})}),a.jsx("div",{className:"mb-3",children:a.jsx(c,{label:"Políticas de envío",value:o.deliveryPolicy,onChange:e=>l({...o,deliveryPolicy:e})})}),a.jsx("div",{className:"mb-3",children:a.jsx(c,{label:"Políticas de devolución y cambio",value:o.salebackPolicy,onChange:e=>l({...o,salebackPolicy:e})})})]}),a.jsxs("div",{className:`tab-pane fade ${n==="location"?"show active":""}`,role:"tabpanel",children:[a.jsx(M,{googleMapsApiKey:Y.GMAPS_API_KEY,children:a.jsx(B,{mapContainerStyle:{width:"100%",height:"400px"},center:o.location,zoom:10,onClick:A,children:a.jsx(L,{position:o.location})})}),a.jsx("small",{className:"form-text text-muted",children:"Haz clic en el mapa para seleccionar la ubicación."})]})]}),a.jsx("button",{type:"submit",className:"btn btn-primary mt-3",children:"Guardar"})]})})};K((t,s)=>{Q(t).render(a.jsx(I,{...s,title:"Datos Generales",children:a.jsx(V,{...s})}))});

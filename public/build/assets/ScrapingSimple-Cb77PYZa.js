var g=Object.defineProperty;var y=(i,s,l)=>s in i?g(i,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):i[s]=l;var m=(i,s,l)=>y(i,typeof s!="symbol"?s+"":s,l);import{j as a}from"./AboutHeader-COUW3Uy_.js";import{r as n}from"./index-CqkZ-sT_.js";import{m as o}from"./main-CkMzf7wF.js";import{L as v}from"./Loading-CS0Y7TJ8.js";import{S as b}from"./SelectForm-DBAg0Rnm.js";import{S as u}from"./search-DhoFIDMi.js";import"./___vite-browser-external_commonjs-proxy-DA7w84js.js";import"./chevron-down-CxOx8ByU.js";import"./createLucideIcon-D0vxYqnu.js";import"./check-CvqheCNB.js";class c{}m(c,"getProducts",async s=>{console.log(s);try{const{status:l,result:t}=await o.Fetch("./api/scrap-nike",{method:"POST",body:JSON.stringify(s)});return l||console.log((t==null?void 0:t.message)||"Error al obtener datos"),o.Notify.add({icon:"/assets/img/icon.svg",title:"Operacion correcta",body:"Se obtuvo correctamente el precio de envio"}),t}catch(l){return o.Notify.add({icon:"/assets/img/icon.svg",title:"Error",body:l.message,type:"danger"}),!1}});const q=()=>{const[i,s]=n.useState([]),[l,t]=n.useState(!1),r=n.useRef(),x=[{value:"nike",label:"nike"},{value:"invictastores",label:"invictastores"},{value:"gapfactory",label:"gapfactory"},{value:"sephora",label:"sephora"}],[h,d]=n.useState("nike");return a.jsxs("div",{className:"px-primary mx-auto my-20",children:[a.jsxs("div",{className:" mx-auto max-w-2xl flex gap-4",children:[a.jsx("div",{className:"w-3/12",children:a.jsx(b,{options:x,placeholder:"Selecciona Aqui..",onChange:e=>{d(e)},labelKey:"label",valueKey:"value"})}),a.jsxs("div",{className:"relative w-9/12",children:[a.jsx("input",{type:"search",placeholder:"Buscar productos",ref:r,className:"w-full pr-14 py-4  pl-4 border rounded-full focus:ring-0 focus:outline-none"}),a.jsx("button",{onClick:async()=>{if(!r.current.value.trim()){alert("Por favor, ingresa un término de búsqueda");return}t(!0);const e=await c.getProducts({query:r.current.value,proveedor:h});s(e.data),console.log(e.data),t(!1)},className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-2 bg-primary text-white rounded-lg","aria-label":"Buscar",children:a.jsx(u,{})})]})]}),a.jsxs("div",{className:"flex items-center flex-wrap gap-y-8 transition-all duration-300 ease-in-out mt-12",children:[l&&a.jsx(v,{}),i&&i.map((e,f)=>a.jsx("div",{className:"group w-full px-2 sm:w-1/4 flex-shrink-0 font-font-secondary cursor-pointer",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4",style:{boxShadow:"0px 0px 6px 0px #00000040"},children:[a.jsxs("div",{className:"relative",children:[(e==null?void 0:e.discount)!=null&&!isNaN(e==null?void 0:e.discount)&&a.jsxs("span",{className:"absolute top-2 left-2 bg-[#F93232] text-white text-base font-medium px-2 py-1 rounded-full",children:["-",Number((e==null?void 0:e.discount)*100/(e==null?void 0:e.price)).toFixed(0),"%"]}),a.jsx("div",{className:"aspect-square rounded-lg overflow-hidden flex items-center justify-center p-4",children:a.jsx("img",{src:e==null?void 0:e.image,alt:e==null?void 0:e.name,className:"w-full h-full object-contain",loading:"lazy"})})]}),a.jsxs("div",{className:"overflow-hidden max-h-0 pb-4 opacity-0 group-hover:max-h-20 group-hover:opacity-100 transition-[max-height,opacity] duration-1000 ease-in-out flex gap-2 my-2 transform group-hover:translate-y-0 translate-y-4",children:[a.jsx("a",{href:"#",className:"flex-1 inline-flex items-center justify-center font-bold text-sm bg-primary text-white  py-3 rounded-xl shadow-lg transition-all duration-300 hover:opacity-90",children:"Ver detalle"}),a.jsx("button",{className:"py-2 px-2.5 border border-primary rounded-lg customtext-primary transition-all duration-300  hover:opacity-90",children:a.jsx("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"customtext-neutral-dark text-sm font-semibold mb-2 line-clamp-2",children:e==null?void 0:e.name}),a.jsxs("div",{className:"flex flex-col items-baseline gap-2 mb-4",children:[(e==null?void 0:e.discount)!=null&&!isNaN(e==null?void 0:e.discount)&&a.jsxs("span",{className:"text-xs customtext-neutral-light font-semibold1 line-through",children:["S/ ",e==null?void 0:e.price]}),a.jsxs("span",{className:"customtext-neutral-dark text-2xl font-bold",children:["S/ ",e==null?void 0:e.price]})]})]})]})},f))]})]})};export{q as default};

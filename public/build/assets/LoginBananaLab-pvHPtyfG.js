import{j as e}from"./AboutSimple-Cf8x2fCZ.js";import{r as o}from"./index-BH53Isel.js";import{J as N}from"./JSEncrypt-BF8AmNNu.js";import{G as L}from"./Global-CklCDfn9.js";import{S as u}from"./ProductCard-C2H10lUi.js";import{m as f}from"./main-BSEyQEJW.js";import{A as k}from"./AuthClientRest-BrGQ816K.js";import{I as g}from"./InputFormSF-CFLokChh.js";import{m as t}from"./proxy-BTYtmp9V.js";import"./index-yBjzXJbu.js";import"./___vite-browser-external_commonjs-proxy-0zb4Agf2.js";function T(){const n=new N;n.setPublicKey(L.PUBLIC_RSA_KEY);const[m,d]=o.useState(!1),[x,H]=o.useState(!1),[r,w]=o.useState({email:"",password:"",remember:!1}),l=c=>{const{name:i,value:a,type:j,checked:C}=c.target;w(b=>({...b,[i]:j==="checkbox"?C:a}))};o.useEffect(()=>{f.GET.message&&u.fire({icon:"info",title:"Mensaje",text:f.GET.message,showConfirmButton:!1,timer:3e3})},[]);const y=async c=>{c.preventDefault(),d(!0);try{const i={email:n.encrypt(r.email),password:n.encrypt(r.password)},a=await k.login(i);if(!a||a.status!==200)throw new Error((a==null?void 0:a.message)||"Credenciales incorrectas");window.location.href="/"}catch(i){u.fire({icon:"error",title:"Error",text:i.message,showConfirmButton:!1,timer:3e3})}finally{d(!1)}},v={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},s={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.5,ease:"easeOut"}}},p={scale:1.02,boxShadow:"0px 5px 15px rgba(0, 0, 0, 0.1)",transition:{duration:.3}},h={scale:.98};return e.jsx(t.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"w-full px-primary mx-auto py-16 font-paragraph",children:e.jsx(t.div,{className:"flex items-center justify-center",variants:v,initial:"hidden",animate:"visible",children:e.jsxs(t.div,{className:"w-full max-w-xl bg-sections-color space-y-6 p-8 rounded-3xl shadow-lg",whileHover:{y:-5},transition:{type:"spring",stiffness:300},children:[e.jsxs(t.div,{className:"space-y-2",variants:s,children:[e.jsx("h5",{className:"font-bold text-base lg:text-lg 2xl:text-xl customtext-neutral-dark",children:"Vamos a ingresar"}),e.jsx(t.h1,{className:"font-semibold tracking-tight text-2xl md:text-3xl lg:text-4xl customtext-neutral-dark",initial:{x:-20},animate:{x:0},transition:{delay:.2},children:"Bienvenido nuevamente"})]}),e.jsxs("form",{className:"grid grid-cols-1 lg:grid-cols-2 gap-y-2 gap-x-3",onSubmit:y,children:[e.jsx(t.div,{className:"lg:col-span-2",variants:s,children:e.jsx(g,{label:"Correo electrónico",type:"email",name:"email",value:r.email,onChange:l,placeholder:"hola@mail.com",required:!0})}),e.jsx(t.div,{className:"lg:col-span-2",variants:s,children:e.jsx(g,{label:"Contraseña",type:"password",name:"password",value:r.password,onChange:l,placeholder:"Ingresa tu contraseña",required:!0})}),e.jsxs(t.div,{className:"flex flex-wrap gap-2 items-center justify-between py-4 lg:col-span-2",variants:s,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"remember",name:"remember",checked:r.remember,onChange:l,className:"h-4 w-4 rounded border-gray-300"}),e.jsx("label",{htmlFor:"remember",className:"text-sm customtext-neutral-dark font-medium",children:"Guardar mis datos"})]}),e.jsxs(t.a,{href:"/forgot-password",className:"text-sm flex gap-2 items-center justify-center customtext-primary font-semibold fill-primary",whileHover:{x:3},children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"17",viewBox:"0 0 14 17",fill:"current",children:e.jsx("path",{d:"M5.79167 11H8.20833L7.75 8.3125C7.98256 8.18831 8.16569 8.00822 8.29942 7.77223C8.43314 7.53626 8.5 7.27544 8.5 6.98979C8.5 6.57993 8.35269 6.22917 8.05808 5.9375C7.76346 5.64583 7.40929 5.5 6.99558 5.5C6.58186 5.5 6.22917 5.64688 5.9375 5.94063C5.64583 6.23438 5.5 6.5875 5.5 7C5.5 7.28344 5.56686 7.54225 5.70058 7.77642C5.83431 8.01057 6.01744 8.18926 6.25 8.3125L5.79167 11ZM7 16.5C5.125 16.0417 3.57292 14.9803 2.34375 13.3158C1.11458 11.6513 0.5 9.80297 0.5 7.77083V3L7 0.5L13.5 3V7.77083C13.5 9.80297 12.8854 11.6513 11.6562 13.3158C10.4271 14.9803 8.875 16.0417 7 16.5ZM7 14.9375C8.44444 14.4896 9.63889 13.5938 10.5833 12.25C11.5278 10.9062 12 9.41319 12 7.77083V4.02083L7 2.10417L2 4.02083V7.77083C2 9.41319 2.47222 10.9062 3.41667 12.25C4.36111 13.5938 5.55556 14.4896 7 14.9375Z",fill:"current"})}),"Olvidé mi contraseña"]})]}),e.jsx(t.button,{type:"submit",className:"w-full lg:col-span-2 rounded-3xl font-medium tracking-wide mt-3 bg-primary px-4 py-3 text-white hover:opacity-90 focus:outline-none",variants:s,whileHover:p,whileTap:h,disabled:m,children:m?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Procesando..."]}):"Ingresar"}),e.jsxs(t.div,{className:"lg:col-span-2 flex items-center my-2",variants:s,children:[e.jsx("div",{className:"flex-grow border-t border-gray-300"}),e.jsx("span",{className:"mx-4 text-sm customtext-neutral-dark",children:"o"}),e.jsx("div",{className:"flex-grow border-t border-gray-300"})]}),e.jsx(t.button,{type:"button",className:"w-full text-sm sm:text-base flex flex-row justify-center items-center border border-neutral-dark gap-2 sm:gap-3 lg:col-span-2 rounded-3xl font-semibold px-2 sm:px-4 py-3 customtext-primary hover:opacity-90 focus:outline-none",variants:s,whileHover:p,whileTap:h,disabled:x,children:x?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Procesando..."]}):e.jsxs(e.Fragment,{children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"21",viewBox:"0 0 20 21",fill:"none",children:[e.jsx("path",{d:"M18.8 10.707C18.8 10.057 18.7417 9.43203 18.6333 8.83203H10V12.382H14.9333C14.7167 13.5237 14.0667 14.4904 13.0917 15.1404V17.4487H16.0667C17.8 15.8487 18.8 13.4987 18.8 10.707Z",fill:"#4285F4"}),e.jsx("path",{d:"M9.99974 19.6667C12.4747 19.6667 14.5497 18.85 16.0664 17.45L13.0914 15.1417C12.2747 15.6917 11.2331 16.025 9.99974 16.025C7.61641 16.025 5.59141 14.4167 4.86641 12.25H1.81641V14.6167C3.32474 17.6083 6.41641 19.6667 9.99974 19.6667Z",fill:"#34A853"}),e.jsx("path",{d:"M4.86536 12.2426C4.68203 11.6926 4.5737 11.1092 4.5737 10.5009C4.5737 9.89258 4.68203 9.30924 4.86536 8.75924V6.39258L1.81536C1.19036 7.62591 0.832031 9.01758 0.832031 10.5009C0.832031 11.9842 1.19036 13.3759 1.81536 14.6092L4.19036 12.7592L4.86536 12.2426Z",fill:"#FBBC05"}),e.jsx("path",{d:"M9.99974 4.98203C11.3497 4.98203 12.5497 5.4487 13.5081 6.3487L16.1331 3.7237C14.5414 2.24036 12.4747 1.33203 9.99974 1.33203C6.41641 1.33203 3.32474 3.39036 1.81641 6.39036L4.86641 8.75703C5.59141 6.59036 7.61641 4.98203 9.99974 4.98203Z",fill:"#EA4335"})]}),"Ingresar con Google"]})}),e.jsx(t.div,{className:"lg:col-span-2 mt-4",variants:s,children:e.jsxs("div",{className:"text-sm text-center customtext-neutral-dark",children:[e.jsx("span",{className:"text-muted font-medium",children:"¿Eres nuevo? "}),e.jsx(t.a,{href:"/crear-cuenta",className:"border-b border-[#F93232] text-[#F93232] hover:opacity-80",whileHover:{scale:1.05},children:"Registrate como persona"}),e.jsx("span",{className:"text-muted font-medium",children:" o "}),e.jsx(t.a,{href:"/registro-comerciante",className:"border-b border-[#F93232] text-[#F93232] hover:opacity-80",whileHover:{scale:1.05},children:"Registrate como comerciante"})]})})]})]})})})}export{T as default};

import{j as a}from"./AboutSimple-Cf8x2fCZ.js";import{S as m}from"./ProductCard-C2H10lUi.js";import{h as x}from"./html2string-CfCixsO3.js";import{H as v}from"./HtmlContent-FTivcJrM.js";import{N as i}from"./Number2Currency-e57Tgsuk.js";import{r as c}from"./index-BH53Isel.js";import{S as w,a as u}from"./BlogCarousel-DpjB9swg.js";import"./index-yBjzXJbu.js";const I=({item:s,cart:p,setCart:g})=>{var t;const[l,d]=c.useState(s==null?void 0:s.image),h=c.useRef(),[o,n]=c.useState(1),j=()=>{const e=structuredClone(p),r=e.findIndex(y=>y.id==s.id);r==-1?e.push({...s,quantity:Number(o||1)}):e[r].quantity++,g(e),m.fire({title:"Producto agregado",text:`Se agregó ${s.name} al carrito`,icon:"success",timer:1500})},f=()=>{n(e=>e+1)},N=()=>{n(e=>e>1?e-1:1)},b=e=>{const r=Number.parseInt(e.target.value);!isNaN(r)&&r>0&&n(r)};return a.jsxs("section",{className:"w-full px-[5%] py-8",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10",children:[a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx("div",{className:"w-full aspect-square rounded-lg overflow-hidden",children:a.jsx("img",{src:`/storage/images/item/${l}`,alt:s==null?void 0:s.name,className:"w-full h-full object-cover object-center","data-aos":"fade-up","data-aos-offset":"150"})}),a.jsxs(w,{slidesPerView:"auto",spaceBetween:12,className:"w-full",children:[a.jsx(u,{className:"!w-[80px]",children:a.jsx("button",{onClick:()=>d(s==null?void 0:s.image),className:`w-[80px] h-[80px] rounded-lg overflow-hidden border-2 ${l===(s==null?void 0:s.image)?"border-green-600":"border-gray-200"}`,children:a.jsx("img",{src:`/storage/images/item/${s==null?void 0:s.image}`,alt:s==null?void 0:s.name,className:"w-full h-full object-cover object-center"})})}),(t=s==null?void 0:s.gallery)==null?void 0:t.map((e,r)=>a.jsx(u,{className:"!w-[80px]",children:a.jsx("button",{onClick:()=>d(e),className:`w-[80px] h-[80px] rounded-lg overflow-hidden border-2 ${l===e?"border-green-600":"border-gray-200"}`,children:a.jsx("img",{src:`/storage/images/item/${e}`,alt:`imagen-${r}`,className:"w-full h-full object-cover object-center"})})},r))]})]}),a.jsxs("div",{className:"flex flex-col gap-5",children:[a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-600",children:[a.jsxs("span",{children:["SKU: ",(s==null?void 0:s.sku)||"N/A"]}),a.jsxs("span",{className:"text-green-600 font-medium",children:["Disponibilidad: ",(s==null?void 0:s.stock)>0?"En stock":"Agotado"]})]}),a.jsx("h1",{className:"font-bold font-title text-3xl text-green-700 leading-none my-4",children:(s==null?void 0:s.name)||"Sin nombre"}),a.jsxs("div",{className:"flex items-baseline gap-3 mt-2",children:[(s==null?void 0:s.discount)&&a.jsxs("span",{className:"text-gray-500 line-through text-lg",children:["S/ ",i(s.price)]}),a.jsxs("span",{className:"font-bold text-3xl",children:["S/ ",i(s==null?void 0:s.final_price)]}),(s==null?void 0:s.discount)&&a.jsxs("span",{className:"bg-red-500 text-white text-sm px-2 py-1 rounded-md",children:["-",Math.round((s.price-s.final_price)/s.price*100),"%"]})]})]}),a.jsxs("div",{className:"mt-2",children:[a.jsx("h3",{className:"font-medium text-lg mb-2",children:"Descripción:"}),a.jsx("p",{className:"text-gray-700",children:(s==null?void 0:s.summary)||x(s==null?void 0:s.description).trim()||"Sin descripción"})]}),((s==null?void 0:s.category)||(s==null?void 0:s.subcategory)||(s==null?void 0:s.brand))&&a.jsxs("div",{className:"mt-2",children:[a.jsx("h3",{className:"font-medium text-lg mb-2",children:"Contenido:"}),a.jsxs("ul",{className:"list-disc pl-5 text-gray-700 space-y-1",children:[(s==null?void 0:s.category)&&a.jsx("li",{children:a.jsx("span",{className:"font-medium",children:s.category.name})}),(s==null?void 0:s.subcategory)&&a.jsx("li",{children:a.jsx("span",{className:"font-medium",children:s.subcategory.name})}),(s==null?void 0:s.brand)&&a.jsx("li",{children:a.jsx("span",{className:"font-medium",children:s.brand.name})})]})]}),a.jsx("div",{className:"mt-4",children:a.jsx("p",{className:"text-gray-700 mb-2",children:"Perfecto para quienes buscan calidad, sabor y productos directamente del productor."})}),a.jsx("div",{className:"mt-4",children:a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{htmlFor:"quantity",className:"font-medium",children:"Cantidad"}),a.jsxs("div",{className:"flex items-center",children:[a.jsxs("div",{className:"flex border border-gray-300 rounded-md",children:[a.jsx("button",{type:"button",onClick:N,className:"px-3 py-2 border-r border-gray-300",children:a.jsx("i",{className:"mdi mdi-minus",size:16})}),a.jsx("input",{id:"quantity",ref:h,type:"number",className:"w-16 text-center focus:outline-none",value:o,onChange:b,min:"1"}),a.jsx("button",{type:"button",onClick:f,className:"px-3 py-2 border-l border-gray-300",children:a.jsx("i",{className:"mdi mdi-plus",size:16})})]}),a.jsx("span",{className:"ml-3 text-gray-600",children:"Máximo 10 unidades."})]})]})}),a.jsxs("div",{className:"mt-4 flex flex-col gap-3",children:[a.jsxs("button",{onClick:j,className:"w-full py-3 bg-green-700 hover:bg-green-800 text-white rounded-md flex items-center justify-center gap-2 transition-colors",children:[a.jsx("i",{className:"mdi mdi-cart-plus",size:20}),a.jsx("span",{children:"Agregar a mi carrito"})]}),a.jsxs("button",{className:"w-full py-3 bg-gray-100 hover:bg-gray-200 text-gray-800 rounded-md flex items-center justify-center gap-2 transition-colors",children:[a.jsx("i",{className:"mdi mdi-heart",size:20}),a.jsx("span",{children:"Lista de favoritos"})]})]})]})]}),x(s==null?void 0:s.description).trim()&&a.jsxs("div",{className:"mt-12 border-t pt-8",children:[a.jsx("h2",{className:"font-bold text-2xl text-green-700 mb-4",children:"Descripción completa"}),a.jsx("div",{className:"text-gray-700 prose ql-editor",children:a.jsx(v,{html:s==null?void 0:s.description})})]})]})};export{I as default};

import{W as A}from"./index.esm-BE8-iLxT.js";import{m as d}from"./main-BSEyQEJW.js";import{G as h}from"./Global-CklCDfn9.js";/* empty css               *//* empty css              */import{G as b}from"./General-BmbBKdsB.js";import{L as k}from"./LaravelSession-Dz9cpV3l.js";const T=g=>{A({resolve:l=>`/${l}.jsx`,setup:({el:l,props:p})=>{const s=p.initialPage.props;if(s!=null&&s.global)for(const o in s.global)h.set(o,s.global[o]);if(s!=null&&s.generals)for(const o in s.generals){const{correlative:e,description:a}=s.generals[o];b.set(e,a)}const c={...s==null?void 0:s.session};for(const o in c)k.set(`${o}`,c[o]);const y=(o,...e)=>{var i,m,f,u;const a=[];if(Array.isArray(o))for(const n of o)a.push(...e.map(r=>`${n}.${r}`));else a.push(...e.map(n=>`${o}.${n}`));if((m=(i=s==null?void 0:s.session)==null?void 0:i.permissions)!=null&&m.find(n=>a.includes(n.name)||n.name=="general.root"))return!0;const t=((f=s==null?void 0:s.session)==null?void 0:f.roles)??[];for(const n of t)if((u=n==null?void 0:n.permissions)!=null&&u.find(r=>a.includes(r.name)||r.name=="general.root"))return!0;return!1},v=(...o)=>{var t;const e=[];return Array.isArray(o)?e.push(...o):e.push(o),!!(((t=s==null?void 0:s.session)==null?void 0:t.roles)??[]).find(i=>e.includes(i.name))};d.FetchParams.headers={Accept:"application/json","Content-Type":"application/json","X-Xsrf-Token":decodeURIComponent(d.Cookies.get("XSRF-TOKEN"))},g(l,{...s,can:y,hasRole:v}),h.APP_ENV=="local"&&$(".modal-backdrop").each(function(){$(this).text()||$(this).remove()})}})};export{T as C};

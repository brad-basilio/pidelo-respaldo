import{j as e}from"./AboutHeader-ClKiNAEV.js";import{r as s}from"./index-DFv2mRv-.js";import{J as w}from"./JSEncrypt-D3I3x59l.js";import{G as b}from"./Global-CklCDfn9.js";import{S as d}from"./ProductCard-NsyC22vv.js";import{m as p}from"./main-rZoj-gSW.js";import{A as g}from"./AuthClientRest-BFHCfg7h.js";import"./___vite-browser-external_commonjs-proxy-BQdpDcDf.js";const j="/build/reset-password.png";function L(){const r=new w;r.setPublicKey(b.PUBLIC_RSA_KEY);const[y,n]=s.useState(!0),i=s.useRef(),l=s.useRef(),c=s.useRef(),m=s.useRef();s.useEffect(()=>{p.GET.message&&d.fire({icon:"info",title:"Mensaje",text:p.GET.message,showConfirmButton:!1,timer:3e3})},[null]),s.useEffect(()=>{const a=new URLSearchParams(window.location.search),t=a.get("token"),o=a.get("email");t?(c.current=t,m.current=o):console.error("No se encontró el token en la URL.")},[]);const f=async a=>{a.preventDefault(),n(!0);const t=i.current.value,o=c.current,u=l.current.value,x=m.current;if(t!==u)return d.fire({icon:"error",title:"Error",text:"Las contraseñas no coinciden",showConfirmButton:!1,timer:3e3});const h={email:r.encrypt(x),password:r.encrypt(t),token:o,confirmation:r.encrypt(u)};if(!await g.resetPassword(h))return n(!1);window.location.href="/"};return e.jsx("div",{className:" w-full px-primary mx-auto py-16 bg-[#F7F9FB]",children:e.jsxs("div",{className:"p-8 lg:grid lg:grid-cols-2 gap-8 bg-white rounded-xl",children:[e.jsx("div",{className:"hidden lg:block",children:e.jsx("img",{src:j,alt:"Imagen decorativa",className:"h-[600px] w-full object-cover rounded-xl"})}),e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsxs("div",{className:"mx-auto w-full max-w-md space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h5",{className:"customtext-primary font-medium",children:"Nueva contraseña"}),e.jsx("h1",{className:"text-3xl font-bold",children:"Restaurar contraseña"}),e.jsx("p",{className:"customtext-neutral-light",children:"Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos."})]}),e.jsxs("form",{className:"space-y-4",onSubmit:f,children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm mb-1 customtext-neutral-dark",htmlFor:"password",children:"Contraseña"}),e.jsx("input",{id:"password",name:"password",ref:i,type:"password",className:"w-full px-4 py-3 border customtext-neutral-dark  border-neutral-ligth rounded-xl focus:ring-0 focus:outline-0   transition-all duration-300",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm mb-1 customtext-neutral-dark",htmlFor:"confirm-password",children:"Confirmar contraseña"}),e.jsx("input",{id:"confirm-password",name:"confirm-password",ref:l,type:"password",className:"w-full px-4 py-3 border customtext-neutral-dark  border-neutral-ligth rounded-xl focus:ring-0 focus:outline-0   transition-all duration-300",required:!0})]}),e.jsx("button",{type:"submit",className:"w-full rounded-xl font-semibold  bg-primary px-4 py-3 text-white hover:opacity-90 focus:outline-none focus:ring-2 transition-all duration-300",children:"Restablecer contraseña"})]})]})})]})})}export{L as default};

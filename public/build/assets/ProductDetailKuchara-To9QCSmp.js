import{j as s}from"./AboutHeader-ClKiNAEV.js";import{S as y}from"./ProductCard-NsyC22vv.js";import{h as i}from"./html2string-CfCixsO3.js";import{H as v}from"./HtmlContent-CDI8HvWQ.js";import{N as x}from"./Number2Currency-e57Tgsuk.js";import{r as c}from"./index-DFv2mRv-.js";import{S as w,a as u}from"./BlogCarousel-KcRRjGtl.js";const z=({item:e,cart:g,setCart:p})=>{var o;const[l,d]=c.useState(e.image),h=c.useRef(),[t,n]=c.useState(1),m=()=>{const a=structuredClone(g),r=a.findIndex(b=>b.id==e.id);r==-1?a.push({...e,quantity:Number(t||1)}):a[r].quantity++,p(a),y.fire({title:"Producto agregado",text:`Se agregó ${e.name} al carrito`,icon:"success",timer:1500})},j=()=>{n(a=>a+1)},f=()=>{n(a=>a>1?a-1:1)},N=a=>{const r=Number.parseInt(a.target.value);!isNaN(r)&&r>0&&n(r)};return s.jsxs("section",{className:"w-full px-[5%] py-8",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10",children:[s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsx("div",{className:"w-full aspect-square rounded-lg overflow-hidden",children:s.jsx("img",{src:`/storage/images/item/${l}`,alt:e==null?void 0:e.name,className:"w-full h-full object-cover object-center","data-aos":"fade-up","data-aos-offset":"150"})}),s.jsxs(w,{slidesPerView:"auto",spaceBetween:12,className:"w-full",children:[s.jsx(u,{className:"!w-[80px]",children:s.jsx("button",{onClick:()=>d(e.image),className:`w-[80px] h-[80px] rounded-lg overflow-hidden border-2 ${l===e.image?"border-green-600":"border-gray-200"}`,children:s.jsx("img",{src:`/storage/images/item/${e.image}`,alt:e==null?void 0:e.name,className:"w-full h-full object-cover object-center"})})}),(o=e.gallery)==null?void 0:o.map((a,r)=>s.jsx(u,{className:"!w-[80px]",children:s.jsx("button",{onClick:()=>d(a),className:`w-[80px] h-[80px] rounded-lg overflow-hidden border-2 ${l===a?"border-green-600":"border-gray-200"}`,children:s.jsx("img",{src:`/storage/images/item/${a}`,alt:`imagen-${r}`,className:"w-full h-full object-cover object-center"})})},r))]})]}),s.jsxs("div",{className:"flex flex-col gap-5",children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-600",children:[s.jsxs("span",{children:["SKU: ",(e==null?void 0:e.sku)||"N/A"]}),s.jsxs("span",{className:"text-green-600 font-medium",children:["Disponibilidad: ",(e==null?void 0:e.stock)>0?"En stock":"Agotado"]})]}),s.jsx("h1",{className:"font-bold font-title text-3xl text-green-700 leading-none my-4",children:e.name||"Sin nombre"}),s.jsxs("div",{className:"flex items-baseline gap-3 mt-2",children:[e.discount&&s.jsxs("span",{className:"text-gray-500 line-through text-lg",children:["S/ ",x(e.price)]}),s.jsxs("span",{className:"font-bold text-3xl",children:["S/ ",x(e.final_price)]}),e.discount&&s.jsxs("span",{className:"bg-red-500 text-white text-sm px-2 py-1 rounded-md",children:["-",Math.round((e.price-e.final_price)/e.price*100),"%"]})]})]}),s.jsxs("div",{className:"mt-2",children:[s.jsx("h3",{className:"font-medium text-lg mb-2",children:"Descripción:"}),s.jsx("p",{className:"text-gray-700",children:e.summary||i(e==null?void 0:e.description).trim()||"Sin descripción"})]}),((e==null?void 0:e.category)||(e==null?void 0:e.subcategory)||(e==null?void 0:e.brand))&&s.jsxs("div",{className:"mt-2",children:[s.jsx("h3",{className:"font-medium text-lg mb-2",children:"Contenido:"}),s.jsxs("ul",{className:"list-disc pl-5 text-gray-700 space-y-1",children:[(e==null?void 0:e.category)&&s.jsx("li",{children:s.jsx("span",{className:"font-medium",children:e.category.name})}),(e==null?void 0:e.subcategory)&&s.jsx("li",{children:s.jsx("span",{className:"font-medium",children:e.subcategory.name})}),(e==null?void 0:e.brand)&&s.jsx("li",{children:s.jsx("span",{className:"font-medium",children:e.brand.name})})]})]}),s.jsx("div",{className:"mt-4",children:s.jsx("p",{className:"text-gray-700 mb-2",children:"Perfecto para quienes buscan calidad, sabor y productos directamente del productor."})}),s.jsx("div",{className:"mt-4",children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("label",{htmlFor:"quantity",className:"font-medium",children:"Cantidad"}),s.jsxs("div",{className:"flex items-center",children:[s.jsxs("div",{className:"flex border border-gray-300 rounded-md",children:[s.jsx("button",{type:"button",onClick:f,className:"px-3 py-2 border-r border-gray-300",children:s.jsx("i",{className:"mdi mdi-minus",size:16})}),s.jsx("input",{id:"quantity",ref:h,type:"number",className:"w-16 text-center focus:outline-none",value:t,onChange:N,min:"1"}),s.jsx("button",{type:"button",onClick:j,className:"px-3 py-2 border-l border-gray-300",children:s.jsx("i",{className:"mdi mdi-plus",size:16})})]}),s.jsx("span",{className:"ml-3 text-gray-600",children:"Máximo 10 unidades."})]})]})}),s.jsxs("div",{className:"mt-2 bg-green-50 p-3 rounded-md flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 bg-green-600 rounded-full flex items-center justify-center text-white",children:s.jsx("span",{children:"S/"})}),s.jsxs("span",{className:"text-green-700",children:["Agrega S/100.00 para ",s.jsx("strong",{children:"ENVÍO GRATIS"})]})]}),s.jsxs("div",{className:"mt-4 flex flex-col gap-3",children:[s.jsxs("button",{onClick:m,className:"w-full py-3 bg-green-700 hover:bg-green-800 text-white rounded-md flex items-center justify-center gap-2 transition-colors",children:[s.jsx("i",{className:"mdi mdi-cart-plus",size:20}),s.jsx("span",{children:"Agregar a mi carrito"})]}),s.jsxs("button",{className:"w-full py-3 bg-gray-100 hover:bg-gray-200 text-gray-800 rounded-md flex items-center justify-center gap-2 transition-colors",children:[s.jsx("i",{className:"mdi mdi-heart",size:20}),s.jsx("span",{children:"Lista de favoritos"})]})]})]})]}),i(e==null?void 0:e.description).trim()&&s.jsxs("div",{className:"mt-12 border-t pt-8",children:[s.jsx("h2",{className:"font-bold text-2xl text-green-700 mb-4",children:"Descripción completa"}),s.jsx("div",{className:"text-gray-700 prose ql-editor",children:s.jsx(v,{html:e==null?void 0:e.description})})]})]})};export{z as default};

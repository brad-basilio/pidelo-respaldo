import{j as e}from"./AboutHeader-COUW3Uy_.js";import{r}from"./index-CqkZ-sT_.js";import{G as I}from"./Global-BM4Id4Pw.js";import{C as $}from"./HeaderSearch-BHrRgLch.js";import"./main-MmatxeHN.js";import{L as k}from"./Logout-BNXlXIaj.js";import{S as g}from"./search-DhoFIDMi.js";import{C as B,a as C}from"./chevron-right-B4p_OAUH.js";import{X as L}from"./x-B-ubJNMX.js";import{C as c,D as S}from"./door-closed-BRCXB6j7.js";import{S as M}from"./shopping-cart-CoCaxy-V.js";import"./index-BdiKzPHY.js";import"./index-VLFqsz8m.js";import"./index-D7Vukm9p.js";import"./CartItemRow-DWjf7t3V.js";import"./tippy-react.esm-HYwDmlWP.js";import"./Number2Currency-e57Tgsuk.js";import"./___vite-browser-external_commonjs-proxy-DA7w84js.js";import"./createLucideIcon-D0vxYqnu.js";function O({search:m,setSearch:b,pages:x,items:h}){const[t,l]=r.useState("main"),[p,d]=r.useState(null),[i,N]=r.useState(null),o=s=>{N(s),console.log(i),d(s),l("subcategories")},w=()=>{t==="subcategories"?l("categories"):t==="categories"&&l("main")},f=s=>{l("categories")},[u,y]=r.useState(),j=()=>{if(t==="main")return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:" customtext-neutral-dark",children:e.jsxs("button",{className:"py-4 border-b border-gray-100 w-full flex justify-between items-center",onClick:()=>f(),children:[e.jsx("span",{children:"Categorias"}),e.jsx(C,{className:"h-5 w-5 customtext-neutral-dark"})]})}),x.map((s,a)=>s.menuable&&e.jsx("button",{className:"customtext-neutral-dark py-4 border-b border-gray-100 flex justify-between items-center",href:s.path,children:e.jsx("span",{children:s.name})},a))]});if(t==="categories")return h.map(s=>e.jsxs("a",{className:" py-4 border-b customtext-neutral-dark border-gray-100 flex justify-between items-center",onClick:()=>o(s.name),href:`/catalogo?category=${s.slug}`,children:[e.jsx("span",{children:s.name}),e.jsx(C,{className:"h-5 w-5 customtext-neutral-dark"})]},s.id));if(t==="subcategories"&&p)return h.find(a=>a.name===p).subcategories.map((a,n)=>e.jsx("a",{href:`/catalogo?subcategory=${a.slug}`,className:"block py-4 customtext-neutral-dark border-b border-gray-100",children:e.jsx("span",{children:a.name})},n))};return e.jsx("div",{className:"w-full fixed h-screen customtext-neutral-dark bg-black/20  max-w-md mx-auto  ",children:e.jsxs("div",{className:"bg-white shadow-lg rounded-lg z-[999]",children:[e.jsx("div",{className:"p-4 bg-white flex justify-between items-center border-b border-gray-200",children:e.jsx("h1",{className:"text-xl font-medium customtext-neutral-dark",children:"Menú principal"})}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"relative mb-4",children:e.jsxs("div",{className:" relative w-full max-w-xl mx-auto",children:[e.jsx("input",{type:"search",placeholder:"Buscar productos",value:m,onChange:s=>b(s.target.value),className:"w-full pr-14 py-4  pl-4 border rounded-full focus:ring-0 focus:outline-none"}),e.jsx("a",{href:m.trim()?`/catalogo?search=${encodeURIComponent(m)}`:"#",className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-2 bg-primary text-white rounded-lg","aria-label":"Buscar",children:e.jsx(g,{})})]})}),t!=="main"&&e.jsxs("button",{onClick:w,className:"flex items-center customtext-primary mb-4 font-semibold",children:[e.jsx(B,{className:"h-5 w-5 mr-1"}),e.jsx("span",{children:"Atrás"})]}),e.jsx("div",{className:"space-y-0 max-h-[350px]  overflow-scroll",children:j()})]})]})})}const Y=({items:m,data:b,cart:x,setCart:h,isUser:t,pages:l})=>{const[p,d]=r.useState(!1),[i,N]=r.useState(!1),[o,w]=r.useState(!1),f=x.reduce((n,v)=>Number(n)+Number(v.quantity),0),[u,y]=r.useState(!1),j=r.useRef(null);r.useEffect(()=>{function n(v){j.current&&!j.current.contains(v.target)&&setIsOpen(!1)}return document.addEventListener("mousedown",n),()=>document.removeEventListener("mousedown",n)},[]);const[s,a]=r.useState("");return e.jsxs("header",{className:`w-full ${i?"fixed h-screen bg-white  z-50":"relative"} `,children:[e.jsxs("div",{className:"px-primary 2xl:px-0 2xl:max-w-7xl mx-auto py-4 font-font-secondary text-base font-semibold",children:[e.jsxs("div",{className:" flex items-center justify-between gap-4 ",children:[e.jsx("a",{href:"/",className:"flex items-center gap-2",children:e.jsx("img",{src:`/assets/resources/logo.png?v=${crypto.randomUUID()}`,alt:I.APP_NAME,className:"h-14  object-contain object-center"})}),e.jsx("button",{onClick:()=>N(!i),className:"flex  md:hidden items-center justify-center bg-primary rounded-lg w-auto h-auto p-2 text-white fill-white transition-all duration-300",children:i?e.jsx(L,{}):e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[e.jsx("path",{d:"M10 5H20",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),e.jsx("path",{d:"M4 12H20",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),e.jsx("path",{d:"M4 19H14",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]})}),e.jsxs("div",{className:"hidden md:block relative w-full max-w-xl mx-auto",children:[e.jsx("input",{type:"search",placeholder:"Buscar productos",value:s,onChange:n=>a(n.target.value),className:"w-full pr-14 py-4  pl-4 border rounded-full focus:ring-0 focus:outline-none"}),e.jsx("a",{href:s.trim()?`/catalogo?search=${encodeURIComponent(s)}`:"#",className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-2 bg-primary text-white rounded-lg","aria-label":"Buscar",children:e.jsx(g,{})})]}),e.jsxs("div",{className:"hidden md:flex items-center gap-4 relative text-sm",children:[t?e.jsxs("button",{className:"customtext-neutral-dark flex items-center gap-2 hover:customtext-primary  pr-6 transition-colors duration-300",onClick:()=>y(!u),children:[e.jsx(c,{className:"customtext-primary"}),e.jsx("span",{className:"hidden md:inline",children:t.name})]}):e.jsxs("a",{href:"/iniciar-sesion",className:"flex items-center gap-2 text-sm",children:[e.jsx(c,{className:"customtext-primary"}),e.jsx("span",{className:"hidden md:inline",children:"Iniciar Sesión"})]}),u&&e.jsx("div",{className:"absolute z-50 top-full left-0 bg-white shadow-xl border-t rounded-xl transition-all duration-300 ease-in-out w-40 mt-2",children:e.jsx("div",{className:"p-4",children:e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsxs("a",{href:"#",className:"flex items-center gap-2 customtext-neutral-dark text-xs hover:customtext-primary transition-colors duration-300 cursor-pointer",children:[e.jsx(c,{className:"customtext-primary",height:"1rem"}),e.jsx("span",{children:"Mi cuenta"})]})}),e.jsx("li",{children:e.jsxs("a",{href:"#",onClick:k,className:"flex items-center gap-2 customtext-neutral-dark text-xs hover:customtext-primary transition-colors duration-300 cursor-pointer",children:[e.jsx(S,{className:"customtext-primary",height:"1rem"}),e.jsx("span",{children:"Cerrar sesión"})]})})]})})}),e.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 text-sm relative",children:[e.jsx("div",{className:"customtext-primary",children:e.jsx(M,{})}),e.jsx("span",{className:"hidden md:inline",children:"Mi Carrito"}),e.jsx("span",{className:"absolute -right-6 -top-2 inline-flex items-center justify-center w-5 h-5 text-xs bg-primary text-white rounded-full",children:f})]})]})]}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsx("div",{className:"flex  md:hidden relative w-auto",children:e.jsx("button",{onClick:()=>w(!o),className:`${o?"hidden":"block"} px-3 py-2 bg-primary text-white rounded-lg`,"aria-label":"Buscar",children:e.jsx(g,{width:"1rem"})})}),e.jsxs("div",{className:`${o?"block":"hidden"}  relative w-full max-w-xl mx-auto`,children:[e.jsx("input",{type:"search",placeholder:"Buscar productos",value:s,onChange:n=>a(n.target.value),className:"w-full pr-14 py-4  pl-4 border rounded-full focus:ring-0 focus:outline-none"}),e.jsx("a",{href:s.trim()?`/catalogo?search=${encodeURIComponent(s)}`:"#",className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-2 bg-primary text-white rounded-lg","aria-label":"Buscar",children:e.jsx(g,{})})]}),e.jsxs("div",{className:`${o?"hidden":"flex"}  md:hidden items-center gap-4 relative text-sm`,children:[t?e.jsxs("button",{className:"customtext-neutral-dark flex items-center gap-2 hover:customtext-primary  pr-6 transition-colors duration-300",onClick:()=>y(!u),children:[e.jsx(c,{className:"customtext-primary"}),e.jsx("span",{className:"hidden md:inline",children:t.name})]}):e.jsxs("a",{href:"/iniciar-sesion",className:"flex items-center gap-2 text-sm",children:[e.jsx(c,{className:"customtext-primary",width:"1.3rem"}),e.jsx("span",{className:" md:inline",children:"Iniciar Sesión"})]}),u&&e.jsx("div",{className:"absolute z-50 top-full left-0 bg-white shadow-xl border-t rounded-xl transition-all duration-300 ease-in-out w-40 mt-2",children:e.jsx("div",{className:"p-4",children:e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsxs("a",{href:"#",className:"flex items-center gap-2 customtext-neutral-dark text-xs hover:customtext-primary transition-colors duration-300 cursor-pointer",children:[e.jsx(c,{className:"customtext-primary",height:"1rem"}),e.jsx("span",{children:"Mi cuenta"})]})}),e.jsx("li",{children:e.jsxs("a",{href:"#",onClick:k,className:"flex items-center gap-2 customtext-neutral-dark text-xs hover:customtext-primary transition-colors duration-300 cursor-pointer",children:[e.jsx(S,{className:"customtext-primary",height:"1rem"}),e.jsx("span",{children:"Cerrar sesión"})]})})]})})}),e.jsxs("button",{onClick:()=>d(!0),className:"flex  items-center gap-2 text-sm relative",children:[e.jsx("div",{className:"customtext-primary",children:e.jsx(M,{width:"1.3rem"})}),e.jsx("span",{className:"text-wrap md:inline",children:"Mi Carrito"}),e.jsx("span",{className:"absolute -right-2 -top-3 inline-flex items-center justify-center w-4 h-4  bg-primary text-white rounded-full text-[8px]",children:f})]})]})]})]}),e.jsx("div",{className:`${i?"block":"hidden"}  lg:hidden bg-white text-textWhite shadow-lg w-full min-h-screen absolute z-10 top-20`,children:e.jsx(O,{search:s,setSearch:a,pages:l,items:m})}),e.jsx($,{data:b,cart:x,setCart:h,modalOpen:p,setModalOpen:d})]})};export{Y as default};

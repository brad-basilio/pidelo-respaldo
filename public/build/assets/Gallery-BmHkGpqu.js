import{j as t}from"./ModalImportItem-ClKiNAEV.js";import{r as m}from"./index-DFv2mRv-.js";import{c as u}from"./ReactAppend-D9rqaU78.js";import{B as g}from"./Base-CnoP34n1.js";import{C as f}from"./CreateReactScript-C556Y6YC.js";import{G as x}from"./GalleryRest-CH7s6dY7.js";import"./index-Sd7so-oN.js";import"./Global-BM4Id4Pw.js";import"./tippy-react.esm-CGYKl-Jd.js";/* empty css              */import"./Logout-CnsEv7kI.js";import"./main-rZoj-gSW.js";import"./___vite-browser-external_commonjs-proxy-BQdpDcDf.js";import"./MenuItemContainer-DimihTIG.js";import"./index.esm-Cw4Q9yGE.js";/* empty css               */import"./General-BmbBKdsB.js";import"./BasicEditing-DktVQ8WO.js";function h(r){return r.toString().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s-]/g,"").trim().replace(/\s+/g,"-").replace(/-+/g,"-")}const j=new x,b=({images:r=[]})=>{const[i,c]=m.useState(r.map(e=>(e.uuid=crypto.randomUUID(),e)));m.useEffect(()=>{$(".image-popup").magnificPopup({type:"image",closeOnContentClick:!0,mainClass:"mfp-fade",gallery:{enabled:!0,navigateByImgClick:!0,preload:[0,1]}})},[null]);const p=async e=>{var l;const o=((l=e.target.files)==null?void 0:l[0])??null;if(!o)return;e.target.value=null;const s=e.target.name,a=new FormData;a.append("image",o),a.append("name",s),await j.save(a)&&c(d=>d.map(n=>(n.src==s&&(n.uuid=crypto.randomUUID()),n)))};return t.jsx("div",{className:"port",children:t.jsx("div",{className:"row portfolioContainer",children:i.map((e,o)=>{const s=h(e.name);return t.jsx("div",{className:"col-xl-3 col-lg-4 col-md-6 natural personal",children:t.jsxs("div",{className:"gal-detail thumb",children:[t.jsxs("div",{style:{position:"relative"},children:[t.jsx("img",{src:`/assets/resources/${e.src}?v=${e.uuid}`,className:"thumb-img img-fluid",alt:"work-thumbnail",onError:a=>a.target.src="/assets/resources/cover-404.svg",style:{aspectRatio:e.aspect,objectFit:e.fit,objectPosition:"center",width:"100%"}}),t.jsxs("div",{className:"d-flex px-2 py-1 justify-content-center gap-1",style:{backgroundColor:"rgba(0, 0, 0, .25)",position:"absolute",bottom:0,width:"100%",borderRadius:"0 0 3px 3px"},children:[t.jsxs("a",{href:`/assets/resources/${e.src}`,className:"btn btn-xs btn-primary image-popup",title:e.name,children:[t.jsx("i",{className:"mdi mdi-eye me-1"}),"Abrir"]}),t.jsx("input",{type:"file",name:e.src,id:`image-${s}`,onChange:p,hidden:!0,accept:"image/*"}),t.jsxs("label",{htmlFor:`image-${s}`,className:"btn btn-xs btn-dark",children:[t.jsx("i",{className:"mdi mdi-image-edit me-1"}),"Cambiar"]})]})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("h4",{children:e.name}),t.jsx("p",{className:"font-13 text-muted mb-2",children:e.description})]})]})},o)})})})};f((r,i)=>{u(r).render(t.jsx(g,{...i,title:"Galeria",children:t.jsx(b,{...i})}))});

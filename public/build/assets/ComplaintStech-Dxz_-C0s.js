import{j as e}from"./AboutHeader-COUW3Uy_.js";import{r as u}from"./index-CqkZ-sT_.js";import{I as r}from"./InputForm-Bi0MO6kS.js";const g=()=>{const[a,d]=u.useState({name:"",email:"",phone:"",dni:"",type:"queja",incident_date:"",order_number:"",priority:"media",description:"",files:[]}),[s,c]=u.useState(""),l=n=>{const{name:o,value:t}=n.target;d({...a,[o]:t})},m=n=>{d({...a,files:n.target.files})},p=async n=>{n.preventDefault();const o=new FormData;for(const t in a)if(t==="files")for(let i=0;i<a.files.length;i++)o.append("files[]",a.files[i]);else o.append(t,a[t]);try{const t=await fetch("/api/complaints",{method:"POST",body:o});if(!t.ok)throw new Error("Error al registrar el reclamo");const i=await t.json();c("Reclamo registrado con éxito"),console.log(i)}catch(t){c("Error al registrar el reclamo: "+t.message)}};return e.jsxs("div",{className:"max-w-3xl mx-auto p-6 bg-white shadow-lg rounded-lg customtext-neutral-dark",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6 text-center uppercase",children:"Libro de Reclamaciones"}),e.jsxs("form",{onSubmit:p,className:"gap-4 grid grid-cols-2",children:[e.jsx(r,{label:"Nombre Completo *",type:"text",name:"name",value:a.name,onChange:l,placeholder:"Apellidos y Nombres"}),e.jsx(r,{label:"Email *",type:"email",name:"email",value:a.email,onChange:l,placeholder:"hola@mail.com"}),e.jsx(r,{label:"Teléfono *",type:"number",name:"phone",value:a.phone,onChange:l,placeholder:"hola@mail.com"}),e.jsx(r,{label:"DNI *",type:"number",name:"dni",value:a.dni,onChange:l,placeholder:"DNI"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm mb-1 customtext-neutral-dark ",children:"Tipo de Reclamo *"}),e.jsxs("select",{name:"type",onChange:l,required:!0,defaultValue:a.type,className:"w-full px-4 py-3 border customtext-neutral-dark  border-neutral-ligth rounded-xl focus:ring-0 focus:outline-0   transition-all duration-300",children:[e.jsx("option",{value:"queja",children:"Queja"}),e.jsx("option",{value:"sugerencia",children:"Sugerencia"}),e.jsx("option",{value:"reclamo técnico",children:"Reclamo Técnico"})]})]}),e.jsx(r,{label:" Fecha del Incidente *",type:"date",name:"incident_date",value:a.incident_date,onChange:l,placeholder:"Fecha del Incidente"}),e.jsx(r,{label:"Número de Pedido *",type:"text",name:"order_number",value:a.order_number,onChange:l,placeholder:"Número de Pedido"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm mb-1 customtext-neutral-dark",children:"Prioridad *"}),e.jsxs("select",{name:"priority",onChange:l,required:!0,defaultValue:a.priority,className:"w-full px-4 py-3 border customtext-neutral-dark  border-neutral-ligth rounded-xl focus:ring-0 focus:outline-0   transition-all duration-300",children:[e.jsx("option",{value:"baja",children:"Baja"}),e.jsx("option",{value:"media",children:"Media"}),e.jsx("option",{value:"alta",children:"Alta"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm mb-1 customtext-neutral-dark",children:"Descripción *"}),e.jsx("textarea",{name:"description",placeholder:"Descripción",onChange:l,required:!0,className:"w-full px-4 py-3 border customtext-neutral-dark  border-neutral-ligth rounded-xl focus:ring-0 focus:outline-0   transition-all duration-300"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm mb-1 customtext-neutral-dark",children:"Archivos Adjuntos"}),e.jsx("input",{type:"file",name:"files",multiple:!0,onChange:m,className:"w-full px-4 py-3 border customtext-neutral-dark  border-neutral-ligth rounded-xl focus:ring-0 focus:outline-0   transition-all duration-300"})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",className:"w-full rounded-xl font-semibold  bg-primary px-4 py-3 text-white hover:opacity-90 focus:outline-none focus:ring-2 transition-all duration-300",children:"Enviar Reclamo"})}),s&&e.jsx("div",{className:`mt-4 p-4 rounded-md ${s.includes("éxito")?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:s})]})]})};export{g as default};

import{j as e}from"./AboutHeader-COUW3Uy_.js";import{r as c}from"./index-CqkZ-sT_.js";import{I}from"./ItemsRest-COC0wVJZ.js";import{S as $}from"./ProductCard-DppMoL6U.js";import{m as E}from"./main-CkMzf7wF.js";import{c as m}from"./createLucideIcon-D0vxYqnu.js";import{S as B}from"./store-CtJtA-U3.js";import{P as M}from"./phone-LCO3hN9L.js";import{C as _}from"./chevron-up-pTvdWUhf.js";import{C as j}from"./chevron-down-CxOx8ByU.js";import{S as q}from"./shopping-cart-CoCaxy-V.js";import{P as A}from"./plus-asfJjyt_.js";import"./BasicEditing-CqE15M_Q.js";import"./___vite-browser-external_commonjs-proxy-DA7w84js.js";/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=m("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=m("CircleUserRound",[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=m("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=m("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);function se({item:t,data:V,setCart:u,cart:d}){const f=new I,[i,h]=c.useState({url:t.image,type:"main"}),[x,g]=c.useState(1),N=a=>{let s=parseInt(a.target.value,10);(isNaN(s)||s<1)&&(s=1),s>10&&(s=10),g(s)},[p,b]=c.useState(!1),y=a=>{const s=structuredClone(d),l=s.findIndex(r=>r.id==a.id);l==-1?s.push({...a,quantity:x}):s[l].quantity++,u(s),$.fire({title:"Producto agregado",text:`Se agregó ${a.name} al carrito`,icon:"success",timer:1500})},[n,v]=c.useState([]);d==null||d.find(a=>a.id==(t==null?void 0:t.id)),c.useEffect(()=>{t!=null&&t.id&&w(t)},[t]);const w=async a=>{try{const s={id:a.id},l=await f.verifyCombo(s);if(!l)return;const r=l[0].associated_items;v(Object.values(r))}catch{return}},k=n.reduce((a,s)=>a+parseFloat(s.final_price),0),[o,C]=c.useState(!1),F=()=>{u(a=>{const s=structuredClone(a);return[...n,t].forEach(l=>{const r=s.findIndex(S=>S.id===l.id);r===-1?s.push({...l,quantity:x}):s[r].quantity++}),s}),E.Notify.add({icon:"/assets/img/icon.svg",title:"Carrito de Compras",body:"Se agregaron con éxito los productos"})};return e.jsxs("div",{className:"px-primary mx-auto py-12 bg-[#F7F9FB] ",children:[e.jsx("div",{className:"bg-white rounded-xl p-8",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("button",{onClick:()=>h({url:t.image,type:"main"}),className:`w-16 h-16 border rounded-lg p-2 ${i.url===t.image?"border-blue-400":"border-gray-200"}`,children:e.jsx("img",{src:`/api/items/media/${t.image}`,alt:"Main Thumbnail",className:"w-full h-full object-contain"})}),t.images.map((a,s)=>e.jsx("button",{onClick:()=>h({url:a.url,type:"gallery"}),className:`w-16 h-16 border rounded-lg p-2 ${i.url===a.url?"border-blue-400":"border-gray-200"}`,children:e.jsx("img",{src:`/api/item_images/media/${a.url}`,alt:`Thumbnail ${s+1}`,className:"w-full h-full object-contain"})},s))]}),e.jsx("div",{className:"flex-1",children:e.jsx("img",{src:i.type==="main"?`/api/items/media/${i.url}`:`/api/item_images/media/${i.url}`,alt:"Product main",className:"w-full h-auto object-contain"})})]}),e.jsx("div",{className:"border rounded-lg",children:e.jsxs("div",{className:"flex gap-6 items-center justify-center py-4 customtext-neutral-dark",children:[e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"bg-[#F7F9FB] py-4 px-5 rounded-full w-max h-max",children:e.jsx(H,{className:"w-6 h-6 mx-auto mb-1 customtext-primary"})}),e.jsx("p",{className:"font-semibold text-sm",children:"Despacho"}),e.jsx("p",{className:"font-semibold text-sm",children:"a domicilio"})]}),e.jsxs("div",{className:"p-4 text-center",children:[e.jsx("div",{className:"bg-[#F7F9FB] py-4 px-5 rounded-full w-max h-max",children:e.jsx(B,{className:"w-6 h-6 mx-auto mb-1 customtext-primary"})}),e.jsx("p",{className:"font-semibold text-sm",children:"Retira"}),e.jsx("p",{className:"font-semibold text-sm",children:"en tienda"})]})]})}),e.jsxs("div",{className:"mt-8 bg-[#F7F9FB] rounded-lg p-6 space-y-4 customtext-neutral-dark",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(M,{className:"w-5 h-5 customtext-primary"}),e.jsx("span",{className:"text-sm font-semibold",children:"¿Necesitas ayuda? Llámanos al 012037074"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm ",children:[e.jsx(R,{className:"w-5 h-5 customtext-primary"}),e.jsx("span",{className:"text-sm font-semibold",children:"Soporte técnico"})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("p",{className:"customtext-neutral-light text-sm",children:["Marca: ",e.jsx("span",{className:"customtext-neutral-dark",children:t.brand.name})]}),e.jsx("h1",{className:"customtext-neutral-dark text-[40px] font-bold mt-2",children:t.name})]}),e.jsxs("div",{className:"flex customtext-neutral-light items-center gap-8 text-sm mb-6",children:[e.jsxs("span",{className:"customtext-neutral-light text-sm",children:["SKU:  ",e.jsx("span",{className:"customtext-neutral-dark",children:t.sku})]}),e.jsxs("span",{className:"ustomtext-neutral-light text-sm",children:["Disponibilidad:"," ",e.jsx("span",{className:"customtext-neutral-dark",children:t.stock>0?"En stock":"Agotado"})]})]}),e.jsxs("div",{className:"flex gap-8 border-b-2 pb-8",children:[e.jsx("div",{className:"flex-1 w-6/12 ",children:e.jsxs("div",{className:"bg-[#F7F9FB] rounded-lg p-6",children:[e.jsx("h3",{className:"font-medium text-sm mb-4",children:"Especificaciones principales"}),e.jsx("ul",{className:`space-y-2  customtext-neutral-light mb-4 transition-all duration-300 ${o?"max-h-full":"max-h-24 overflow-hidden"}`,style:{listStyleType:"disc"},children:t.specifications.map((a,s)=>a.type==="principal"&&e.jsxs("li",{className:"flex gap-2",children:[e.jsx(P,{className:"customtext-primary"}),a.description]},s))}),e.jsxs("button",{className:"customtext-primary text-sm font-semibold hover:underline flex items-center gap-1 transition-all duration-300",onClick:()=>C(!o),children:[o?"Ver menos":"Ver más especificaciones",o?e.jsx(_,{className:"w-4 h-4"}):e.jsx(j,{className:"w-4 h-4"})]})]})}),e.jsxs("div",{className:" w-6/12 ",children:[e.jsxs("p",{className:"text-sm customtext-neutral-light mb-1",children:["Precio:"," ",e.jsxs("span",{className:"line-through",children:["S/ ",t.price]})]}),e.jsxs("div",{className:"flex items-center gap-4 ",children:[e.jsxs("span",{className:"text-[40px] font-bold",children:["S/ ",t.final_price]}),e.jsxs("span",{className:"bg-[#F93232] text-white font-bold px-3 py-2 rounded-xl",children:["-",Number(t.discount_percent).toFixed(1),"%"]})]}),e.jsx("div",{className:"mt-4",children:e.jsx("div",{className:"flex items-center gap-4 mb-2",children:e.jsxs("div",{className:"flex items-center space-x-4 customtext-neutral-light text-sm",children:[e.jsx("span",{className:"",children:"Cantidad"}),e.jsx("div",{className:"relative flex items-center border rounded-md px-2 py-1",children:e.jsx("input",{type:"number",value:x,onChange:N,min:"1",max:"10",className:"w-10 py-1 customtext-neutral-dark text-center bg-transparent outline-none appearance-none"})}),e.jsx("span",{className:"",children:"Máximo 10 unidades."})]})})}),e.jsx("button",{onClick:()=>y(t),className:"w-full bg-primary text-white py-3 font-bold shadow-lg rounded-xl hover:opacity-90 transition-all duration-300 mt-4",children:"Agregar al carrito"})]})]}),e.jsxs("div",{className:"mt-8 ",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(q,{className:"w-6 h-6 customtext-primary"}),e.jsx("h2",{className:"text-base font-semibold",children:"Completa tu compra con estos productos"})]}),e.jsxs("div",{className:" flex gap-4",children:[e.jsx("div",{className:"w-2/3 flex gap-2",children:n.map((a,s)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:`/api/items/media/${a.image}`,className:" rounded-lg aspect-square w-24 h-24 object-cover bg-[#F7F9FB]"}),s<n.length-1&&e.jsx("span",{className:"text-2xl font-bold",children:e.jsx(A,{})})]},s))}),e.jsxs("div",{className:" w-1/3 flex flex-col justify-between items-end bg-gray-50 p-4 rounded-lg mt-4",children:[e.jsx("span",{className:"text-xs font-semibold customtext-neutral-light",children:"Total"}),e.jsxs("p",{className:"font-bold mb-2 customtext-neutral-dark",children:["S/ ",k.toFixed(2)]}),e.jsx("button",{onClick:()=>F(),className:"bg-primary text-xs font-semibold text-white w-full py-3 rounded-xl hover:opacity-90 transition-all duration-300 hover:shadow-md",children:"Agregar al carrito"})]})]}),n.map((a,s)=>e.jsxs("div",{className:"flex mt-4 gap-4 p-4 border rounded-lg items-center",children:[e.jsx(T,{className:"w-5 h-5 customtext-primary"}),e.jsxs("div",{className:"flex-1 font-semibold",children:[e.jsx("span",{className:"text-[10px] customtext-neutral-dark block",children:a.brand.name}),e.jsx("p",{className:"text-sm customtext-neutral-light font-medium",children:a.name})]}),e.jsxs("p",{className:"font-bold customtext-neutral-dark",children:["S/"," ",parseFloat(a.final_price).toFixed(2)]})]},s))]})]})]})}),e.jsxs("div",{className:" grid gap-20 md:grid-cols-2 bg-white rounded-xl p-8 mt-12",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold customtext-neutral-dark mb-4 border-b pb-4",children:"Especificaciones"}),e.jsx("div",{className:"space-y-1",children:t.specifications.map((a,s)=>a.type==="general"&&e.jsxs("div",{className:`grid grid-cols-2 gap-4 p-4 ${s%2===0?"bg-[#F7F9FB]":"bg-white"}`,children:[e.jsx("div",{className:"customtext-neutral-light",children:a.title}),e.jsx("div",{className:"customtext-neutral-dark",children:a.description})]},s))})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold customtext-neutral-dark mb-4 border-b pb-4",children:"Información adicional"}),e.jsxs("div",{className:`space-y-2 ${p?"":"max-h-[400px] overflow-hidden"}`,children:[e.jsx("h3",{className:"text-xl font-semibold customtext-neutral-dark mb-4",children:"Acerca de este artículo"}),e.jsx("div",{className:"customtext-neutral-dark",dangerouslySetInnerHTML:{__html:t.description}}),e.jsx("div",{className:"pl-10",children:e.jsx("ul",{className:"list-disc pl-5 space-y-2",children:t.features.map((a,s)=>e.jsx("li",{className:"customtext-neutral-dark",children:a.feature},s))})})]}),e.jsxs("botton",{variant:"ghost",className:"border-2 border-primary  w-max px-5 py-3  my-8  rounded-xl flex items-center gap-2 customtext-primary font-semibold cursor-pointer",onClick:()=>b(!p),children:["Ver más",e.jsx(j,{className:`transform transition-transform ${p?"rotate-180":""}`})]})]})]})]})}export{se as default};

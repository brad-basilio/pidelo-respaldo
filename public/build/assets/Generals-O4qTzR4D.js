var K=Object.defineProperty;var Y=(i,r,l)=>r in i?K(i,r,{enumerable:!0,configurable:!0,writable:!0,value:l}):i[r]=l;var B=(i,r,l)=>Y(i,typeof r!="symbol"?r+"":r,l);import{j as e}from"./AboutSimple-Cf8x2fCZ.js";import{r as I}from"./index-BH53Isel.js";import{L as J,G as O,M as V}from"./esm-hESa1MbP.js";import{B as X}from"./Base-CkYSVkcX.js";import{B as Z}from"./ModalImportItem-CLbXqjux.js";import{C as ee}from"./CreateReactScript-H8Uf0Xeb.js";import{c as ae}from"./ReactAppend-DTVVXReZ.js";import{Q as p}from"./QuillFormGroup-D8zDHSfJ.js";import{T as le}from"./TextareaFormGroup-CdwdsTk2.js";import{G as te}from"./Global-CklCDfn9.js";import"./index-yBjzXJbu.js";import"./index-rimy3MAc.js";import"./index-fNjTmf9T.js";import"./tippy-react.esm-BWiGTO87.js";/* empty css              */import"./Logout-CGCqvje3.js";import"./main-BSEyQEJW.js";import"./___vite-browser-external_commonjs-proxy-0zb4Agf2.js";import"./MenuItemContainer-BkmzVQNY.js";import"./index.esm-BE8-iLxT.js";/* empty css               */import"./General-BmbBKdsB.js";import"./LaravelSession-Dz9cpV3l.js";class se extends Z{constructor(){super(...arguments);B(this,"path","admin/generals")}}const ie=new se,oe=({generals:i})=>{var v,x,j,N,g,f,y,C,k,P,_,q,w,A,W,$,F,T,E,G,R,D,M,H,S,L;const r=((v=i.find(a=>a.correlative=="location"))==null?void 0:v.description)??"0,0",[l,s]=I.useState({phones:((N=(j=(x=i.find(a=>a.correlative=="phone_contact"))==null?void 0:x.description)==null?void 0:j.split(","))==null?void 0:N.map(a=>a.trim()))??[""],emails:((y=(f=(g=i.find(a=>a.correlative=="email_contact"))==null?void 0:g.description)==null?void 0:f.split(","))==null?void 0:y.map(a=>a.trim()))??[""],cintillo:((C=i.find(a=>a.correlative=="cintillo"))==null?void 0:C.description)??"",copyright:((k=i.find(a=>a.correlative=="copyright"))==null?void 0:k.description)??"",address:((P=i.find(a=>a.correlative=="address"))==null?void 0:P.description)??"",openingHours:((_=i.find(a=>a.correlative=="opening_hours"))==null?void 0:_.description)??"",supportPhone:((q=i.find(a=>a.correlative=="support_phone"))==null?void 0:q.description)??"",supportEmail:((w=i.find(a=>a.correlative=="support_email"))==null?void 0:w.description)??"",privacyPolicy:((A=i.find(a=>a.correlative=="privacy_policy"))==null?void 0:A.description)??"",termsConditions:((W=i.find(a=>a.correlative=="terms_conditions"))==null?void 0:W.description)??"",deliveryPolicy:(($=i.find(a=>a.correlative=="delivery_policy"))==null?void 0:$.description)??"",salebackPolicy:((F=i.find(a=>a.correlative=="saleback_policy"))==null?void 0:F.description)??"",phoneWhatsapp:((T=i.find(a=>a.correlative=="phone_whatsapp"))==null?void 0:T.description)??"",messageWhatsapp:((E=i.find(a=>a.correlative=="message_whatsapp"))==null?void 0:E.description)??"",location:{lat:Number(r.split(",").map(a=>a.trim())[0]),lng:Number(r.split(",").map(a=>a.trim())[1])},culqi:((G=i.find(a=>a.correlative=="culqi"))==null?void 0:G.description)??""}),[n,m]=I.useState("contact"),h=(a,t,o)=>{const{value:c}=a.target,d=[...l[o]];d[t]=c,s(z=>({...z,[o]:d}))},u=a=>{s(t=>({...t,[a]:[...t[a],""]}))},b=(a,t)=>{const o=[...l[t]];o.splice(a,1),s(c=>({...c,[t]:o}))},Q=a=>{s(t=>({...t,location:{lat:a.latLng.lat(),lng:a.latLng.lng()}}))},U=async a=>{a.preventDefault();try{await ie.save([{correlative:"phone_contact",name:"Teléfono de contacto",description:l.phones.join(",")},{correlative:"email_contact",name:"Correo de contacto",description:l.emails.join(",")},{correlative:"address",name:"Dirección",description:l.address},{correlative:"cintillo",name:"Cintillo",description:l.cintillo},{correlative:"copyright",name:"Copyright",description:l.copyright},{correlative:"opening_hours",name:"Horarios de atención",description:l.openingHours},{correlative:"support_phone",name:"Número de soporte",description:l.supportPhone},{correlative:"support_email",name:"Correo de soporte",description:l.supportEmail},{correlative:"privacy_policy",name:"Política de privacidad",description:l.privacyPolicy},{correlative:"terms_conditions",name:"Términos y condiciones",description:l.termsConditions},{correlative:"delivery_policy",name:"Políticas de envío",description:l.deliveryPolicy},{correlative:"saleback_policy",name:"Políticas de devolucion y cambio",description:l.salebackPolicy},{correlative:"phone_whatsapp",name:"Número de Whatsapp",description:l.phoneWhatsapp},{correlative:"message_whatsapp",name:"Mensaje de Whatsapp",description:l.messageWhatsapp},{correlative:"location",name:"Ubicación",description:`${l.location.lat},${l.location.lng}`}])}catch(t){console.error("Error al guardar los datos:",t)}};return e.jsx("div",{className:"card",children:e.jsxs("form",{className:"card-body",onSubmit:U,children:[e.jsxs("ul",{className:"nav nav-tabs",id:"contactTabs",role:"tablist",children:[e.jsx("li",{className:"nav-item",role:"presentation",children:e.jsx("button",{className:`nav-link ${n==="contact"?"active":""}`,onClick:()=>m("contact"),type:"button",role:"tab",children:"Información de Contacto"})}),e.jsx("li",{className:"nav-item",role:"presentation",children:e.jsx("button",{className:`nav-link ${n==="checkout"?"active":""}`,onClick:()=>m("checkout"),type:"button",role:"tab",children:"Métodos de Pago"})}),e.jsx("li",{className:"nav-item",role:"presentation",children:e.jsx("button",{className:`nav-link ${n==="policies"?"active":""}`,onClick:()=>m("policies"),type:"button",role:"tab",children:"Políticas y Términos"})}),e.jsx("li",{className:"nav-item",role:"presentation",children:e.jsx("button",{className:`nav-link ${n==="location"?"active":""}`,onClick:()=>m("location"),type:"button",role:"tab",children:"Ubicación"})})]}),e.jsxs("div",{className:"tab-content",id:"contactTabsContent",children:[e.jsxs("div",{className:`tab-pane fade ${n==="contact"?"show active":""}`,role:"tabpanel",children:[e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[l.phones.map((a,t)=>e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{htmlFor:`phone-${t}`,className:"form-label",children:["Teléfono ",t+1]}),e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:"tel",className:"form-control",id:`phone-${t}`,value:a,onChange:o=>h(o,t,"phones"),required:!0}),e.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:()=>b(t,"phones"),children:e.jsx("i",{className:"fa fa-trash"})})]})]},`phone-${t}`)),e.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>u("phones"),children:"Agregar teléfono"})]}),e.jsxs("div",{className:"col-md-6",children:[l.emails.map((a,t)=>e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{htmlFor:`email-${t}`,className:"form-label",children:["Correo ",t+1]}),e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:"text",className:"form-control",id:`email-${t}`,value:a,onChange:o=>h(o,t,"emails"),required:!0}),e.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:()=>b(t,"emails"),children:e.jsx("i",{className:"fa fa-trash"})})]})]},`email-${t}`)),e.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>u("emails"),children:"Agregar correo"})]})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{htmlFor:"cintillo",className:"form-label",children:"Cintillo"}),e.jsx("textarea",{className:"form-control",id:"cintillo",value:l.cintillo,onChange:a=>s({...l,cintillo:a.target.value})})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{htmlFor:"copyright",className:"form-label",children:"Copyright"}),e.jsx("textarea",{className:"form-control",id:"copyright",value:l.copyright,onChange:a=>s({...l,copyright:a.target.value})})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{htmlFor:"address",className:"form-label",children:"Dirección"}),e.jsx("textarea",{className:"form-control",id:"address",value:l.address,onChange:a=>s({...l,address:a.target.value}),required:!0})]}),e.jsx("div",{className:"mb-2",children:e.jsx(le,{label:"Horarios de atencion",onChange:a=>s({...l,openingHours:a.target.value}),value:l.openingHours,required:!0})}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{htmlFor:"supportPhone",className:"form-label",children:"Número de soporte"}),e.jsx("input",{type:"tel",className:"form-control",id:"supportPhone",value:l.supportPhone,onChange:a=>s({...l,supportPhone:a.target.value}),required:!0})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{htmlFor:"supportEmail",className:"form-label",children:"Correo de soporte"}),e.jsx("input",{type:"email",className:"form-control",id:"supportEmail",value:l.supportEmail,onChange:a=>s({...l,supportEmail:a.target.value}),required:!0})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{htmlFor:"phoneWhatsapp",className:"form-label",children:"Número de Whatsapp"}),e.jsx("input",{type:"tel",className:"form-control",id:"phoneWhatsapp",value:l.phoneWhatsapp,onChange:a=>s({...l,phoneWhatsapp:a.target.value}),required:!0})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{htmlFor:"messageWhatsapp",className:"form-label",children:"Mensaje de Whatsapp"}),e.jsx("input",{type:"tel",className:"form-control",id:"messageWhatsapp",value:l.messageWhatsapp,onChange:a=>s({...l,messageWhatsapp:a.target.value}),required:!0})]})]}),e.jsx("div",{className:`tab-pane fade ${n==="checkout"?"show active":""}`,role:"tabpanel",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-sm-3",children:e.jsxs("div",{className:"nav flex-column nav-pills nav-pills-tab",id:"v-pills-tab",role:"tablist","aria-orientation":"vertical",children:[e.jsx("a",{className:"nav-link active show mb-1",id:"v-culqi-tab","data-bs-toggle":"pill",href:"#v-culqi",role:"tab","aria-controls":"v-culqi","aria-selected":"true",children:"Culqi"}),e.jsx("a",{className:"nav-link mb-1",id:"v-digital-wallet-tab","data-bs-toggle":"pill",href:"#v-digital-wallet",role:"tab","aria-controls":"v-digital-wallet","aria-selected":"false",children:"Yape / Plin"}),e.jsx("a",{className:"nav-link mb-1",id:"v-transfer-tab","data-bs-toggle":"pill",href:"#v-transfer",role:"tab","aria-controls":"v-transfer","aria-selected":"false",children:"Transferencia"})]})}),e.jsx("div",{className:"col-sm-9",children:e.jsxs("div",{className:"tab-content pt-0",children:[e.jsxs("div",{className:"tab-pane fade active show",id:"v-culqi",role:"tabpanel","aria-labelledby":"v-culqi-tab",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Título del formulario"}),e.jsx("input",{type:"text",className:"form-control",value:(R=l.culqi)==null?void 0:R.name,onChange:a=>s({...l,culqi:{...l.culqi,name:a.target.value}})})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Clave Pública"}),e.jsx("input",{type:"text",className:"form-control",value:(D=l.culqi)==null?void 0:D.public_key,onChange:a=>s({...l,culqi:{...l.culqi,public_key:a.target.value}})})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Clave Privada"}),e.jsx("input",{type:"password",className:"form-control",value:(M=l.culqi)==null?void 0:M.private_key,onChange:a=>s({...l,culqi:{...l.culqi,private_key:a.target.value}})})]})]}),e.jsxs("div",{className:"tab-pane fade",id:"v-digital-wallet",role:"tabpanel","aria-labelledby":"v-digital-wallet-tab",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"QR"}),e.jsx("input",{type:"file",className:"form-control",accept:"image/*",onChange:a=>{const t=a.target.files[0];if(t){const o=new FileReader;o.onloadend=()=>{s({...l,digitalWallet:{...l.digitalWallet,qr:o.result}})},o.readAsDataURL(t)}}})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Título"}),e.jsx("input",{type:"text",className:"form-control",value:(H=l.digitalWallet)==null?void 0:H.title,onChange:a=>s({...l,digitalWallet:{...l.digitalWallet,title:a.target.value}})})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Descripción"}),e.jsx("textarea",{className:"form-control",value:(S=l.digitalWallet)==null?void 0:S.description,onChange:a=>s({...l,digitalWallet:{...l.digitalWallet,description:a.target.value}})})]})]}),e.jsxs("div",{className:"tab-pane fade",id:"v-transfer",role:"tabpanel","aria-labelledby":"v-transfer-tab",children:[(L=l.bankAccounts)==null?void 0:L.map((a,t)=>e.jsxs("div",{className:"border rounded p-3 mb-3",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"CCI"}),e.jsx("input",{type:"text",className:"form-control",value:a.cci,onChange:o=>{const c=[...l.bankAccounts];c[t].cci=o.target.value,s({...l,bankAccounts:c})}})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Título"}),e.jsx("input",{type:"text",className:"form-control",value:a.title,onChange:o=>{const c=[...l.bankAccounts];c[t].title=o.target.value,s({...l,bankAccounts:c})}})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Descripción"}),e.jsx("textarea",{className:"form-control",value:a.description,onChange:o=>{const c=[...l.bankAccounts];c[t].description=o.target.value,s({...l,bankAccounts:c})}})]}),l.bankAccounts.length>1&&e.jsx("button",{type:"button",className:"btn btn-danger",onClick:()=>{const o=l.bankAccounts.filter((c,d)=>d!==t);s({...l,bankAccounts:o})},children:"Eliminar cuenta"})]},t)),e.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>s({...l,bankAccounts:[...l.bankAccounts,{cci:"",title:"",description:""}]}),children:"Agregar cuenta"})]})]})})]})}),e.jsxs("div",{className:`tab-pane fade ${n==="policies"?"show active":""}`,role:"tabpanel",children:[e.jsx("div",{className:"mb-2",children:e.jsx(p,{label:"Política de privacidad",value:l.privacyPolicy,onChange:a=>s({...l,privacyPolicy:a})})}),e.jsx("div",{className:"mb-2",children:e.jsx(p,{label:"Términos y condiciones",value:l.termsConditions,onChange:a=>s({...l,termsConditions:a})})}),e.jsx("div",{className:"mb-2",children:e.jsx(p,{label:"Políticas de envío",value:l.deliveryPolicy,onChange:a=>s({...l,deliveryPolicy:a})})}),e.jsx("div",{className:"mb-2",children:e.jsx(p,{label:"Políticas de devolución y cambio",value:l.salebackPolicy,onChange:a=>s({...l,salebackPolicy:a})})})]}),e.jsxs("div",{className:`tab-pane fade ${n==="location"?"show active":""}`,role:"tabpanel",children:[e.jsx(J,{googleMapsApiKey:te.GMAPS_API_KEY,children:e.jsx(O,{mapContainerStyle:{width:"100%",height:"400px"},center:l.location,zoom:10,onClick:Q,children:e.jsx(V,{position:l.location})})}),e.jsx("small",{className:"form-text text-muted",children:"Haz clic en el mapa para seleccionar la ubicación."})]})]}),e.jsx("button",{type:"submit",className:"btn btn-primary mt-3",children:"Guardar"})]})})};ee((i,r)=>{ae.createRoot(i).render(e.jsx(X,{...r,title:"Datos Generales",children:e.jsx(oe,{...r})}))});

import{j as i}from"./AboutSimple-Cf8x2fCZ.js";import{r as h}from"./index-BH53Isel.js";import{c as J}from"./createLucideIcon-Cy5Ya80P.js";import{e as ir}from"./index-BSWw-p5k.js";import{C as or}from"./chevron-left-B2s3ZsB7.js";import{T as ar}from"./trash-2-DK1wnsDn.js";import"./index-yBjzXJbu.js";/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=J("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=J("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=J("Move",[["polyline",{points:"5 9 2 12 5 15",key:"1r5uj5"}],["polyline",{points:"9 5 12 2 15 5",key:"5v383o"}],["polyline",{points:"15 19 12 22 9 19",key:"g7qi8m"}],["polyline",{points:"19 9 22 12 19 15",key:"tpp73q"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=J("Redo2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=J("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=J("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]),_t=h.createContext({dragDropManager:void 0});function L(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var Ct=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),St=function(){return Math.random().toString(36).substring(7).split("").join(".")},Tt={INIT:"@@redux/INIT"+St(),REPLACE:"@@redux/REPLACE"+St()};function gr(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function At(t,e,r){var n;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(L(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(L(1));return r(At)(t,e)}if(typeof t!="function")throw new Error(L(2));var s=t,o=e,c=[],a=c,u=!1;function g(){a===c&&(a=c.slice())}function x(){if(u)throw new Error(L(3));return o}function C(d){if(typeof d!="function")throw new Error(L(4));if(u)throw new Error(L(5));var v=!0;return g(),a.push(d),function(){if(v){if(u)throw new Error(L(6));v=!1,g();var D=a.indexOf(d);a.splice(D,1),c=null}}}function m(d){if(!gr(d))throw new Error(L(7));if(typeof d.type>"u")throw new Error(L(8));if(u)throw new Error(L(9));try{u=!0,o=s(o,d)}finally{u=!1}for(var v=c=a,S=0;S<v.length;S++){var D=v[S];D()}return d}function f(d){if(typeof d!="function")throw new Error(L(10));s=d,m({type:Tt.REPLACE})}function O(){var d,v=C;return d={subscribe:function(D){if(typeof D!="object"||D===null)throw new Error(L(11));function P(){D.next&&D.next(x())}P();var R=v(P);return{unsubscribe:R}}},d[Ct]=function(){return this},d}return m({type:Tt.INIT}),n={dispatch:m,subscribe:C,getState:x,replaceReducer:f},n[Ct]=O,n}function y(t,e,...r){if(hr()&&e===void 0)throw new Error("invariant requires an error message argument");if(!t){let n;if(e===void 0)n=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let s=0;n=new Error(e.replace(/%s/g,function(){return r[s++]})),n.name="Invariant Violation"}throw n.framesToPop=1,n}}function hr(){return typeof process<"u"&&!0}function fr(t,e,r){return e.split(".").reduce((n,s)=>n&&n[s]?n[s]:r||null,t)}function pr(t,e){return t.filter(r=>r!==e)}function $t(t){return typeof t=="object"}function mr(t,e){const r=new Map,n=o=>{r.set(o,r.has(o)?r.get(o)+1:1)};t.forEach(n),e.forEach(n);const s=[];return r.forEach((o,c)=>{o===1&&s.push(c)}),s}function vr(t,e){return t.filter(r=>e.indexOf(r)>-1)}const Ce="dnd-core/INIT_COORDS",oe="dnd-core/BEGIN_DRAG",Se="dnd-core/PUBLISH_DRAG_SOURCE",ae="dnd-core/HOVER",ce="dnd-core/DROP",le="dnd-core/END_DRAG";function Ot(t,e){return{type:Ce,payload:{sourceClientOffset:e||null,clientOffset:t||null}}}const xr={type:Ce,payload:{clientOffset:null,sourceClientOffset:null}};function yr(t){return function(r=[],n={publishSource:!0}){const{publishSource:s=!0,clientOffset:o,getSourceClientOffset:c}=n,a=t.getMonitor(),u=t.getRegistry();t.dispatch(Ot(o)),br(r,a,u);const g=Cr(r,a);if(g==null){t.dispatch(xr);return}let x=null;if(o){if(!c)throw new Error("getSourceClientOffset must be defined");Dr(c),x=c(g)}t.dispatch(Ot(o,x));const m=u.getSource(g).beginDrag(a,g);if(m==null)return;wr(m),u.pinSource(g);const f=u.getSourceType(g);return{type:oe,payload:{itemType:f,item:m,sourceId:g,clientOffset:o||null,sourceClientOffset:x||null,isSourcePublic:!!s}}}}function br(t,e,r){y(!e.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(n){y(r.getSource(n),"Expected sourceIds to be registered.")})}function Dr(t){y(typeof t=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function wr(t){y($t(t),"Item must be an object.")}function Cr(t,e){let r=null;for(let n=t.length-1;n>=0;n--)if(e.canDragSource(t[n])){r=t[n];break}return r}function Sr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable}))),n.forEach(function(s){Sr(t,s,r[s])})}return t}function Or(t){return function(r={}){const n=t.getMonitor(),s=t.getRegistry();Er(n),jr(n).forEach((c,a)=>{const u=Ir(c,a,s,n),g={type:ce,payload:{dropResult:Tr({},r,u)}};t.dispatch(g)})}}function Er(t){y(t.isDragging(),"Cannot call drop while not dragging."),y(!t.didDrop(),"Cannot call drop twice during one drag operation.")}function Ir(t,e,r,n){const s=r.getTarget(t);let o=s?s.drop(n,t):void 0;return Nr(o),typeof o>"u"&&(o=e===0?{}:n.getDropResult()),o}function Nr(t){y(typeof t>"u"||$t(t),"Drop result must either be an object or undefined.")}function jr(t){const e=t.getTargetIds().filter(t.canDropOnTarget,t);return e.reverse(),e}function Pr(t){return function(){const r=t.getMonitor(),n=t.getRegistry();Mr(r);const s=r.getSourceId();return s!=null&&(n.getSource(s,!0).endDrag(r,s),n.unpinSource()),{type:le}}}function Mr(t){y(t.isDragging(),"Cannot call endDrag while not dragging.")}function xe(t,e){return e===null?t===null:Array.isArray(t)?t.some(r=>r===e):t===e}function Rr(t){return function(r,{clientOffset:n}={}){kr(r);const s=r.slice(0),o=t.getMonitor(),c=t.getRegistry(),a=o.getItemType();return Hr(s,c,a),Lr(s,o,c),_r(s,o,c),{type:ae,payload:{targetIds:s,clientOffset:n||null}}}}function kr(t){y(Array.isArray(t),"Expected targetIds to be an array.")}function Lr(t,e,r){y(e.isDragging(),"Cannot call hover while not dragging."),y(!e.didDrop(),"Cannot call hover after drop.");for(let n=0;n<t.length;n++){const s=t[n];y(t.lastIndexOf(s)===n,"Expected targetIds to be unique in the passed array.");const o=r.getTarget(s);y(o,"Expected targetIds to be registered.")}}function Hr(t,e,r){for(let n=t.length-1;n>=0;n--){const s=t[n],o=e.getTargetType(s);xe(o,r)||t.splice(n,1)}}function _r(t,e,r){t.forEach(function(n){r.getTarget(n).hover(e,n)})}function Ar(t){return function(){if(t.getMonitor().isDragging())return{type:Se}}}function $r(t){return{beginDrag:yr(t),publishDragSource:Ar(t),hover:Rr(t),drop:Or(t),endDrag:Pr(t)}}class Fr{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:r}=this.store;function n(o){return(...c)=>{const a=o.apply(e,c);typeof a<"u"&&r(a)}}const s=$r(this);return Object.keys(s).reduce((o,c)=>{const a=s[c];return o[c]=n(a),o},{})}dispatch(e){this.store.dispatch(e)}constructor(e,r){this.isSetUp=!1,this.handleRefCountChange=()=>{const n=this.store.getState().refCount>0;this.backend&&(n&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!n&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=r,e.subscribe(this.handleRefCountChange)}}function Ur(t,e){return{x:t.x+e.x,y:t.y+e.y}}function Ft(t,e){return{x:t.x-e.x,y:t.y-e.y}}function qr(t){const{clientOffset:e,initialClientOffset:r,initialSourceClientOffset:n}=t;return!e||!r||!n?null:Ft(Ur(e,n),r)}function Vr(t){const{clientOffset:e,initialClientOffset:r}=t;return!e||!r?null:Ft(e,r)}const ee=[],Te=[];ee.__IS_NONE__=!0;Te.__IS_ALL__=!0;function Gr(t,e){return t===ee?!1:t===Te||typeof e>"u"?!0:vr(e,t).length>0}class Br{subscribeToStateChange(e,r={}){const{handlerIds:n}=r;y(typeof e=="function","listener must be a function."),y(typeof n>"u"||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let s=this.store.getState().stateId;const o=()=>{const c=this.store.getState(),a=c.stateId;try{a===s||a===s+1&&!Gr(c.dirtyHandlerIds,n)||e()}finally{s=a}};return this.store.subscribe(o)}subscribeToOffsetChange(e){y(typeof e=="function","listener must be a function.");let r=this.store.getState().dragOffset;const n=()=>{const s=this.store.getState().dragOffset;s!==r&&(r=s,e())};return this.store.subscribe(n)}canDragSource(e){if(!e)return!1;const r=this.registry.getSource(e);return y(r,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:r.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const r=this.registry.getTarget(e);if(y(r,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const n=this.registry.getTargetType(e),s=this.getItemType();return xe(n,s)&&r.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const r=this.registry.getSource(e,!0);if(y(r,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const n=this.registry.getSourceType(e),s=this.getItemType();return n!==s?!1:r.isDragging(this,e)}isOverTarget(e,r={shallow:!1}){if(!e)return!1;const{shallow:n}=r;if(!this.isDragging())return!1;const s=this.registry.getTargetType(e),o=this.getItemType();if(o&&!xe(s,o))return!1;const c=this.getTargetIds();if(!c.length)return!1;const a=c.indexOf(e);return n?a===c.length-1:a>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return qr(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return Vr(this.store.getState().dragOffset)}constructor(e,r){this.store=e,this.registry=r}}const Et=typeof global<"u"?global:self,Ut=Et.MutationObserver||Et.WebKitMutationObserver;function qt(t){return function(){const r=setTimeout(s,0),n=setInterval(s,50);function s(){clearTimeout(r),clearInterval(n),t()}}}function Xr(t){let e=1;const r=new Ut(t),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){e=-e,n.data=e}}const zr=typeof Ut=="function"?Xr:qt;class Yr{enqueueTask(e){const{queue:r,requestFlush:n}=this;r.length||(n(),this.flushing=!0),r[r.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const r=this.index;if(this.index++,e[r].call(),this.index>this.capacity){for(let n=0,s=e.length-this.index;n<s;n++)e[n]=e[n+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=zr(this.flush),this.requestErrorThrow=qt(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class Wr{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,r){this.onError=e,this.release=r,this.task=null}}class Zr{create(e){const r=this.freeTasks,n=r.length?r.pop():new Wr(this.onError,s=>r[r.length]=s);return n.task=e,n}constructor(e){this.onError=e,this.freeTasks=[]}}const Vt=new Yr,Jr=new Zr(Vt.registerPendingError);function Qr(t){Vt.enqueueTask(Jr.create(t))}const Oe="dnd-core/ADD_SOURCE",Ee="dnd-core/ADD_TARGET",Ie="dnd-core/REMOVE_SOURCE",de="dnd-core/REMOVE_TARGET";function Kr(t){return{type:Oe,payload:{sourceId:t}}}function en(t){return{type:Ee,payload:{targetId:t}}}function tn(t){return{type:Ie,payload:{sourceId:t}}}function rn(t){return{type:de,payload:{targetId:t}}}function nn(t){y(typeof t.canDrag=="function","Expected canDrag to be a function."),y(typeof t.beginDrag=="function","Expected beginDrag to be a function."),y(typeof t.endDrag=="function","Expected endDrag to be a function.")}function sn(t){y(typeof t.canDrop=="function","Expected canDrop to be a function."),y(typeof t.hover=="function","Expected hover to be a function."),y(typeof t.drop=="function","Expected beginDrag to be a function.")}function ye(t,e){if(e&&Array.isArray(t)){t.forEach(r=>ye(r,!1));return}y(typeof t=="string"||typeof t=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var H;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(H||(H={}));let on=0;function an(){return on++}function cn(t){const e=an().toString();switch(t){case H.SOURCE:return`S${e}`;case H.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${t}`)}}function It(t){switch(t[0]){case"S":return H.SOURCE;case"T":return H.TARGET;default:throw new Error(`Cannot parse handler ID: ${t}`)}}function Nt(t,e){const r=t.entries();let n=!1;do{const{done:s,value:[,o]}=r.next();if(o===e)return!0;n=!!s}while(!n);return!1}class ln{addSource(e,r){ye(e),nn(r);const n=this.addHandler(H.SOURCE,e,r);return this.store.dispatch(Kr(n)),n}addTarget(e,r){ye(e,!0),sn(r);const n=this.addHandler(H.TARGET,e,r);return this.store.dispatch(en(n)),n}containsHandler(e){return Nt(this.dragSources,e)||Nt(this.dropTargets,e)}getSource(e,r=!1){return y(this.isSourceId(e),"Expected a valid source ID."),r&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return y(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return y(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return y(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return It(e)===H.SOURCE}isTargetId(e){return It(e)===H.TARGET}removeSource(e){y(this.getSource(e),"Expected an existing source."),this.store.dispatch(tn(e)),Qr(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){y(this.getTarget(e),"Expected an existing target."),this.store.dispatch(rn(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const r=this.getSource(e);y(r,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=r}unpinSource(){y(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,r,n){const s=cn(e);return this.types.set(s,r),e===H.SOURCE?this.dragSources.set(s,n):e===H.TARGET&&this.dropTargets.set(s,n),s}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const dn=(t,e)=>t===e;function un(t,e){return!t&&!e?!0:!t||!e?!1:t.x===e.x&&t.y===e.y}function gn(t,e,r=dn){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!r(t[n],e[n]))return!1;return!0}function hn(t=ee,e){switch(e.type){case ae:break;case Oe:case Ee:case de:case Ie:return ee;case oe:case Se:case le:case ce:default:return Te}const{targetIds:r=[],prevTargetIds:n=[]}=e.payload,s=mr(r,n);if(!(s.length>0||!gn(r,n)))return ee;const c=n[n.length-1],a=r[r.length-1];return c!==a&&(c&&s.push(c),a&&s.push(a)),s}function fn(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable}))),n.forEach(function(s){fn(t,s,r[s])})}return t}const jt={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function mn(t=jt,e){const{payload:r}=e;switch(e.type){case Ce:case oe:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case ae:return un(t.clientOffset,r.clientOffset)?t:pn({},t,{clientOffset:r.clientOffset});case le:case ce:return jt;default:return t}}function vn(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Z(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable}))),n.forEach(function(s){vn(t,s,r[s])})}return t}const xn={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function yn(t=xn,e){const{payload:r}=e;switch(e.type){case oe:return Z({},t,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case Se:return Z({},t,{isSourcePublic:!0});case ae:return Z({},t,{targetIds:r.targetIds});case de:return t.targetIds.indexOf(r.targetId)===-1?t:Z({},t,{targetIds:pr(t.targetIds,r.targetId)});case ce:return Z({},t,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case le:return Z({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}}function bn(t=0,e){switch(e.type){case Oe:case Ee:return t+1;case Ie:case de:return t-1;default:return t}}function Dn(t=0){return t+1}function wn(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable}))),n.forEach(function(s){wn(t,s,r[s])})}return t}function Sn(t={},e){return{dirtyHandlerIds:hn(t.dirtyHandlerIds,{type:e.type,payload:Cn({},e.payload,{prevTargetIds:fr(t,"dragOperation.targetIds",[])})}),dragOffset:mn(t.dragOffset,e),refCount:bn(t.refCount,e),dragOperation:yn(t.dragOperation,e),stateId:Dn(t.stateId)}}function Tn(t,e=void 0,r={},n=!1){const s=On(n),o=new Br(s,new ln(s)),c=new Fr(s,o),a=t(c,e,r);return c.receiveBackend(a),c}function On(t){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return At(Sn,t&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function En(t,e){if(t==null)return{};var r=In(t,e),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function In(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,o;for(o=0;o<n.length;o++)s=n[o],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}let Pt=0;const se=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var Nn=h.memo(function(e){var{children:r}=e,n=En(e,["children"]);const[s,o]=jn(n);return h.useEffect(()=>{if(o){const c=Gt();return++Pt,()=>{--Pt===0&&(c[se]=null)}}},[]),i.jsx(_t.Provider,{value:s,children:r})});function jn(t){if("manager"in t)return[{dragDropManager:t.manager},!1];const e=Pn(t.backend,t.context,t.options,t.debugMode),r=!t.context;return[e,r]}function Pn(t,e=Gt(),r,n){const s=e;return s[se]||(s[se]={dragDropManager:Tn(t,e,r,n)}),s[se]}function Gt(){return typeof global<"u"?global:window}const X=typeof window<"u"?h.useLayoutEffect:h.useEffect;function Bt(t,e,r){const[n,s]=h.useState(()=>e(t)),o=h.useCallback(()=>{const c=e(t);ir(n,c)||(s(c),r&&r())},[n,t,r]);return X(o),[n,o]}function Mn(t,e,r){const[n,s]=Bt(t,e,r);return X(function(){const c=t.getHandlerId();if(c!=null)return t.subscribeToStateChange(s,{handlerIds:[c]})},[t,s]),n}function Xt(t,e,r){return Mn(e,t||(()=>({})),()=>r.reconnect())}function zt(t,e){const r=[];return typeof t!="function"&&r.push(t),h.useMemo(()=>typeof t=="function"?t():t,r)}function Rn(t){return h.useMemo(()=>t.hooks.dragSource(),[t])}function kn(t){return h.useMemo(()=>t.hooks.dragPreview(),[t])}let he=!1,fe=!1;class Ln{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){y(!he,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return he=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{he=!1}}isDragging(){if(!this.sourceId)return!1;y(!fe,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return fe=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{fe=!1}}subscribeToStateChange(e,r){return this.internalMonitor.subscribeToStateChange(e,r)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,r){return this.internalMonitor.isOverTarget(e,r)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let pe=!1;class Hn{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,r){return this.internalMonitor.subscribeToStateChange(e,r)}canDrop(){if(!this.targetId)return!1;y(!pe,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return pe=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{pe=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function _n(t,e,r){const n=r.getRegistry(),s=n.addTarget(t,e);return[s,()=>n.removeTarget(s)]}function An(t,e,r){const n=r.getRegistry(),s=n.addSource(t,e);return[s,()=>n.removeSource(s)]}function be(t,e,r,n){let s;if(s!==void 0)return!!s;if(t===e)return!0;if(typeof t!="object"||!t||typeof e!="object"||!e)return!1;const o=Object.keys(t),c=Object.keys(e);if(o.length!==c.length)return!1;const a=Object.prototype.hasOwnProperty.bind(e);for(let u=0;u<o.length;u++){const g=o[u];if(!a(g))return!1;const x=t[g],C=e[g];if(s=void 0,s===!1||s===void 0&&x!==C)return!1}return!0}function De(t){return t!==null&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function $n(t){if(typeof t.type=="string")return;const e=t.type.displayName||t.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function Fn(t){return(e=null,r=null)=>{if(!h.isValidElement(e)){const o=e;return t(o,r),o}const n=e;return $n(n),Un(n,r?o=>t(o,r):t)}}function Yt(t){const e={};return Object.keys(t).forEach(r=>{const n=t[r];if(r.endsWith("Ref"))e[r]=t[r];else{const s=Fn(n);e[r]=()=>s}}),e}function Mt(t,e){typeof t=="function"?t(e):t.current=e}function Un(t,e){const r=t.ref;return y(typeof r!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),r?h.cloneElement(t,{ref:n=>{Mt(r,n),Mt(e,n)}}):h.cloneElement(t,{ref:e})}class qn{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,r=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return r&&this.disconnectDragSource(),this.handlerId?e?(r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),r):(this.lastConnectedDragSource=e,r):r}reconnectDragPreview(e=!1){const r=this.dragPreview,n=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(n&&this.disconnectDragPreview(),!!this.handlerId){if(!r){this.lastConnectedDragPreview=r;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=r,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,r,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!be(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!be(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=Yt({dragSource:(r,n)=>{this.clearDragSource(),this.dragSourceOptions=n||null,De(r)?this.dragSourceRef=r:this.dragSourceNode=r,this.reconnectDragSource()},dragPreview:(r,n)=>{this.clearDragPreview(),this.dragPreviewOptions=n||null,De(r)?this.dragPreviewRef=r:this.dragPreviewNode=r,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class Vn{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const r=this.dropTarget;if(this.handlerId){if(!r){this.lastConnectedDropTarget=r;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=r,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,r,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!be(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=Yt({dropTarget:(r,n)=>{this.clearDropTarget(),this.dropTargetOptions=n,De(r)?this.dropTargetRef=r:this.dropTargetNode=r,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function z(){const{dragDropManager:t}=h.useContext(_t);return y(t!=null,"Expected drag drop context"),t}function Gn(t,e){const r=z(),n=h.useMemo(()=>new qn(r.getBackend()),[r]);return X(()=>(n.dragSourceOptions=t||null,n.reconnect(),()=>n.disconnectDragSource()),[n,t]),X(()=>(n.dragPreviewOptions=e||null,n.reconnect(),()=>n.disconnectDragPreview()),[n,e]),n}function Bn(){const t=z();return h.useMemo(()=>new Ln(t),[t])}class Xn{beginDrag(){const e=this.spec,r=this.monitor;let n=null;return typeof e.item=="object"?n=e.item:typeof e.item=="function"?n=e.item(r):n={},n??null}canDrag(){const e=this.spec,r=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(r):!0}isDragging(e,r){const n=this.spec,s=this.monitor,{isDragging:o}=n;return o?o(s):r===e.getSourceId()}endDrag(){const e=this.spec,r=this.monitor,n=this.connector,{end:s}=e;s&&s(r.getItem(),r),n.reconnect()}constructor(e,r,n){this.spec=e,this.monitor=r,this.connector=n}}function zn(t,e,r){const n=h.useMemo(()=>new Xn(t,e,r),[e,r]);return h.useEffect(()=>{n.spec=t},[t]),n}function Yn(t){return h.useMemo(()=>{const e=t.type;return y(e!=null,"spec.type must be defined"),e},[t])}function Wn(t,e,r){const n=z(),s=zn(t,e,r),o=Yn(t);X(function(){if(o!=null){const[a,u]=An(o,s,n);return e.receiveHandlerId(a),r.receiveHandlerId(a),u}},[n,e,r,s,o])}function Wt(t,e){const r=zt(t);y(!r.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const n=Bn(),s=Gn(r.options,r.previewOptions);return Wn(r,n,s),[Xt(r.collect,n,s),Rn(s),kn(s)]}function Zn(t){const r=z().getMonitor(),[n,s]=Bt(r,t);return h.useEffect(()=>r.subscribeToOffsetChange(s)),h.useEffect(()=>r.subscribeToStateChange(s)),n}function Jn(t){return h.useMemo(()=>t.hooks.dropTarget(),[t])}function Qn(t){const e=z(),r=h.useMemo(()=>new Vn(e.getBackend()),[e]);return X(()=>(r.dropTargetOptions=t||null,r.reconnect(),()=>r.disconnectDropTarget()),[t]),r}function Kn(){const t=z();return h.useMemo(()=>new Hn(t),[t])}function es(t){const{accept:e}=t;return h.useMemo(()=>(y(t.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}class ts{canDrop(){const e=this.spec,r=this.monitor;return e.canDrop?e.canDrop(r.getItem(),r):!0}hover(){const e=this.spec,r=this.monitor;e.hover&&e.hover(r.getItem(),r)}drop(){const e=this.spec,r=this.monitor;if(e.drop)return e.drop(r.getItem(),r)}constructor(e,r){this.spec=e,this.monitor=r}}function rs(t,e){const r=h.useMemo(()=>new ts(t,e),[e]);return h.useEffect(()=>{r.spec=t},[t]),r}function ns(t,e,r){const n=z(),s=rs(t,e),o=es(t);X(function(){const[a,u]=_n(o,s,n);return e.receiveHandlerId(a),r.receiveHandlerId(a),u},[n,e,s,r,o.map(c=>c.toString()).join("|")])}function ue(t,e){const r=zt(t),n=Kn(),s=Qn(r.options);return ns(r,n,s),[Xt(r.collect,n,s),Jn(s)]}function Zt(t){let e=null;return()=>(e==null&&(e=t()),e)}function ss(t,e){return t.filter(r=>r!==e)}function is(t,e){const r=new Set,n=o=>r.add(o);t.forEach(n),e.forEach(n);const s=[];return r.forEach(o=>s.push(o)),s}class os{enter(e){const r=this.entered.length,n=s=>this.isNodeInDocument(s)&&(!s.contains||s.contains(e));return this.entered=is(this.entered.filter(n),[e]),r===0&&this.entered.length>0}leave(e){const r=this.entered.length;return this.entered=ss(this.entered.filter(this.isNodeInDocument),e),r>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class as{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const r={};Object.keys(this.config.exposeProperties).forEach(n=>{const s=this.config.exposeProperties[n];s!=null&&(r[n]={value:s(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,r)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,r){return r===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const Jt="__NATIVE_FILE__",Qt="__NATIVE_URL__",Kt="__NATIVE_TEXT__",er="__NATIVE_HTML__",Rt=Object.freeze(Object.defineProperty({__proto__:null,FILE:Jt,HTML:er,TEXT:Kt,URL:Qt},Symbol.toStringTag,{value:"Module"}));function me(t,e,r){const n=e.reduce((s,o)=>s||t.getData(o),"");return n??r}const we={[Jt]:{exposeProperties:{files:t=>Array.prototype.slice.call(t.files),items:t=>t.items,dataTransfer:t=>t},matchesTypes:["Files"]},[er]:{exposeProperties:{html:(t,e)=>me(t,e,""),dataTransfer:t=>t},matchesTypes:["Html","text/html"]},[Qt]:{exposeProperties:{urls:(t,e)=>me(t,e,"").split(`
`),dataTransfer:t=>t},matchesTypes:["Url","text/uri-list"]},[Kt]:{exposeProperties:{text:(t,e)=>me(t,e,""),dataTransfer:t=>t},matchesTypes:["Text","text/plain"]}};function cs(t,e){const r=we[t];if(!r)throw new Error(`native type ${t} has no configuration`);const n=new as(r);return n.loadDataTransfer(e),n}function ve(t){if(!t)return null;const e=Array.prototype.slice.call(t.types||[]);return Object.keys(we).filter(r=>{const n=we[r];return n!=null&&n.matchesTypes?n.matchesTypes.some(s=>e.indexOf(s)>-1):!1})[0]||null}const ls=Zt(()=>/firefox/i.test(navigator.userAgent)),tr=Zt(()=>!!window.safari);class kt{interpolate(e){const{xs:r,ys:n,c1s:s,c2s:o,c3s:c}=this;let a=r.length-1;if(e===r[a])return n[a];let u=0,g=c.length-1,x;for(;u<=g;){x=Math.floor(.5*(u+g));const f=r[x];if(f<e)u=x+1;else if(f>e)g=x-1;else return n[x]}a=Math.max(0,g);const C=e-r[a],m=C*C;return n[a]+s[a]*C+o[a]*m+c[a]*C*m}constructor(e,r){const{length:n}=e,s=[];for(let f=0;f<n;f++)s.push(f);s.sort((f,O)=>e[f]<e[O]?-1:1);const o=[],c=[];let a,u;for(let f=0;f<n-1;f++)a=e[f+1]-e[f],u=r[f+1]-r[f],o.push(a),c.push(u/a);const g=[c[0]];for(let f=0;f<o.length-1;f++){const O=c[f],d=c[f+1];if(O*d<=0)g.push(0);else{a=o[f];const v=o[f+1],S=a+v;g.push(3*S/((S+v)/O+(S+a)/d))}}g.push(c[c.length-1]);const x=[],C=[];let m;for(let f=0;f<g.length-1;f++){m=c[f];const O=g[f],d=1/o[f],v=O+g[f+1]-m-m;x.push((m-O-v)*d),C.push(v*d*d)}this.xs=e,this.ys=r,this.c1s=g,this.c2s=x,this.c3s=C}}const ds=1;function rr(t){const e=t.nodeType===ds?t:t.parentElement;if(!e)return null;const{top:r,left:n}=e.getBoundingClientRect();return{x:n,y:r}}function re(t){return{x:t.clientX,y:t.clientY}}function us(t){var e;return t.nodeName==="IMG"&&(ls()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(t)))}function gs(t,e,r,n){let s=t?e.width:r,o=t?e.height:n;return tr()&&t&&(o/=window.devicePixelRatio,s/=window.devicePixelRatio),{dragPreviewWidth:s,dragPreviewHeight:o}}function hs(t,e,r,n,s){const o=us(e),a=rr(o?t:e),u={x:r.x-a.x,y:r.y-a.y},{offsetWidth:g,offsetHeight:x}=t,{anchorX:C,anchorY:m}=n,{dragPreviewWidth:f,dragPreviewHeight:O}=gs(o,e,g,x),d=()=>{let F=new kt([0,.5,1],[u.y,u.y/x*O,u.y+O-x]).interpolate(m);return tr()&&o&&(F+=(window.devicePixelRatio-1)*O),F},v=()=>new kt([0,.5,1],[u.x,u.x/g*f,u.x+f-g]).interpolate(C),{offsetX:S,offsetY:D}=s,P=S===0||S,R=D===0||D;return{x:P?S:v(),y:R?D:d()}}class fs{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,r){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=r}}function ps(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable}))),n.forEach(function(s){ps(t,s,r[s])})}return t}class ms{profile(){var e,r;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((r=this.dragOverTargetIds)===null||r===void 0?void 0:r.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var r;(r=this.window)===null||r===void 0||r.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,r,n){return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,r),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,r,n){this.sourceNodes.set(e,r),this.sourceNodeOptions.set(e,n);const s=c=>this.handleDragStart(c,e),o=c=>this.handleSelectStart(c);return r.setAttribute("draggable","true"),r.addEventListener("dragstart",s),r.addEventListener("selectstart",o),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),r.removeEventListener("dragstart",s),r.removeEventListener("selectstart",o),r.setAttribute("draggable","false")}}connectDropTarget(e,r){const n=c=>this.handleDragEnter(c,e),s=c=>this.handleDragOver(c,e),o=c=>this.handleDrop(c,e);return r.addEventListener("dragenter",n),r.addEventListener("dragover",s),r.addEventListener("drop",o),()=>{r.removeEventListener("dragenter",n),r.removeEventListener("dragover",s),r.removeEventListener("drop",o)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),r=this.sourceNodeOptions.get(e);return Lt({dropEffect:this.altKeyPressed?"copy":"move"},r||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),r=this.sourcePreviewNodeOptions.get(e);return Lt({anchorX:.5,anchorY:.5,captureDraggingState:!1},r||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(Rt).some(r=>Rt[r]===e)}beginDragNativeItem(e,r){this.clearCurrentDragSourceNode(),this.currentNativeSource=cs(e,r),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const r=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var n;return(n=this.rootElement)===null||n===void 0?void 0:n.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},r)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,r){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(r))}handleDragEnter(e,r){this.dragEnterTargetIds.unshift(r)}handleDragOver(e,r){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(r)}handleDrop(e,r){this.dropTargetIds.unshift(r)}constructor(e,r,n){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=s=>{const o=this.sourceNodes.get(s);return o&&rr(o)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=s=>!!(s&&this.document&&this.document.body&&this.document.body.contains(s)),this.endDragIfSourceWasRemovedFromDOM=()=>{const s=this.currentDragSourceNode;s==null||this.isNodeInDocument(s)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=s=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(s||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=s=>{if(s.defaultPrevented)return;const{dragStartSourceIds:o}=this;this.dragStartSourceIds=null;const c=re(s);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(o||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:c});const{dataTransfer:a}=s,u=ve(a);if(this.monitor.isDragging()){if(a&&typeof a.setDragImage=="function"){const x=this.monitor.getSourceId(),C=this.sourceNodes.get(x),m=this.sourcePreviewNodes.get(x)||C;if(m){const{anchorX:f,anchorY:O,offsetX:d,offsetY:v}=this.getCurrentSourcePreviewNodeOptions(),P=hs(C,m,c,{anchorX:f,anchorY:O},{offsetX:d,offsetY:v});a.setDragImage(m,P.x,P.y)}}try{a==null||a.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(s.target);const{captureDraggingState:g}=this.getCurrentSourcePreviewNodeOptions();g?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(u)this.beginDragNativeItem(u);else{if(a&&!a.types&&(s.target&&!s.target.hasAttribute||!s.target.hasAttribute("draggable")))return;s.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=s=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var o;(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(s.dataTransfer)}if(!this.enterLeaveCounter.enter(s.target)||this.monitor.isDragging())return;const{dataTransfer:a}=s,u=ve(a);u&&this.beginDragNativeItem(u,a)},this.handleTopDragEnter=s=>{const{dragEnterTargetIds:o}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=s.altKey,o.length>0&&this.actions.hover(o,{clientOffset:re(s)}),o.some(a=>this.monitor.canDropOnTarget(a))&&(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=s=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var o;(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(s.dataTransfer)}},this.handleTopDragOver=s=>{const{dragOverTargetIds:o}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none");return}this.altKeyPressed=s.altKey,this.lastClientOffset=re(s),this.scheduleHover(o),(o||[]).some(a=>this.monitor.canDropOnTarget(a))?(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?s.preventDefault():(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=s=>{this.isDraggingNativeItem()&&s.preventDefault(),this.enterLeaveCounter.leave(s.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=s=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var o;s.preventDefault(),(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(s.dataTransfer)}else ve(s.dataTransfer)&&s.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=s=>{const{dropTargetIds:o}=this;this.dropTargetIds=[],this.actions.hover(o,{clientOffset:re(s)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=s=>{const o=s.target;typeof o.dragDrop=="function"&&(o.tagName==="INPUT"||o.tagName==="SELECT"||o.tagName==="TEXTAREA"||o.isContentEditable||(s.preventDefault(),o.dragDrop()))},this.options=new fs(r,n),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new os(this.isNodeInDocument)}}const vs=function(e,r,n){return new ms(e,r,n)},xs=({id:t,onImageUpload:e,onTextChange:r,onSelect:n,isSelected:s,initialContent:o=null})=>{const[c,a]=h.useState([]),[u,g]=h.useState(null),x=h.useRef(null);h.useEffect(()=>{if(o){const d=[];o.image&&d.push(o.image),o.text&&d.push(o.text),a(d)}},[o]);const[{isOver:C},m]=ue(()=>({accept:["IMAGE_FILE","TEXT_ELEMENT","IMAGE_ELEMENT"],drop:(d,v)=>{if(v.didDrop())return;const S=x.current.getBoundingClientRect(),D=v.getClientOffset(),P={x:D.x-S.left,y:D.y-S.top};d.type==="IMAGE_FILE"&&d.files?f(d.files[0],P):d.type==="TEXT_ELEMENT"&&O(P)},collect:d=>({isOver:!!d.isOver({shallow:!0})})})),f=(d,v)=>{const S=new FileReader;S.onload=D=>{var P;if((P=D.target)!=null&&P.result){const R={id:`img-${Date.now()}`,type:"image",content:D.target.result,position:v,filters:{brightness:50,contrast:50,saturation:50,tint:0},mask:"none"};a([...c,R]),g(R.id),e==null||e(R)}},S.readAsDataURL(d)},O=d=>{const v={id:`text-${Date.now()}`,type:"text",content:"Haz clic para editar",position:d,style:{fontSize:16,fontFamily:"Arial",color:"#000000",fontWeight:"normal",fontStyle:"normal",textDecoration:"none"}};a([...c,v]),g(v.id),r==null||r(v)};return i.jsxs("div",{ref:d=>{x.current=d,m(d)},className:`relative aspect-square bg-gray-50 rounded-md flex items-center justify-center overflow-hidden
        ${s?"ring-2 ring-purple-500":""}
        ${C?"border-2 border-dashed border-purple-500":""}
      `,onClick:()=>{n==null||n(t),g(null)},children:[c.length===0&&i.jsxs("div",{className:"flex flex-col items-center justify-center text-gray-400 p-4",children:[i.jsx(ie,{className:"h-8 w-8 mb-2"}),i.jsx("p",{className:"text-xs text-center",children:"Arrastra una imagen o texto aquí"})]}),c.map(d=>i.jsx("div",{className:"absolute",children:d.type==="image"?i.jsx(ImageElement,{element:d,isSelected:u===d.id,onSelect:v=>{v.stopPropagation(),g(d.id)},onUpdate:v=>{const S=c.map(D=>D.id===d.id?{...D,...v}:D);a(S)}}):i.jsx(TextElement,{element:d,isSelected:u===d.id,onSelect:v=>{v.stopPropagation(),g(d.id)},onUpdate:v=>{const S=c.map(D=>D.id===d.id?{...D,content:v}:D);a(S),r==null||r({...d,content:v})}})},d.id))]})};function ys({onSelect:t,selectedCelda:e}){const[r,n]=h.useState([{id:"celda-1",content:null},{id:"celda-2",content:null},{id:"celda-3",content:null},{id:"celda-4",content:null}]),s=a=>{t&&t(a)},o=(a,u)=>{n(r.map(g=>g.id===a?{...g,content:{...g.content,image:u}}:g))},c=(a,u)=>{n(r.map(g=>g.id===a?{...g,content:{...g.content,text:u}}:g))};return i.jsx("div",{className:"grid grid-cols-2 grid-rows-2 gap-4 h-full",children:r.map(a=>i.jsx(xs,{id:a.id,onImageUpload:u=>o(a.id,u),onTextChange:u=>c(a.id,u),onSelect:s,isSelected:e===a.id,initialContent:a.content},a.id))})}function bs({onSelect:t,selectedMask:e="none"}){const r=[{id:"none",name:"Sin máscara"},{id:"circle",name:"Círculo"},{id:"heart",name:"Corazón"},{id:"star",name:"Estrella"},{id:"hexagon",name:"Hexágono"}];return i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-medium",children:"Máscaras de imagen"}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:r.map(n=>i.jsxs("div",{className:`border rounded-md p-2 cursor-pointer hover:border-purple-500 transition-colors
              ${e===n.id?"border-purple-500 ring-2 ring-purple-200":""}
            `,onClick:()=>t(n.id),children:[i.jsx("div",{className:"aspect-square bg-gray-100 rounded-md flex items-center justify-center mb-2",children:i.jsx("div",{className:`w-16 h-16 bg-purple-300 ${n.id==="circle"?"rounded-full":n.id==="heart"?"mask-heart":n.id==="star"?"mask-star":n.id==="hexagon"?"mask-hexagon":""}`})}),i.jsx("p",{className:"text-center text-sm",children:n.name})]},n.id))})]})}function Ds(){const{itemType:t,isDragging:e,item:r,currentOffset:n}=Zn(s=>({item:s.getItem(),itemType:s.getItemType(),currentOffset:s.getSourceClientOffset(),isDragging:s.isDragging()}));return e?i.jsx("div",{style:{position:"fixed",pointerEvents:"none",zIndex:100,left:0,top:0,width:"100%",height:"100%"},children:i.jsxs("div",{style:{position:"absolute",left:n==null?void 0:n.x,top:n==null?void 0:n.y,opacity:.8},children:[t==="IMAGE"&&i.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-md flex items-center justify-center",children:i.jsx("span",{className:"text-xs text-gray-500",children:"Imagen"})}),t==="TEXT"&&i.jsx("div",{className:"px-4 py-2 bg-gray-200 rounded-md",children:i.jsx("span",{className:"text-xs text-gray-500",children:"Texto"})}),t==="IMAGE_ELEMENT"&&i.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-md flex items-center justify-center",children:i.jsx("span",{className:"text-xs text-gray-500",children:"Imagen"})}),t==="TEXT_ELEMENT"&&i.jsx("div",{className:"px-4 py-2 bg-gray-200 rounded-md",children:i.jsx("span",{className:"text-xs text-gray-500",children:"Texto"})})]})}):null}const ne=[{id:"layout-1",name:"Cuatro fotos",template:"grid-cols-2 grid-rows-2",cells:4,maskOptions:["none","circle","heart","star","hexagon"]},{id:"layout-2",name:"Dos fotos horizontales",template:"grid-rows-2",cells:2,maskOptions:["none","rounded","wave","diagonal"]},{id:"layout-3",name:"Tres fotos mixtas",template:"grid-cols-3 [grid-template-columns:1fr_2fr]",cells:3,maskOptions:["none","circle","triangle","hexagon"]},{id:"layout-4",name:"Collage 2x2",template:"grid-cols-2 grid-rows-2",cells:4,maskOptions:["none","circle","polaroid","vintage"]},{id:"layout-5",name:"Mosaico",template:"grid-cols-3 grid-rows-2",cells:6,maskOptions:["none","circle","square","diamond"]},{id:"layout-6",name:"Álbum vertical",template:"grid-cols-2 grid-rows-3",cells:6,maskOptions:["none","rounded","leaf","cloud"]},{id:"layout-7",name:"Portada con foto",template:"grid-cols-3 [grid-template-columns:2fr_1fr]",cells:2,maskOptions:["none","circle","frame","vintage"]}],ws={none:"",circle:"rounded-full",rounded:"rounded-xl",heart:"mask-heart",star:"mask-star",hexagon:"mask-hexagon",triangle:"mask-triangle",square:"mask-square",diamond:"mask-diamond",polaroid:"mask-polaroid",vintage:"mask-vintage",wave:"mask-wave",diagonal:"mask-diagonal",frame:"mask-frame",leaf:"mask-leaf",cloud:"mask-cloud"},Ht=({children:t,onClick:e,className:r="",variant:n="default",size:s="default",disabled:o=!1})=>{const c="inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",a={default:"bg-purple-500 text-white hover:bg-purple-600",outline:"border border-input hover:bg-accent hover:text-accent-foreground",ghost:"hover:bg-accent hover:text-accent-foreground"},u={default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md text-sm",lg:"h-11 px-8 rounded-md",icon:"h-10 w-10"};return i.jsx("button",{className:`${c} ${a[n]} ${u[s]} ${r}`,onClick:e,disabled:o,children:t})},B=({value:t=[50],min:e=0,max:r=100,step:n=1,onValueChange:s})=>{const[o,c]=h.useState(t[0]),a=u=>{const g=Number.parseInt(u.target.value);c(g),s&&s([g])};return i.jsx("div",{className:"relative flex w-full touch-none select-none items-center",children:i.jsx("input",{type:"range",min:e,max:r,step:n,value:o,onChange:a,className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})})},Cs=({id:t,content:e,onSelect:r,isSelected:n,onDrop:s,filters:o,position:c,onMove:a,mask:u="none"})=>{const[{isDragging:g},x]=Wt(()=>({type:"IMAGE",item:{id:t,type:"image"},collect:N=>({isDragging:!!N.isDragging()})})),[{isOver:C},m]=ue(()=>({accept:["IMAGE_FILE"],drop:N=>s(t,N.files[0]),collect:N=>({isOver:!!N.isOver()})})),f=h.useRef(null),[O,d]=h.useState(!1),[v,S]=h.useState({x:0,y:0}),[D,P]=h.useState(c||{x:0,y:0}),R={filter:`
      brightness(${(o==null?void 0:o.brightness)/50})
      contrast(${(o==null?void 0:o.contrast)/50})
      saturate(${(o==null?void 0:o.saturation)/50})
      sepia(${(o==null?void 0:o.tint)/100})
    `,transform:"scale(1.0)",position:"relative",left:`${D.x}px`,top:`${D.y}px`,cursor:n?"move":"pointer"},U=N=>{n&&e&&(d(!0),S({x:N.clientX-D.x,y:N.clientY-D.y}))},F=N=>{if(O&&f.current){const A=f.current.parentElement.getBoundingClientRect(),M=N.clientX-v.x,W=N.clientY-v.y,_=A.width-f.current.offsetWidth,Q=A.height-f.current.offsetHeight,K=Math.max(0,Math.min(M,_)),V=Math.max(0,Math.min(W,Q));P({x:K,y:V})}},I=()=>{O&&(d(!1),a&&a(t,D))};h.useEffect(()=>(O&&(window.addEventListener("mousemove",F),window.addEventListener("mouseup",I)),()=>{window.removeEventListener("mousemove",F),window.removeEventListener("mouseup",I)}),[O,v]);const q=h.useCallback(N=>{f.current=N,x(N),m(N)},[x,m]),Y=()=>{const N=document.createElement("input");N.type="file",N.accept="image/*",N.onchange=A=>{A.target.files&&A.target.files[0]&&s(t,A.target.files[0])},N.click()},w=ws[u]||"";return i.jsx("div",{ref:q,className:`relative aspect-video bg-gray-100 rounded-md flex items-center justify-center overflow-hidden
        ${n?"ring-2 ring-purple-500":""}
        ${C?"border-2 border-dashed border-purple-500":""}
        ${g?"opacity-50":"opacity-100"}
      `,onClick:()=>r(t),onMouseDown:U,children:e?i.jsx("div",{className:`w-full h-full overflow-hidden ${w}`,children:i.jsx("img",{src:e||"/placeholder.svg",alt:"Imagen cargada",className:"w-full h-full object-cover",style:R})}):i.jsxs("div",{className:"flex flex-col items-center justify-center cursor-pointer hover:bg-gray-200 w-full h-full transition-colors",onClick:Y,children:[i.jsx(ie,{className:"h-12 w-12 text-gray-400 mb-2"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Haz clic para añadir imagen"})]})})},Ss=({id:t,content:e,onSelect:r,isSelected:n,onChange:s,position:o,onMove:c,style:a={}})=>{const[u,g]=h.useState(!1),x=h.useRef(null),C=h.useRef(null),[m,f]=h.useState(!1),[O,d]=h.useState({x:0,y:0}),[v,S]=h.useState(o||{x:0,y:0}),[{isDragging:D},P]=Wt(()=>({type:"TEXT",item:{id:t,type:"text"},collect:M=>({isDragging:!!M.isDragging()})})),R=()=>{g(!0),setTimeout(()=>{x.current&&x.current.focus()},0)},U=()=>{g(!1)},F=M=>{s(t,M.target.value)},I=M=>{M.key==="Enter"&&g(!1)},q=M=>{n&&!u&&(M.stopPropagation(),f(!0),d({x:M.clientX-v.x,y:M.clientY-v.y}))},Y=M=>{if(m&&C.current){const W=C.current.parentElement.getBoundingClientRect(),_=M.clientX-O.x,Q=M.clientY-O.y,K=W.width-C.current.offsetWidth,V=W.height-C.current.offsetHeight,$=Math.max(0,Math.min(_,K)),ge=Math.max(0,Math.min(Q,V));S({x:$,y:ge})}},w=()=>{m&&(f(!1),c&&c(t,v))};h.useEffect(()=>(m&&(window.addEventListener("mousemove",Y),window.addEventListener("mouseup",w)),()=>{window.removeEventListener("mousemove",Y),window.removeEventListener("mouseup",w)}),[m,O]);const N=h.useCallback(M=>{C.current=M,P(M)},[P]),A={...a,position:"absolute",left:`${v.x}px`,top:`${v.y}px`,cursor:n&&!u?"move":"pointer",zIndex:10};return i.jsx("div",{ref:N,className:`p-2 min-h-[40px] ${n?"ring-2 ring-purple-500":""} ${D?"opacity-50":"opacity-100"}`,style:A,onClick:M=>{M.stopPropagation(),r(t)},onDoubleClick:R,onMouseDown:q,children:u?i.jsx("input",{ref:x,type:"text",value:e,onChange:F,onBlur:U,onKeyDown:I,className:"w-full p-1 border border-gray-300 rounded bg-white",autoFocus:!0}):i.jsx("div",{className:"border border-dashed border-gray-300 p-2 rounded text-center bg-white/80 backdrop-blur-sm",children:e||"Editar texto"})})},Ts=({id:t,elements:e,onSelectElement:r,selectedElement:n,onDropImage:s,onUpdateText:o,onMoveElement:c,onUpdateImageFilter:a,onChangeMask:u,availableMasks:g=[]})=>{const[{isOver:x},C]=ue(()=>({accept:["IMAGE_FILE","IMAGE","TEXT"],drop:(d,v)=>{if(d.files){const S=e.find(D=>D.type==="image");S&&s(S.id,d.files[0])}},collect:d=>({isOver:!!d.isOver()})})),m=e.filter(d=>d.type==="image"),f=e.filter(d=>d.type==="text"),O=m.length>0&&m[0].mask||"none";return i.jsxs("div",{ref:C,className:`relative border border-dashed border-gray-300 rounded-md p-2 min-h-[200px] ${x?"bg-purple-50":""}`,children:[m.map(d=>i.jsx(Cs,{id:d.id,content:d.content,onSelect:r,isSelected:n===d.id,onDrop:s,filters:d.filters,position:d.position,onMove:c,mask:d.mask||"none"},d.id)),f.map(d=>i.jsx(Ss,{id:d.id,content:d.content,onSelect:r,isSelected:n===d.id,onChange:o,position:d.position,onMove:c,style:d.style},d.id)),n&&m.some(d=>d.id===n)&&g.length>0&&i.jsx("div",{className:"absolute bottom-2 right-2 bg-white rounded-md shadow-md p-1 z-20",children:i.jsx("select",{value:O,onChange:d=>u(n,d.target.value),className:"text-xs border rounded p-1",children:g.map(d=>i.jsx("option",{value:d,children:d.charAt(0).toUpperCase()+d.slice(1)},d))})})]})},Os=({onDrop:t})=>{const[{isOver:e},r]=ue(()=>({accept:["IMAGE_FILE"],drop:n=>t(n.files[0]),collect:n=>({isOver:!!n.isOver()})}));return i.jsxs("div",{ref:r,className:`border-2 ${e?"border-purple-500 bg-purple-50":"border-dashed border-gray-300"} 
        rounded-lg p-8 flex flex-col items-center justify-center text-center`,children:[i.jsx(ie,{className:"h-12 w-12 text-gray-400 mb-4"}),i.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Arrastra y suelta imágenes aquí"}),i.jsx("p",{className:"text-xs text-gray-400",children:"o"}),i.jsxs("label",{className:"mt-2 cursor-pointer",children:[i.jsx("span",{className:"px-4 py-2 bg-purple-500 text-white rounded-md text-sm hover:bg-purple-600 transition-colors",children:"Seleccionar archivo"}),i.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:n=>{n.target.files&&n.target.files[0]&&t(n.target.files[0])}})]})]})},Es=({page:t,index:e,currentPage:r,onClick:n})=>i.jsx("div",{className:`border rounded-md p-2 cursor-pointer hover:border-purple-500 transition-colors
        ${r===e?"border-purple-500 ring-2 ring-purple-200":""}
      `,onClick:()=>n(e),children:i.jsxs("div",{className:"bg-gray-100 aspect-[4/3] rounded-sm flex items-center justify-center text-xs text-gray-500",children:["Pág. ",e+1]})});function Ls(){var Ne,je,Pe,Me,Re,ke,Le,He,_e,Ae,$e,Fe,Ue,qe,Ve,Ge,Be,Xe,ze,Ye,We,Ze,Je,Qe,Ke,et,tt,rt,nt,st,it,ot,at,ct,lt,dt,ut,gt,ht,ft,pt,mt,vt,xt,yt,bt,Dt;const[t,e]=h.useState([{id:"page-1",layout:"layout-1",cells:[{id:"cell-1-1",elements:[{id:"element-1-1-1",type:"image",content:"",position:{x:0,y:0},filters:{exposure:50,contrast:50,saturation:50,temperature:50,tint:50,brightness:50,shadows:50},mask:"none"},{id:"element-1-1-2",type:"text",content:"Editar texto",position:{x:10,y:10},style:{fontFamily:"Arial",fontSize:"16px",fontWeight:"normal",color:"#000000",textAlign:"center"}}]},{id:"cell-1-2",elements:[{id:"element-1-2-1",type:"image",content:"",position:{x:0,y:0},filters:{exposure:50,contrast:50,saturation:50,temperature:50,tint:50,brightness:50,shadows:50},mask:"none"}]},{id:"cell-1-3",elements:[{id:"element-1-3-1",type:"image",content:"",position:{x:0,y:0},filters:{exposure:50,contrast:50,saturation:50,temperature:50,tint:50,brightness:50,shadows:50},mask:"none"}]},{id:"cell-1-4",elements:[{id:"element-1-4-1",type:"image",content:"",position:{x:0,y:0},filters:{exposure:50,contrast:50,saturation:50,temperature:50,tint:50,brightness:50,shadows:50},mask:"none"}]}]},{id:"page-2",layout:"layout-2",cells:[{id:"cell-2-1",elements:[{id:"element-2-1-1",type:"image",content:"",position:{x:0,y:0},filters:{exposure:50,contrast:50,saturation:50,temperature:50,tint:50,brightness:50,shadows:50},mask:"none"}]},{id:"cell-2-2",elements:[{id:"element-2-2-1",type:"image",content:"",position:{x:0,y:0},filters:{exposure:50,contrast:50,saturation:50,temperature:50,tint:50,brightness:50,shadows:50},mask:"none"},{id:"element-2-2-2",type:"text",content:"Editar texto",position:{x:20,y:20},style:{fontFamily:"Arial",fontSize:"16px",fontWeight:"normal",color:"#000000",textAlign:"center"}}]}]}]),[r,n]=h.useState(0),[s,o]=h.useState(null),[c,a]=h.useState("formas"),[u,g]=h.useState(null),[x,C]=h.useState([]),[m,f]=h.useState(-1),[O,d]=h.useState({fontFamily:"Arial",fontSize:"16px",fontWeight:"normal",fontStyle:"normal",textDecoration:"none",textAlign:"center",color:"#000000"}),[v,S]=h.useState(null),[D,P]=h.useState("none"),R=l=>{const p=ne.find(j=>j.id===l);if(!p)return;const b=[...t],T=b[r],E=Array.from({length:p.cells}).map((j,k)=>{const G=T.cells[k];return{id:G?G.id:`cell-${T.id}-${k+1}`,elements:G?G.elements:[{id:`element-${T.id}-${k+1}-1`,type:"image",content:"",position:{x:0,y:0},filters:{exposure:50,contrast:50,saturation:50,temperature:50,tint:50,brightness:50,shadows:50},mask:"none"}]}});b[r]={...T,layout:l,cells:E},e(b),_(b)},U=(l,p)=>{const b=new FileReader;b.onload=T=>{var E;if((E=T.target)!=null&&E.result){const j=[...t];let k=!1;j[r].cells.forEach(G=>{const wt=G.elements.findIndex(sr=>sr.id===l);wt!==-1&&(G.elements[wt].content=T.target.result,k=!0)}),k&&(e(j),_(j))}},b.readAsDataURL(p)},F=(l,p)=>{const b=[...t];let T=!1;b[r].cells.forEach(E=>{const j=E.elements.findIndex(k=>k.id===l);j!==-1&&(E.elements[j].content=p,T=!0)}),T&&(e(b),_(b))},I=(l,p,b)=>{const T=[...t];T[r].cells.forEach(E=>{const j=E.elements.findIndex(k=>k.id===l);j!==-1&&E.elements[j].filters&&(E.elements[j].filters[p]=b)}),e(T)},q=(l,p)=>{const b=[...t];b[r].cells.forEach(T=>{const E=T.elements.findIndex(j=>j.id===l);E!==-1&&T.elements[E].type==="image"&&(T.elements[E].mask=p)}),e(b),_(b),P(p)},Y=(l,p)=>{const b=[...t];b[r].cells.forEach(T=>{const E=T.elements.findIndex(j=>j.id===l);E!==-1&&(T.elements[E].position=p)}),e(b)},w=()=>{if(!s)return null;for(const l of t[r].cells){const p=l.elements.find(b=>b.id===s);if(p)return p}return null},N=()=>{if(!s)return null;for(const l of t[r].cells)if(l.elements.findIndex(b=>b.id===s)!==-1)return l;return null},A=()=>{const l=`page-${t.length+1}`,p={id:l,layout:"layout-1",cells:Array.from({length:4}).map((T,E)=>({id:`cell-${l}-${E+1}`,elements:[{id:`element-${l}-${E+1}-1`,type:"image",content:"",position:{x:0,y:0},filters:{exposure:50,contrast:50,saturation:50,temperature:50,tint:50,brightness:50,shadows:50},mask:"none"}]}))},b=[...t,p];e(b),n(b.length-1),_(b)},M=()=>{if(!s)return;const l=N();if(!l)return;const p=[...t],b=p[r].cells.findIndex(T=>T.id===l.id);if(b!==-1){const T=`${l.id}-text-${Date.now()}`;p[r].cells[b].elements.push({id:T,type:"text",content:"Nuevo texto",position:{x:20,y:20},style:{...O}}),e(p),o(T),g("text"),_(p)}},W=()=>{if(!s)return;const l=[...t];l[r].cells.forEach(p=>{const b=p.elements.findIndex(T=>T.id===s);b!==-1&&(p.elements[b].type==="image"&&p.elements.filter(T=>T.type==="image").length===1?p.elements[b].content="":p.elements.splice(b,1))}),e(l),o(null),g(null),_(l)},_=l=>{m<x.length-1&&C(x.slice(0,m+1)),C([...x,JSON.parse(JSON.stringify(l))]),f(m+1)},Q=()=>{m>0&&(f(m-1),e(JSON.parse(JSON.stringify(x[m-1]))))},K=()=>{m<x.length-1&&(f(m+1),e(JSON.parse(JSON.stringify(x[m+1]))))},V=()=>ne.find(l=>l.id===t[r].layout)||ne[0],$=(l,p)=>{if(!s)return;const b=w();if(!b||b.type!=="text")return;const T=[...t];T[r].cells.forEach(E=>{const j=E.elements.findIndex(k=>k.id===s);j!==-1&&E.elements[j].type==="text"&&(E.elements[j].style={...E.elements[j].style,[l]:p})}),e(T),d({...O,[l]:p})},ge=l=>{S(l)},nr=l=>{s?q(s,l):P(l)};return i.jsxs(Nn,{backend:vs,children:[i.jsxs("div",{className:"flex flex-col min-h-screen",children:[i.jsxs("header",{className:"border-b p-4 flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs(Ht,{variant:"ghost",size:"sm",children:[i.jsx(or,{className:"h-5 w-5 mr-1"}),"Regresar"]})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Libro Personalizado"}),i.jsx("h2",{className:"text-xl",children:"«Buenos Deseos de Matrimonio»"})]}),i.jsx(Ht,{className:"bg-purple-500 hover:bg-purple-600",children:"Comprar"})]}),i.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[i.jsx("aside",{className:"w-64 border-r p-4 overflow-y-auto",children:i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex border rounded-md p-1 mb-4",children:[i.jsx("button",{className:`flex-1 py-1 px-2 text-sm rounded ${c==="formas"?"bg-white shadow-sm":"hover:bg-gray-100"}`,onClick:()=>a("formas"),children:"Escoge tus formas"}),i.jsx("button",{className:`flex-1 py-1 px-2 text-sm rounded ${c==="filtros"?"bg-white shadow-sm":"hover:bg-gray-100"}`,onClick:()=>a("filtros"),children:"Filtros"}),i.jsx("button",{className:`flex-1 py-1 px-2 text-sm rounded ${c==="niveles"?"bg-white shadow-sm":"hover:bg-gray-100"}`,onClick:()=>a("niveles"),children:"Niveles"})]}),c==="formas"&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-medium",children:"Layouts disponibles"}),i.jsx("div",{className:"grid gap-4",children:ne.map(l=>i.jsxs("div",{className:`border rounded-md p-2 cursor-pointer hover:border-purple-500 ${t[r].layout===l.id?"border-purple-500 ring-2 ring-purple-200":""}`,onClick:()=>R(l.id),children:[i.jsx("div",{className:`grid ${l.template} gap-2 h-24`,children:Array.from({length:l.cells}).map((p,b)=>i.jsx("div",{className:"bg-gray-100 rounded-sm flex items-center justify-center",children:i.jsx(ie,{className:"h-4 w-4 text-gray-400"})},b))}),i.jsx("p",{className:"text-xs text-center mt-1",children:l.name})]},l.id))})]}),c==="filtros"&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-medium",children:"Filtros de imagen"}),i.jsxs("div",{className:"grid gap-4",children:[i.jsxs("div",{className:"p-2 border rounded-md cursor-pointer hover:border-purple-500",onClick:()=>{var l;s&&((l=w())==null?void 0:l.type)==="image"&&(I(s,"saturation",50),I(s,"contrast",50),I(s,"brightness",50))},children:[i.jsx("div",{className:"bg-gray-100 h-24 rounded-sm flex items-center justify-center",children:i.jsx(te,{className:"h-8 w-8 text-gray-400"})}),i.jsx("p",{className:"text-center text-sm mt-2",children:"Original"})]}),i.jsxs("div",{className:"p-2 border rounded-md cursor-pointer hover:border-purple-500",onClick:()=>{var l;s&&((l=w())==null?void 0:l.type)==="image"&&(I(s,"saturation",0),I(s,"contrast",60),I(s,"brightness",50))},children:[i.jsx("div",{className:"bg-gray-100 h-24 rounded-sm flex items-center justify-center",children:i.jsx(te,{className:"h-8 w-8 text-gray-400"})}),i.jsx("p",{className:"text-center text-sm mt-2",children:"Blanco y Negro"})]}),i.jsxs("div",{className:"p-2 border rounded-md cursor-pointer hover:border-purple-500",onClick:()=>{var l;s&&((l=w())==null?void 0:l.type)==="image"&&(I(s,"saturation",30),I(s,"contrast",60),I(s,"tint",30))},children:[i.jsx("div",{className:"bg-gray-100 h-24 rounded-sm flex items-center justify-center",children:i.jsx(te,{className:"h-8 w-8 text-gray-400"})}),i.jsx("p",{className:"text-center text-sm mt-2",children:"Sepia"})]}),i.jsxs("div",{className:"p-2 border rounded-md cursor-pointer hover:border-purple-500",onClick:()=>{var l;s&&((l=w())==null?void 0:l.type)==="image"&&(I(s,"saturation",70),I(s,"contrast",70),I(s,"temperature",70))},children:[i.jsx("div",{className:"bg-gray-100 h-24 rounded-sm flex items-center justify-center",children:i.jsx(te,{className:"h-8 w-8 text-gray-400"})}),i.jsx("p",{className:"text-center text-sm mt-2",children:"Vintage"})]})]})]}),c==="niveles"&&i.jsx("div",{className:"space-y-4",children:s&&((Ne=w())==null?void 0:Ne.type)==="image"?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("label",{className:"text-sm",children:"Exposición"}),i.jsxs("span",{className:"text-sm text-gray-500",children:[(Pe=(je=w())==null?void 0:je.filters)==null?void 0:Pe.exposure,"%"]})]}),i.jsx(B,{value:[((Re=(Me=w())==null?void 0:Me.filters)==null?void 0:Re.exposure)||50],min:0,max:100,step:1,onValueChange:l=>I(s,"exposure",l[0])})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("label",{className:"text-sm",children:"Contraste"}),i.jsxs("span",{className:"text-sm text-gray-500",children:[(Le=(ke=w())==null?void 0:ke.filters)==null?void 0:Le.contrast,"%"]})]}),i.jsx(B,{value:[((_e=(He=w())==null?void 0:He.filters)==null?void 0:_e.contrast)||50],min:0,max:100,step:1,onValueChange:l=>I(s,"contrast",l[0])})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("label",{className:"text-sm",children:"Saturación"}),i.jsxs("span",{className:"text-sm text-gray-500",children:[($e=(Ae=w())==null?void 0:Ae.filters)==null?void 0:$e.saturation,"%"]})]}),i.jsx(B,{value:[((Ue=(Fe=w())==null?void 0:Fe.filters)==null?void 0:Ue.saturation)||50],min:0,max:100,step:1,onValueChange:l=>I(s,"saturation",l[0])})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("label",{className:"text-sm",children:"Temperatura"}),i.jsxs("span",{className:"text-sm text-gray-500",children:[(Ve=(qe=w())==null?void 0:qe.filters)==null?void 0:Ve.temperature,"%"]})]}),i.jsx(B,{value:[((Be=(Ge=w())==null?void 0:Ge.filters)==null?void 0:Be.temperature)||50],min:0,max:100,step:1,onValueChange:l=>I(s,"temperature",l[0])})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("label",{className:"text-sm",children:"Tono"}),i.jsxs("span",{className:"text-sm text-gray-500",children:[(ze=(Xe=w())==null?void 0:Xe.filters)==null?void 0:ze.tint,"%"]})]}),i.jsx(B,{value:[((We=(Ye=w())==null?void 0:Ye.filters)==null?void 0:We.tint)||50],min:0,max:100,step:1,onValueChange:l=>I(s,"tint",l[0])})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("label",{className:"text-sm",children:"Iluminaciones"}),i.jsxs("span",{className:"text-sm text-gray-500",children:[(Je=(Ze=w())==null?void 0:Ze.filters)==null?void 0:Je.brightness,"%"]})]}),i.jsx(B,{value:[((Ke=(Qe=w())==null?void 0:Qe.filters)==null?void 0:Ke.brightness)||50],min:0,max:100,step:1,onValueChange:l=>I(s,"brightness",l[0])})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("label",{className:"text-sm",children:"Sombras"}),i.jsxs("span",{className:"text-sm text-gray-500",children:[(tt=(et=w())==null?void 0:et.filters)==null?void 0:tt.shadows,"%"]})]}),i.jsx(B,{value:[((nt=(rt=w())==null?void 0:rt.filters)==null?void 0:nt.shadows)||50],min:0,max:100,step:1,onValueChange:l=>I(s,"shadows",l[0])})]}),i.jsxs("div",{className:"pt-4 border-t",children:[i.jsx("h4",{className:"font-medium text-sm mb-2",children:"Máscaras"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:V().maskOptions.map(l=>{var p;return i.jsx("button",{className:`p-2 border rounded text-xs ${((p=w())==null?void 0:p.mask)===l?"border-purple-500 bg-purple-50":""}`,onClick:()=>q(s,l),children:l.charAt(0).toUpperCase()+l.slice(1)},l)})})]})]}):i.jsx("div",{className:"flex items-center justify-center h-40 text-gray-500",children:"Selecciona una imagen para ajustar sus niveles"})})]})}),i.jsx("div",{className:"flex-1 overflow-auto",children:i.jsxs("div",{className:"p-4",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Comienza a editar"}),i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx("button",{className:"inline-flex items-center justify-center rounded-full w-10 h-10 border hover:bg-gray-100",onClick:()=>a("formas"),children:i.jsx(cr,{className:"h-5 w-5"})}),i.jsx("button",{className:"inline-flex items-center justify-center rounded-full w-10 h-10 border hover:bg-gray-100",onClick:Q,disabled:m<=0,children:i.jsx(ur,{className:"h-5 w-5"})}),i.jsx("button",{className:"inline-flex items-center justify-center rounded-full w-10 h-10 border hover:bg-gray-100",onClick:K,disabled:m>=x.length-1,children:i.jsx(lr,{className:"h-5 w-5"})}),i.jsx("button",{className:"inline-flex items-center justify-center rounded-full w-10 h-10 border hover:bg-gray-100",onClick:W,disabled:!s,children:i.jsx(ar,{className:"h-5 w-5"})}),i.jsx("button",{className:"inline-flex items-center justify-center rounded-full w-10 h-10 border hover:bg-gray-100",onClick:M,disabled:!N(),children:i.jsx(dr,{className:"h-5 w-5"})}),s&&((st=w())==null?void 0:st.type)==="text"&&i.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[i.jsxs("div",{className:"relative",children:[i.jsxs("select",{className:"w-32 px-3 py-2 border rounded-md appearance-none",value:((ot=(it=w())==null?void 0:it.style)==null?void 0:ot.fontFamily)||"Arial",onChange:l=>$("fontFamily",l.target.value),children:[i.jsx("option",{value:"Arial",children:"Arial"}),i.jsx("option",{value:"Times New Roman",children:"Times New Roman"}),i.jsx("option",{value:"Georgia",children:"Georgia"}),i.jsx("option",{value:"Verdana",children:"Verdana"})]}),i.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:i.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),i.jsxs("div",{className:"relative",children:[i.jsxs("select",{className:"w-20 px-3 py-2 border rounded-md appearance-none",value:((lt=(ct=(at=w())==null?void 0:at.style)==null?void 0:ct.fontSize)==null?void 0:lt.replace("px",""))||"16",onChange:l=>$("fontSize",`${l.target.value}px`),children:[i.jsx("option",{value:"12",children:"12"}),i.jsx("option",{value:"14",children:"14"}),i.jsx("option",{value:"16",children:"16"}),i.jsx("option",{value:"18",children:"18"}),i.jsx("option",{value:"20",children:"20"}),i.jsx("option",{value:"24",children:"24"})]}),i.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:i.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),i.jsxs("div",{className:"inline-flex rounded-md shadow-sm",children:[i.jsx("button",{className:`px-3 py-2 text-sm font-medium border ${((ut=(dt=w())==null?void 0:dt.style)==null?void 0:ut.fontWeight)==="bold"?"bg-gray-200":"bg-white"} text-gray-700 hover:bg-gray-50`,onClick:()=>{var l,p;return $("fontWeight",((p=(l=w())==null?void 0:l.style)==null?void 0:p.fontWeight)==="bold"?"normal":"bold")},children:"B"}),i.jsx("button",{className:`px-3 py-2 text-sm font-medium border ${((ht=(gt=w())==null?void 0:gt.style)==null?void 0:ht.fontStyle)==="italic"?"bg-gray-200":"bg-white"} text-gray-700 hover:bg-gray-50`,onClick:()=>{var l,p;return $("fontStyle",((p=(l=w())==null?void 0:l.style)==null?void 0:p.fontStyle)==="italic"?"normal":"italic")},children:"I"}),i.jsx("button",{className:`px-3 py-2 text-sm font-medium border ${((pt=(ft=w())==null?void 0:ft.style)==null?void 0:pt.textDecoration)==="underline"?"bg-gray-200":"bg-white"} text-gray-700 hover:bg-gray-50`,onClick:()=>{var l,p;return $("textDecoration",((p=(l=w())==null?void 0:l.style)==null?void 0:p.textDecoration)==="underline"?"none":"underline")},children:"U"})]}),i.jsx("div",{className:"h-6 border-l mx-2"}),i.jsxs("div",{className:"inline-flex rounded-md shadow-sm",children:[i.jsx("button",{className:`px-3 py-2 text-sm font-medium border ${((vt=(mt=w())==null?void 0:mt.style)==null?void 0:vt.textAlign)==="left"?"bg-gray-200":"bg-white"} text-gray-700 hover:bg-gray-50`,onClick:()=>$("textAlign","left"),children:i.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M2 4.5C2 4.22386 2.22386 4 2.5 4H12.5C12.7761 4 13 4.22386 13 4.5C13 4.77614 12.7761 5 12.5 5H2.5C2.22386 5 2 4.77614 2 4.5ZM2 7.5C2 7.22386 2.22386 7 2.5 7H7.5C7.77614 7 8 7.22386 8 7.5C8 7.77614 7.77614 8 7.5 8H2.5C2.22386 8 2 7.77614 2 7.5ZM2 10.5C2 10.2239 2.22386 10 2.5 10H10.5C10.7761 10 11 10.2239 11 10.5C11 10.7761 10.7761 11 10.5 11H2.5C2.22386 11 2 10.7761 2 10.5Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}),i.jsx("button",{className:`px-3 py-2 text-sm font-medium border ${((yt=(xt=w())==null?void 0:xt.style)==null?void 0:yt.textAlign)==="center"?"bg-gray-200":"bg-white"} text-gray-700 hover:bg-gray-50`,onClick:()=>$("textAlign","center"),children:i.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M2 4.5C2 4.22386 2.22386 4 2.5 4H12.5C12.7761 4 13 4.22386 13 4.5C13 4.77614 12.7761 5 12.5 5H2.5C2.22386 5 2 4.77614 2 4.5ZM3.5 7C3.22386 7 3 7.22386 3 7.5C3 7.77614 3.22386 8 3.5 8H11.5C11.7761 8 12 7.77614 12 7.5C12 7.22386 11.7761 7 11.5 7H3.5ZM2 10.5C2 10.2239 2.22386 10 2.5 10H12.5C12.7761 10 13 10.2239 13 10.5C13 10.7761 12.7761 11 12.5 11H2.5C2.22386 11 2 10.7761 2 10.5Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}),i.jsx("button",{className:`px-3 py-2 text-sm font-medium border ${((Dt=(bt=w())==null?void 0:bt.style)==null?void 0:Dt.textAlign)==="right"?"bg-gray-200":"bg-white"} text-gray-700 hover:bg-gray-50`,onClick:()=>$("textAlign","right"),children:i.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M2 4.5C2 4.22386 2.22386 4 2.5 4H12.5C12.7761 4 13 4.22386 13 4.5C13 4.77614 12.7761 5 12.5 5H2.5C2.22386 5 2 4.77614 2 4.5ZM7 7.5C7 7.22386 7.22386 7 7.5 7H12.5C12.7761 7 13 7.22386 13 7.5C13 7.77614 12.7761 8 12.5 8H7.5C7.22386 8 7 7.77614 7 7.5ZM4 10.5C4 10.2239 4.22386 10 4.5 10H12.5C12.7761 10 13 10.2239 13 10.5C13 10.7761 12.7761 11 12.5 11H4.5C4.22386 11 4 10.7761 4 10.5Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})})]})]}),i.jsxs("div",{className:"ml-auto flex items-center gap-4",children:[i.jsxs("button",{className:"inline-flex items-center px-3 py-2 text-sm font-medium hover:bg-gray-100 rounded-md",children:[i.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",children:i.jsx("path",{d:"M7.5 0.875C7.77614 0.875 8 1.09886 8 1.375V3H10.5C10.7761 3 11 3.22386 11 3.5C11 3.77614 10.7761 4 10.5 4H8V7H9.5C9.77614 7 10 7.22386 10 7.5C10 7.77614 9.77614 8 9.5 8H8V13.625C8 13.9011 7.77614 14.125 7.5 14.125C7.22386 14.125 7 13.9011 7 13.625V8H5.5C5.22386 8 5 7.77614 5 7.5C5 7.22386 5.22386 7 5.5 7H7V4H4.5C4.22386 4 4 3.77614 4 3.5C4 3.22386 4.22386 3 4.5 3H7V1.375C7 1.09886 7.22386 0.875 7.5 0.875Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}),"Descripción"]}),i.jsxs("button",{className:"inline-flex items-center px-3 py-2 text-sm font-medium hover:bg-gray-100 rounded-md",children:[i.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",children:i.jsx("path",{d:"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.5C1.87284 8.6497 2.89609 9.56293 4.09974 10.1436L5.06334 9.18C4.70366 8.59872 4.5 7.91372 4.5 7.18C4.5 5.17153 6.12386 3.5 8.13233 3.5C8.86605 3.5 9.55105 3.70366 10.1323 4.06334L9.90428 4.38861ZM7.5 11C10.1971 11 12.4705 9.62184 13.9038 7.5C13.1272 6.3503 12.1039 5.43707 10.9003 4.85645L9.93666 5.82001C10.2963 6.40128 10.5 7.08628 10.5 7.82001C10.5 9.82847 8.87614 11.5 6.86767 11.5C6.13395 11.5 5.44895 11.2963 4.86767 10.9367L5.09572 10.6114C5.84668 10.8639 6.65241 11 7.5 11ZM8.5 7.82001C8.5 8.64591 7.82591 9.32001 7 9.32001C6.17409 9.32001 5.5 8.64591 5.5 7.82001C5.5 6.9941 6.17409 6.32001 7 6.32001C7.82591 6.32001 8.5 6.9941 8.5 7.82001Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}),"Vista previa"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[i.jsx("div",{className:"border rounded-lg p-4 bg-white",children:i.jsx("div",{className:"aspect-video",children:t[r].layout==="layout-1"?i.jsx(ys,{onSelect:ge,selectedCelda:v}):i.jsx("div",{className:`grid ${V().template} gap-4 h-full`,children:t[r].cells.map(l=>i.jsx(Ts,{id:l.id,elements:l.elements,onSelectElement:o,selectedElement:s,onDropImage:U,onUpdateText:F,onMoveElement:Y,onUpdateImageFilter:I,onChangeMask:q,availableMasks:V().maskOptions},l.id))})})}),i.jsx(bs,{onSelect:nr,selectedMask:D}),i.jsx(Os,{onDrop:l=>{var p;s&&((p=w())==null?void 0:p.type)==="image"&&U(s,l)}})]})]})}),i.jsx("aside",{className:"w-48 border-l p-4 overflow-y-auto",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-medium",children:"Páginas"}),i.jsxs("div",{className:"grid gap-3",children:[t.map((l,p)=>i.jsx(Es,{page:l,index:p,currentPage:r,onClick:n},l.id)),i.jsxs("button",{className:"border border-dashed rounded-md p-2 flex items-center justify-center text-gray-500 hover:bg-gray-50",onClick:A,children:[i.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",children:i.jsx("path",{d:"M7.5 1C7.77614 1 8 1.22386 8 1.5V7H13.5C13.7761 7 14 7.22386 14 7.5C14 7.77614 13.7761 8 13.5 8H8V13.5C8 13.7761 7.77614 14 7.5 14C7.22386 14 7 13.7761 7 13.5V8H1.5C1.22386 8 1 7.77614 1 7.5C1 7.22386 1.22386 7 1.5 7H7V1.5C7 1.22386 7.22386 1 7.5 1Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}),"Añadir página"]})]})]})})]})]}),i.jsx(Ds,{})]})}export{Ls as default};

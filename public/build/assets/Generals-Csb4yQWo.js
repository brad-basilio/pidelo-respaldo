var D=Object.defineProperty;var B=(t,r,o)=>r in t?D(t,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[r]=o;var M=(t,r,o)=>B(t,typeof r!="symbol"?r+"":r,o);import{j as a}from"./AboutHeader-ClKiNAEV.js";import{r as A}from"./index-DFv2mRv-.js";import{L,G as I,M as z}from"./esm-CEm1FFvt.js";import{B as K}from"./Base-DN6QTee9.js";import{B as Q}from"./ModalImportItem-DaJ_kNWW.js";import{C as U}from"./CreateReactScript-DV9KizOE.js";import{c as Y}from"./ReactAppend-D9rqaU78.js";import{Q as c}from"./QuillFormGroup-K0vIs6OE.js";import{T as J}from"./TextareaFormGroup-CbILxKD5.js";import{G as O}from"./Global-BM4Id4Pw.js";import"./index-Sd7so-oN.js";import"./tippy-react.esm-CGYKl-Jd.js";/* empty css              */import"./Logout-CnsEv7kI.js";import"./main-rZoj-gSW.js";import"./___vite-browser-external_commonjs-proxy-BQdpDcDf.js";import"./MenuItemContainer-BsN1r_rr.js";import"./index.esm-CJNcRx6f.js";/* empty css               */import"./General-BmbBKdsB.js";import"./LaravelSession-Dz9cpV3l.js";class V extends Q{constructor(){super(...arguments);M(this,"path","admin/generals")}}const X=new V,Z=({generals:t})=>{var u,b,j,x,y,N,f,g,C,P,_,k,W,F,$,w,G,T,E;const r=((u=t.find(e=>e.correlative=="location"))==null?void 0:u.description)??"0,0",[o,s]=A.useState({phones:((x=(j=(b=t.find(e=>e.correlative=="phone_contact"))==null?void 0:b.description)==null?void 0:j.split(","))==null?void 0:x.map(e=>e.trim()))??[""],emails:((f=(N=(y=t.find(e=>e.correlative=="email_contact"))==null?void 0:y.description)==null?void 0:N.split(","))==null?void 0:f.map(e=>e.trim()))??[""],cintillo:((g=t.find(e=>e.correlative=="cintillo"))==null?void 0:g.description)??"",copyright:((C=t.find(e=>e.correlative=="copyright"))==null?void 0:C.description)??"",address:((P=t.find(e=>e.correlative=="address"))==null?void 0:P.description)??"",openingHours:((_=t.find(e=>e.correlative=="opening_hours"))==null?void 0:_.description)??"",supportPhone:((k=t.find(e=>e.correlative=="support_phone"))==null?void 0:k.description)??"",supportEmail:((W=t.find(e=>e.correlative=="support_email"))==null?void 0:W.description)??"",privacyPolicy:((F=t.find(e=>e.correlative=="privacy_policy"))==null?void 0:F.description)??"",termsConditions:(($=t.find(e=>e.correlative=="terms_conditions"))==null?void 0:$.description)??"",deliveryPolicy:((w=t.find(e=>e.correlative=="delivery_policy"))==null?void 0:w.description)??"",salebackPolicy:((G=t.find(e=>e.correlative=="saleback_policy"))==null?void 0:G.description)??"",phoneWhatsapp:((T=t.find(e=>e.correlative=="phone_whatsapp"))==null?void 0:T.description)??"",messageWhatsapp:((E=t.find(e=>e.correlative=="message_whatsapp"))==null?void 0:E.description)??"",location:{lat:Number(r.split(",").map(e=>e.trim())[0]),lng:Number(r.split(",").map(e=>e.trim())[1])}}),[n,p]=A.useState("contact"),d=(e,i,l)=>{const{value:m}=e.target,q=[...o[l]];q[i]=m,s(S=>({...S,[l]:q}))},h=e=>{s(i=>({...i,[e]:[...i[e],""]}))},v=(e,i)=>{const l=[...o[i]];l.splice(e,1),s(m=>({...m,[i]:l}))},H=e=>{s(i=>({...i,location:{lat:e.latLng.lat(),lng:e.latLng.lng()}}))},R=async e=>{e.preventDefault();try{await X.save([{correlative:"phone_contact",name:"Teléfono de contacto",description:o.phones.join(",")},{correlative:"email_contact",name:"Correo de contacto",description:o.emails.join(",")},{correlative:"address",name:"Dirección",description:o.address},{correlative:"cintillo",name:"Cintillo",description:o.cintillo},{correlative:"copyright",name:"Copyright",description:o.copyright},{correlative:"opening_hours",name:"Horarios de atención",description:o.openingHours},{correlative:"support_phone",name:"Número de soporte",description:o.supportPhone},{correlative:"support_email",name:"Correo de soporte",description:o.supportEmail},{correlative:"privacy_policy",name:"Política de privacidad",description:o.privacyPolicy},{correlative:"terms_conditions",name:"Términos y condiciones",description:o.termsConditions},{correlative:"delivery_policy",name:"Políticas de envío",description:o.deliveryPolicy},{correlative:"saleback_policy",name:"Políticas de devolucion y cambio",description:o.salebackPolicy},{correlative:"phone_whatsapp",name:"Número de Whatsapp",description:o.phoneWhatsapp},{correlative:"message_whatsapp",name:"Mensaje de Whatsapp",description:o.messageWhatsapp},{correlative:"location",name:"Ubicación",description:`${o.location.lat},${o.location.lng}`}])}catch(i){console.error("Error al guardar los datos:",i)}};return a.jsx("div",{className:"card",children:a.jsxs("form",{className:"card-body",onSubmit:R,children:[a.jsxs("ul",{className:"nav nav-tabs",id:"contactTabs",role:"tablist",children:[a.jsx("li",{className:"nav-item",role:"presentation",children:a.jsx("button",{className:`nav-link ${n==="contact"?"active":""}`,onClick:()=>p("contact"),type:"button",role:"tab",children:"Información de Contacto"})}),a.jsx("li",{className:"nav-item",role:"presentation",children:a.jsx("button",{className:`nav-link ${n==="policies"?"active":""}`,onClick:()=>p("policies"),type:"button",role:"tab",children:"Políticas y Términos"})}),a.jsx("li",{className:"nav-item",role:"presentation",children:a.jsx("button",{className:`nav-link ${n==="location"?"active":""}`,onClick:()=>p("location"),type:"button",role:"tab",children:"Ubicación"})})]}),a.jsxs("div",{className:"tab-content",id:"contactTabsContent",children:[a.jsxs("div",{className:`tab-pane fade ${n==="contact"?"show active":""}`,role:"tabpanel",children:[a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-md-6",children:[o.phones.map((e,i)=>a.jsxs("div",{className:"mb-3",children:[a.jsxs("label",{htmlFor:`phone-${i}`,className:"form-label",children:["Teléfono ",i+1]}),a.jsxs("div",{className:"input-group",children:[a.jsx("input",{type:"tel",className:"form-control",id:`phone-${i}`,value:e,onChange:l=>d(l,i,"phones"),required:!0}),a.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:()=>v(i,"phones"),children:a.jsx("i",{className:"fa fa-trash"})})]})]},`phone-${i}`)),a.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>h("phones"),children:"Agregar teléfono"})]}),a.jsxs("div",{className:"col-md-6",children:[o.emails.map((e,i)=>a.jsxs("div",{className:"mb-3",children:[a.jsxs("label",{htmlFor:`email-${i}`,className:"form-label",children:["Correo ",i+1]}),a.jsxs("div",{className:"input-group",children:[a.jsx("input",{type:"text",className:"form-control",id:`email-${i}`,value:e,onChange:l=>d(l,i,"emails"),required:!0}),a.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:()=>v(i,"emails"),children:a.jsx("i",{className:"fa fa-trash"})})]})]},`email-${i}`)),a.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>h("emails"),children:"Agregar correo"})]})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"cintillo",className:"form-label",children:"Cintillo"}),a.jsx("textarea",{className:"form-control",id:"cintillo",value:o.cintillo,onChange:e=>s({...o,cintillo:e.target.value})})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"copyright",className:"form-label",children:"Copyright"}),a.jsx("textarea",{className:"form-control",id:"copyright",value:o.copyright,onChange:e=>s({...o,copyright:e.target.value})})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"address",className:"form-label",children:"Dirección"}),a.jsx("textarea",{className:"form-control",id:"address",value:o.address,onChange:e=>s({...o,address:e.target.value}),required:!0})]}),a.jsx("div",{className:"mb-3",children:a.jsx(J,{label:"Horarios de atencion",onChange:e=>s({...o,openingHours:e.target.value}),value:o.openingHours,required:!0})}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"supportPhone",className:"form-label",children:"Número de soporte"}),a.jsx("input",{type:"tel",className:"form-control",id:"supportPhone",value:o.supportPhone,onChange:e=>s({...o,supportPhone:e.target.value}),required:!0})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"supportEmail",className:"form-label",children:"Correo de soporte"}),a.jsx("input",{type:"email",className:"form-control",id:"supportEmail",value:o.supportEmail,onChange:e=>s({...o,supportEmail:e.target.value}),required:!0})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"phoneWhatsapp",className:"form-label",children:"Número de Whatsapp"}),a.jsx("input",{type:"tel",className:"form-control",id:"phoneWhatsapp",value:o.phoneWhatsapp,onChange:e=>s({...o,phoneWhatsapp:e.target.value}),required:!0})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"messageWhatsapp",className:"form-label",children:"Mensaje de Whatsapp"}),a.jsx("input",{type:"tel",className:"form-control",id:"messageWhatsapp",value:o.messageWhatsapp,onChange:e=>s({...o,messageWhatsapp:e.target.value}),required:!0})]})]}),a.jsxs("div",{className:`tab-pane fade ${n==="policies"?"show active":""}`,role:"tabpanel",children:[a.jsx("div",{className:"mb-3",children:a.jsx(c,{label:"Política de privacidad",value:o.privacyPolicy,onChange:e=>s({...o,privacyPolicy:e})})}),a.jsx("div",{className:"mb-3",children:a.jsx(c,{label:"Términos y condiciones",value:o.termsConditions,onChange:e=>s({...o,termsConditions:e})})}),a.jsx("div",{className:"mb-3",children:a.jsx(c,{label:"Políticas de envío",value:o.deliveryPolicy,onChange:e=>s({...o,deliveryPolicy:e})})}),a.jsx("div",{className:"mb-3",children:a.jsx(c,{label:"Políticas de devolución y cambio",value:o.salebackPolicy,onChange:e=>s({...o,salebackPolicy:e})})})]}),a.jsxs("div",{className:`tab-pane fade ${n==="location"?"show active":""}`,role:"tabpanel",children:[a.jsx(L,{googleMapsApiKey:O.GMAPS_API_KEY,children:a.jsx(I,{mapContainerStyle:{width:"100%",height:"400px"},center:o.location,zoom:10,onClick:H,children:a.jsx(z,{position:o.location})})}),a.jsx("small",{className:"form-text text-muted",children:"Haz clic en el mapa para seleccionar la ubicación."})]})]}),a.jsx("button",{type:"submit",className:"btn btn-primary mt-3",children:"Guardar"})]})})};U((t,r)=>{Y(t).render(a.jsx(K,{...r,title:"Datos Generales",children:a.jsx(Z,{...r})}))});

import{j as r}from"./AboutSimple-Cf8x2fCZ.js";import{r as l}from"./index-BH53Isel.js";import{m as i}from"./main-BSEyQEJW.js";const C=({id:e,col:u,label:f,eRef:s,required:m=!1,dropdownParent:p,searchAPI:x,searchBy:n,multiple:j=!1,filter:o=null,onChange:g=()=>{},templateResult:N,templateSelection:d,tags:E})=>(s||(s=l.useRef()),e||(e=`select-${crypto.randomUUID()}`),l.useEffect(()=>{$(s.current).select2({dropdownParent:p,minimumInputLength:0,tags:E,ajax:{url:x,headers:{Accept:"application/json","Content-Type":"application/json","X-Xsrf-Token":decodeURIComponent(i.Cookies.get("XSRF-TOKEN"))},type:"POST",quietMillis:50,data:function({term:t,page:a}){return i.JSON.stringify({sort:[{selector:n,desc:!1}],skip:((a??1)-1)*10,take:10,filter:o?[[n,"contains",t||""],"and",o]:[n,"contains",t||""]})},processResults:function(t,{page:a}){return{results:((t==null?void 0:t.data)??[]).map(c=>{const S=i.JSON.flatten(c);return{id:c.id,text:S[n],data:c}}),pagination:{more:(a??1)*10<t.totalCount}}}},templateResult:N,templateSelection:d})},[p,o]),l.useEffect(()=>{$(s.current).on("change",g)},[o]),r.jsxs("div",{className:`form-group ${u} mb-2`,children:[r.jsxs("label",{htmlFor:e,className:"mb-1",children:[f," ",m&&r.jsx("b",{className:"text-danger",children:"*"})]}),r.jsx("select",{ref:s,id:e,required:m,className:"form-control",style:{width:"100%"},multiple:j})]}));export{C as S};

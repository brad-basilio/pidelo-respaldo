import{j as e}from"./AboutHeader-COUW3Uy_.js";import{R as k}from"./ComplaintSimple-C516LY_E.js";import{r as c}from"./index-CqkZ-sT_.js";import{I as s}from"./InputForm-Bi0MO6kS.js";import{u as x,S as m}from"./SelectForm-Dn2CGkP4.js";import"./index-D7Vukm9p.js";import"./hoist-non-react-statics.cjs-Dse_xkNE.js";import"./chevron-down-CxOx8ByU.js";import"./createLucideIcon-D0vxYqnu.js";import"./search-DhoFIDMi.js";import"./check-CvqheCNB.js";function U(){const v=c.useRef(null),[t,r]=c.useState({nombre:"",tipo_documento:"RUC",numero_identidad:"",celular:"",correo_electronico:"",departamento:"",provincia:"",distrito:"",direccion:"",tipo_roducto:"",monto_reclamado:"",descripcion_producto:"",tipo_reclamo:"",fecha_ocurrencia:"",numero_pedido:"",detalle_reclamo:"",acepta_terminos:!1}),l=o=>{const{name:a,value:h,type:n,checked:P}=o.target;r({...t,[a]:n==="checkbox"?P:h})},f=o=>{o.preventDefault();const a=v.current.getValue();if(!a){alert("Por favor, verifica el reCAPTCHA.");return}const h={...t,recaptcha_token:a};fetch("/api/complaints",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)}).then(n=>n.json()).then(n=>console.log("Respuesta del servidor:",n)).catch(n=>console.error("Error:",n))},[i,g]=c.useState(""),[d,b]=c.useState(""),[p,u]=c.useState(""),[N,y]=c.useState([]),[C,_]=c.useState([]),[S,j]=c.useState([]);c.useEffect(()=>{const o=[...new Set(x.map(a=>a.departamento))];y(o)},[]),c.useEffect(()=>{if(i){const o=[...new Set(x.filter(a=>a.departamento===i).map(a=>a.provincia))];_(o),b(""),u(""),j([]),r(a=>({...a,departamento:i,provincia:"",distrito:""}))}},[i]),c.useEffect(()=>{if(d){const o=x.filter(a=>a.departamento===i&&a.provincia===d).map(a=>a.distrito);j(o),u(""),r(a=>({...a,provincia:d,distrito:""}))}},[d]),c.useEffect(()=>{p&&r(o=>({...o,distrito:p}))},[p]);const D=[{value:"ruc",label:"RUC"},{value:"dni",label:"DNI"},{value:"ce",label:"CE"},{value:"pasaporte",label:"Pasaporte"}],E=[{value:"producto",label:"Producto"},{value:"servicio",label:"Servicio"}],F=[{value:"reclamo",label:"Reclamo"},{value:"queja",label:"Queja"}];return e.jsx("div",{className:" w-full px-primary mx-auto py-16 bg-[#F7F9FB]",children:e.jsxs("div",{className:"max-w-7xl mx-auto  bg-white shadow-lg rounded-2xl customtext-neutral-dark p-8",children:[e.jsx("h1",{className:"text-2xl font-bold mb-10 text-center uppercase",children:"Libro de Reclamaciones"}),e.jsxs("form",{onSubmit:f,children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-medium mb-4",children:"Identificación del Consumidor"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"space-y-1",children:e.jsx(s,{type:"text",label:"Nombres",name:"nombre",value:t.nombre,onChange:l,placeholder:"Nombres"})}),e.jsx("div",{className:"space-y-1",children:e.jsx(m,{label:"Tipo de documento",options:D,placeholder:"Selecciona  documento",onChange:o=>{r(a=>({...a,tipo_documento:o}))}})}),e.jsx("div",{className:"space-y-1",children:e.jsx(s,{type:"text",label:"Número de identidad",name:"numero_identidad",value:t.numero_identidad,onChange:l,placeholder:"Número de identidad"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsx("div",{className:"space-y-1",children:e.jsx(s,{type:"text",label:"Número de celular",name:"celular",value:t.celular,onChange:l,placeholder:"Número de celular"})}),e.jsx("div",{className:"space-y-1",children:e.jsx(s,{type:"text",label:" Correo Electrónico",name:"correo_electronico",value:t.correo_electronico,onChange:l,placeholder:" Correo Electrónico"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[e.jsx(m,{label:"Departamento",options:N,placeholder:"Selecciona un Departamento",onChange:o=>{g(o),r(a=>({...a,departmento:i}))}}),e.jsx(m,{disabled:!i,label:"Provincia",options:C,placeholder:"Selecciona una Provincia",onChange:o=>{b(o),r(a=>({...a,provincia:d}))}}),e.jsx(m,{disabled:!d,label:"Distrito",options:S,placeholder:"Selecciona un Distrito",onChange:o=>{u(o),r(a=>({...a,distrito:p}))}})]}),e.jsx("div",{className:"mt-4",children:e.jsx("div",{className:"space-y-1",children:e.jsx(s,{type:"text",label:"Dirección",name:"direccion",value:t.direccion,onChange:l,placeholder:" Dirección"})})})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-medium mb-4",children:"Identificación del bien contratado"}),e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:"relative mt-1",children:e.jsx(m,{label:" ¿Fue un producto o Servicio?",options:E,placeholder:"Selecciona...",onChange:o=>{r(a=>({...a,tipo_roducto:o}))}})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsx("div",{className:"space-y-1",children:e.jsx(s,{type:"number",label:" Monto reclamado",name:"monto_reclamado",value:t.monto_reclamado,onChange:l,placeholder:"Monto reclamado"})}),e.jsx("div",{className:"space-y-1",children:e.jsx(s,{type:"text",label:" Descripción de producto",name:"descripcion_producto",value:t.descripcion_producto,onChange:l,placeholder:"Nombre de producto y/o servicios, código(opcional)"})})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-medium mb-4",children:"Detalle del reclamo del pedido del consumidor"}),e.jsx("div",{className:"mb-4",children:e.jsx(m,{label:"¿Es un reclamo o queja?",options:F,placeholder:"Selecciona...",onChange:o=>{r(a=>({...a,tipo_reclamo:o}))}})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsx("div",{className:"space-y-1",children:e.jsx(s,{type:"date",label:"  Fecha de ocurrencia",name:"fecha_ocurrencia",value:t.fecha_ocurrencia,onChange:l,placeholder:"dd/mm/aaaa"})}),e.jsx("div",{className:"space-y-1",children:e.jsx(s,{type:"text",label:"Número de Pedido",name:"numero_pedido",value:t.numero_pedido,onChange:l,placeholder:"Número de pedido: #95825548"})})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-sm mb-1 customtext-neutral-dark",children:"Detalle de reclamo o queja"}),e.jsx("textarea",{name:"detalle_reclamo",placeholder:"Detalle de reclamo",className:"w-full min-h-32  px-4 py-3 border customtext-neutral-dark  border-neutral-ligth rounded-xl focus:ring-0 focus:outline-0   transition-all duration-300",value:t.detalle_reclamo,onChange:l})]})})]}),e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"terminos",name:"acepta_terminos",className:"mt-1 mr-2",checked:t.acepta_terminos,onChange:l}),e.jsxs("label",{htmlFor:"terminos",className:"text-sm",children:["Estoy de acuerdo con los"," ",e.jsx("a",{href:"#",className:"customtext-primary underline",children:"términos y condiciones"})]})]})}),e.jsx("div",{className:"mb-8",children:e.jsx(k,{ref:v,sitekey:"6LfAcfcqAAAAACc7tfKbaBFc1X5I9V4fewWoVf-9"})}),e.jsx("div",{children:e.jsx("button",{type:"submit",className:"bg-primary text-white px-6 py-3 font-medium rounded-lg",children:"Enviar a libro de reclamaciones"})})]})]})})}export{U as default};

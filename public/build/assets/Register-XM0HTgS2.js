import{j as e}from"./AboutHeader-CCjYJYRa.js";import{x as T}from"./index.esm-CjMKNGmS.js";import{J as I}from"./JSEncrypt-D3I3x59l.js";import{r as s}from"./index-uubelm5h.js";import{c as A}from"./ReactAppend-D1nF3Xey.js";import{R as B}from"./recaptcha-wrapper-BuTKYoFt.js";import{S as v}from"./ProductCard-BZT65A0a.js";import{A as M}from"./AuthRest-BpYHMcT5.js";import{S as R}from"./SelectFormGroup-Dlj3BgUB.js";import{M as V}from"./Modal-ikQ4MCNw.js";import{C as D}from"./CreateReactScript-Bw9gKuVx.js";import{H}from"./HtmlContent-DpANbyBm.js";import"./___vite-browser-external_commonjs-proxy-vlWEfB-S.js";import"./index-tHDI8mKD.js";import"./index-D3eZ-H7s.js";import"./hoist-non-react-statics.cjs-C44InF_8.js";import"./main-43QDnU-D.js";import"./Global-BM4Id4Pw.js";/* empty css               *//* empty css              */import"./General-BmbBKdsB.js";const J=({PUBLIC_RSA_KEY:c,RECAPTCHA_SITE_KEY:l,token:L,terms:y="Terminos y condiciones",roles:w=[],specialties:k})=>{document.title="Registro | NetCoaching";const n=new I;n.setPublicKey(c);const[i,a]=s.useState(!0),[m,C]=s.useState(null),[O,F]=s.useState(!1),d=s.useRef(),u=s.useRef(),x=s.useRef(),f=s.useRef(),h=s.useRef(),p=s.useRef(),j=s.useRef(),N=s.useRef(),b=s.useRef();s.useEffect(()=>{a(!1)},[null]);const S=async r=>{r.preventDefault(),a(!0);const t=h.current.value,g=p.current.value;if(t!=g)return v.fire({icon:"warning",title:"Error",text:"Las contrase単as no coinciden",confirmButtonText:"Ok"});if(!m)return v.fire({icon:"warning",title:"Error",text:"Por favor, complete el captcha",confirmButtonText:"Ok"});const E={role:$(d.current).val(),name:u.current.value,lastname:x.current.value,email:f.current.value,password:n.encrypt(t),confirmation:n.encrypt(g),terms:j.current.checked,captcha:m,specialties:$(N.current).val()},o=await M.signup(E);if(!o)return a(!1);o&&(location.href=`./confirm-email/${o}`),a(!1)},q=r=>{documentNumberRef.current.value="",F(!1)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"account-pages mt-5 mb-5",children:e.jsx("div",{className:"container",children:e.jsx("div",{className:"row justify-content-center",children:e.jsxs("div",{className:"col-md-8 col-lg-6 col-xl-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("a",{href:"/",children:e.jsx("img",{src:"/assets/img/logo-default.png",alt:"",className:"mx-auto",style:{height:"40px"}})}),e.jsx("p",{className:"text-muted mt-2 mb-4",children:"Bienvenido a Trasciende"})]}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body p-4",children:[e.jsx("div",{className:"text-center mb-4",children:e.jsx("h4",{className:"text-uppercase mt-0 font-bold",children:"Registrate"})}),e.jsxs("form",{onSubmit:S,className:"row",children:[e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"row justify-content-center",children:e.jsxs("div",{className:"col-sm-6 mb-2",children:[e.jsxs("label",{htmlFor:"role",className:"form-label",children:["Tipo de usuario ",e.jsx("b",{className:"text-danger",children:"*"})]}),e.jsx(R,{eRef:d,onChange:q,required:!0,children:w.map((r,t)=>e.jsx("option",{value:r.relative_id,children:r.name}))})]})})}),e.jsx(R,{label:"Especialidad",eRef:N,required:!0,multiple:!0,children:k.map((r,t)=>e.jsx("option",{value:r.id,children:r.name},`specialty-${t}`))}),e.jsxs("div",{className:"col-sm-6 mb-2",children:[e.jsxs("label",{htmlFor:"name",className:"form-label",children:["Nombres ",e.jsx("b",{className:"text-danger",children:"*"})]}),e.jsx("input",{ref:u,className:"form-control",type:"text",id:"name",placeholder:"Ingrese su nombre",required:!0})]}),e.jsxs("div",{className:"col-sm-6 mb-2",children:[e.jsxs("label",{htmlFor:"lastname",className:"form-label",children:["Apellidos ",e.jsx("b",{className:"text-danger",children:"*"})]}),e.jsx("input",{ref:x,className:"form-control",type:"text",id:"lastname",placeholder:"Ingrese sus apellidos",required:!0})]}),e.jsxs("div",{className:"col-12 mb-2",children:[e.jsxs("label",{htmlFor:"email",className:"form-label",children:["Correo electronico ",e.jsx("b",{className:"text-danger",children:"*"})]}),e.jsx("input",{ref:f,className:"form-control",type:"email",id:"email",required:!0,placeholder:"Ingrese su correo electronico"})]}),e.jsxs("div",{className:"col-sm-6 mb-2",children:[e.jsxs("label",{htmlFor:"password",className:"form-label",children:["Contrase単a ",e.jsx("b",{className:"text-danger",children:"*"})]}),e.jsx("input",{ref:h,className:"form-control",type:"password",required:!0,id:"password",placeholder:"Ingrese su contrase単a"})]}),e.jsxs("div",{className:"col-sm-6 mb-3",children:[e.jsxs("label",{htmlFor:"confirmation",className:"form-label",children:["Confirmacion ",e.jsx("b",{className:"text-danger",children:"*"})]}),e.jsx("input",{ref:p,className:"form-control",type:"password",required:!0,id:"confirmation",placeholder:"Confirme su contrase単a"})]}),e.jsx("div",{className:"col-12 mb-3",children:e.jsxs("div",{className:"form-check mx-auto",style:{width:"max-content"},children:[e.jsx("input",{ref:j,type:"checkbox",className:"form-check-input",id:"checkbox-signup",required:!0}),e.jsxs("label",{className:"form-check-label",htmlFor:"checkbox-signup",children:["Acepto los",e.jsx("a",{href:"#terms",className:"ms-1 text-blue",onClick:()=>$(b.current).modal("show"),children:"terminos y condiciones"})]})]})}),e.jsx(B,{className:"m-auto mb-3",sitekey:l,onChange:C,style:{display:"block",width:"max-content"}}),e.jsx("div",{className:"mb-0 text-center d-grid",children:e.jsx("button",{className:"btn btn-primary",type:"submit",disabled:i,children:i?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fa fa-spinner fa-spin"})," Verificando"]}):"Registrarme"})})]})]})}),e.jsx("div",{className:"row mt-3",children:e.jsx("div",{className:"col-12 text-center",children:e.jsxs("p",{className:"text-muted",children:["Ya tienes una cuenta? ",e.jsx(T,{href:"/login",className:"text-white ms-1",children:e.jsx("b",{children:"Iniciar sesion"})})]})})})]})})})}),e.jsx(V,{modalRef:b,title:"Terminos y condiciones",size:"lg",hideFooter:!0,children:e.jsx(H,{html:y})})]})};D((c,l)=>{A(c).render(e.jsx(J,{...l}))});

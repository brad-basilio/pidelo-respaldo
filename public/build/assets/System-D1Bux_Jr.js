var ne=Object.defineProperty;var re=(s,r,n)=>r in s?ne(s,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[r]=n;var D=(s,r,n)=>(re(s,typeof r!="symbol"?r+"":r,n),n);import{j as e}from"./AboutHeader-Bdo2C3ON.js";import{r as o}from"./index-DFv2mRv-.js";import{c as ie}from"./ReactAppend-CwiwA4iz.js";import{C as le}from"./CreateReactScript-D-eDfVKV.js";import{i as J}from"./tippy-react.esm-BVvHiWwH.js";import{m as R}from"./main-BBbUrZUL.js";import{B as ae}from"./BasicEditing-Ce9hwHaI.js";import{S as X}from"./SwitchFormGroup-CHRdLToT.js";import{G as q}from"./Global-mC9lKANG.js";import{S as Y}from"./SortByAfterField-BaS5rBg8.js";import{I as L}from"./InputFormGroup-Di7UVG_e.js";import{M as ee}from"./Modal-C9s5p_Ex.js";import{S as z}from"./SelectFormGroup-BrarcXCi.js";import{S as ce}from"./SetSelectValue-UxyCmHse.js";import{a as oe,M as K}from"./MenuItemContainer-xrd2f-pb.js";import{M as me}from"./Modal-41duzYEO.js";import"./index-DgyC5pTR.js";import"./index.esm-B502ZfUP.js";import"./___vite-browser-external_commonjs-proxy-BQdpDcDf.js";/* empty css               *//* empty css              */class T extends ae{constructor(){super(...arguments);D(this,"path","admin/system");D(this,"savePage",async(n={})=>{try{const{status:i,result:l}=await R.Fetch(`/api/${this.path}/page`,{method:"POST",body:JSON.stringify(n)});if(!i)throw new Error((l==null?void 0:l.message)||"Ocurrio un error inesperado");return l.data??[]}catch(i){return R.Notify.add({icon:"/assets/img/icon.svg",title:"Error",body:i.message,type:"danger"}),null}});D(this,"updateOrder",async n=>{try{const{status:i,result:l}=await R.Fetch(`/api/${this.path}/order`,{method:"PATCH",body:JSON.stringify(n)});if(!i)throw new Error((l==null?void 0:l.message)??"Ocurrio un error inesperado");return!0}catch(i){R.Notify.add({icon:"/assets/img/icon.svg",title:"Error",body:i.message,type:"danger"})}});D(this,"deletePage",async n=>{try{const{status:i,result:l}=await R.Fetch(`/api/${this.path}/page/${n}`,{method:"DELETE"});if(!i)throw new Error((l==null?void 0:l.message)||"Ocurrio un error inesperado");return l.data??!0}catch(i){return R.Notify.add({icon:"/assets/img/icon.svg",title:"Error",body:i.message,type:"danger"}),!1}});D(this,"exportBK",async()=>{try{const{status:n,result:i}=await R.Fetch(`/api/${this.path}/backup`);if(!n)throw new Error((i==null?void 0:i.message)||"Ocurrio un error inesperado");return i}catch(n){return R.Notify.add({icon:"/assets/img/icon.svg",title:"Error",body:n.message,type:"danger"}),null}});D(this,"importBK",async n=>{try{const i=await fetch(`/api/${this.path}/backup`,{method:"POST",headers:{"X-Xsrf-Token":decodeURIComponent(R.Cookies.get("XSRF-TOKEN"))},body:n}),l=JSON.parseable(await i.text());if(!i.ok)throw new Error((l==null?void 0:l.message)||"Ocurrio un error inesperado");return l??!0}catch(i){return R.Notify.add({icon:"/assets/img/icon.svg",title:"Error",body:i.message,type:"danger"}),null}})}}const G=(s="")=>{s=s.replace(/[^a-zA-Z0-9_{}]/g,"");const r=/{([^}]+)}/g,n=[];let i;for(;(i=r.exec(s))!==null;)n.push(i[1]);return n},ue=(s,r)=>{const n=new RegExp(`[${r}]+$`,"g");return s.replace(n,"")},V=new T,de=s=>{const{id:r,name:n,path:i,extends_base:l=!1,menuable:m=!1,setPages:a,onSEOClicked:h,onParamsClicked:f}=s,[c,v]=o.useState(!1),[b,w]=o.useState(!1),[k,y]=o.useState(!1),[P,p]=o.useState(!1),g=async x=>{if(n===x.target.value)return v(!1);V.savePage({id:r,name:x.target.value})&&(v(!1),a(d=>d.map(u=>u.id===r?{...u,name:x.target.value}:u)))},E=async x=>{if(i===x.target.value)return w(!1);const t=x.target.value;let d=structuredClone(t);const u=s.using??{model:null,field:null,with:[]};for(const C in G(t))d=d.replace(`{${C}}`,"").replace(`{${C}?}`,""),u[C]=u[C]??{};const j=ue(d,"/");V.savePage({id:r,path:t,pseudo_path:j,using:Object.keys(u).length>0?u:void 0})&&(w(!1),a(C=>C.map(B=>B.id===r?{...B,path:x.target.value}:B)))},O=async x=>{y(!0);const t=x.target.checked,d=V.savePage({id:r,extends_base:t});y(!1),d&&a(u=>u.map(j=>j.id===r?{...j,extends_base:t}:j))},A=async x=>{p(!0);const t=x.target.checked,d=V.savePage({id:r,menuable:t});p(!1),d&&a(u=>u.map(j=>j.id===r?{...j,menuable:t}:j))},N=async x=>{await V.deletePage(x.id)&&(a(d=>d.filter(u=>u.id!=x.id)),$('[data-bs-toggle="tab"]').removeClass("active"),$(".tab-pane").removeClass("active"),$("#base-template-link").addClass("active"),$("#base-template").addClass("active"))},S=G(i);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"dropdown float-end",children:[e.jsx("a",{href:"#",className:"dropdown-toggle arrow-none card-drop","data-bs-toggle":"dropdown","aria-expanded":"false",children:e.jsx("i",{className:"mdi mdi-dots-vertical"})}),e.jsxs("div",{className:"dropdown-menu dropdown-menu-end",children:[e.jsxs("button",{className:"dropdown-item",onClick:()=>h(s),children:[e.jsx("i",{className:"mdi mdi-cloud-search-outline me-1"}),"Editar SEO"]}),S.length>0&&e.jsxs("button",{className:"dropdown-item",onClick:()=>f(s),children:[e.jsx("i",{className:"mdi mdi-code-braces me-1"}),"Parámetros"]}),e.jsx("div",{className:"dropdown-divider"}),e.jsxs("button",{className:"dropdown-item",onClick:()=>N(s),children:[e.jsx("i",{className:"mdi mdi-trash-can-outline me-1"}),"Eliminar página"]})]})]}),e.jsxs("div",{children:[c?e.jsx("input",{className:"form-control form-control-sm mb-1",defaultValue:n,onBlur:g,autoFocus:!0}):e.jsx(J,{content:"Editar nombre",placement:"left",children:e.jsx("h4",{className:"header-title mb-1 d-block",onClick:()=>v(!0),style:{minWidth:"200px",cursor:"pointer"},children:n||"Sin nombre"})}),b?e.jsx("input",{className:"form-control form-control-sm mb-1",defaultValue:i,style:{minHeight:27,fieldSizing:"content"},onBlur:E,autoFocus:!0}):e.jsx(J,{content:"Editar ruta",placement:"left",children:e.jsx("small",{className:"text-muted d-block mb-1",onClick:()=>w(!0),style:{minWidth:"200px",cursor:"pointer"},children:i||"Sin ruta"})})]}),e.jsxs("div",{className:"row",children:[e.jsx(X,{label:"Extiende de base",col:"col-lg-6 col-md-12 col-sm-6",checked:l,onChange:O,disabled:k}),e.jsx(X,{label:"Mostrar en menu",col:"col-lg-6 col-md-12 col-sm-6",checked:m,onChange:A,disabled:P})]})]})},se=({col:s,label:r,eRef:n,placeholder:i,required:l=!1,rows:m=3,value:a,onChange:h,style:f={}})=>e.jsxs("div",{className:`form-group ${s} mb-2`,children:[e.jsxs("label",{htmlFor:"",children:[r," ",l&&e.jsx("b",{className:"text-danger",children:"*"})]}),e.jsx("textarea",{ref:n,className:"form-control",placeholder:i,required:l,rows:m,defaultValue:a,style:{...f,minHeight:m*27,fieldSizing:"content"},onChange:h})]}),he=new T,fe=({dataLoaded:s,setDataLoaded:r,modalRef:n})=>{const i=o.useRef(null),l=o.useRef(null),m=o.useRef(null),a=async h=>{h.preventDefault(),await he.savePage({id:s.id,description:l.current.value,keywords:$(m.current).val()})&&(r(null),$(n.current).modal("hide"))};return o.useEffect(()=>{i.current.value=`${s==null?void 0:s.name} | ${q.APP_NAME}`,l.current.value=(s==null?void 0:s.description)??"",ce(m.current,(s==null?void 0:s.keywords)??[])},[s]),e.jsx(ee,{modalRef:n,title:`Editar SEO - ${s==null?void 0:s.name}`,size:"sm",onSubmit:a,children:e.jsxs("div",{id:"seo-container",children:[e.jsx(L,{eRef:i,label:"Título",disabled:!0}),e.jsx(se,{eRef:l,label:"Descripción",rows:2}),e.jsx(z,{eRef:m,label:"Palabras clave",tags:!0,multiple:!0,dropdownParent:"#seo-container"})]})})},Z=({className:s,system:r,component:n,onComponentClicked:i,onDeleteClicked:l,onEditDataClicked:m})=>{var f;const a=(n==null?void 0:n.options)??[],h=a.find(c=>c.id==r.value);return e.jsxs("div",{className:`dropdown ${s}`,"data-id":r.id,children:[e.jsxs("div",{className:"btn btn-light dropdown-toggle text-truncate w-100 text-start",type:"button",id:`dd-${r.id}`,"data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true",children:[e.jsx("i",{className:"mdi mdi-chevron-down ms-1 float-end"}),e.jsxs("span",{className:"handle-sortable",style:{cursor:"move"},children:[e.jsx("i",{className:"fa fa-ellipsis-v"}),e.jsx("i",{className:"fa fa-ellipsis-v"})]}),e.jsx("span",{className:"ms-1",children:r.name})]}),e.jsxs("div",{className:"dropdown-menu","aria-labelledby":`dd-${r.id}`,"data-popper-placement":"bottom-start",children:[a.length>1&&e.jsxs(e.Fragment,{children:[a.filter(c=>c.id!=r.value).map(c=>e.jsxs("button",{className:"dropdown-item",onClick:()=>i({...r,name:`${n.name} - ${c.name}`,value:c.id}),children:[n.name," - ",c.name]})),e.jsx("div",{className:"dropdown-divider"})]}),(((f=h==null?void 0:h.using)==null?void 0:f.filters)||(h==null?void 0:h.data))&&e.jsxs("button",{className:"dropdown-item",onClick:()=>m(r,h),children:[e.jsx("i",{className:"mdi mdi-pencil me-1"}),"Configurar datos"]}),e.jsxs("button",{className:"dropdown-item",onClick:()=>l(r),children:[e.jsx("i",{className:"mdi mdi-trash-can-outline me-1"}),"Eliminar"]})]})]})},pe=({col:s,label:r,eRef:n,placeholder:i,required:l=!1,rows:m=3,value:a,onChange:h=()=>{}})=>{const[f,c]=o.useState(a),v=o.useRef(),b=o.useRef(null),w=n||v;return o.useEffect(()=>(b.current&&(b.current.toTextArea(),b.current=null),b.current=CodeMirror.fromTextArea(w.current,{mode:"htmlmixed",theme:"sode",indentUnit:2,tabSize:2}),b.current.setValue(a),setTimeout(()=>{b.current.refresh()},125),b.current.on("change",k=>{const y=k.getValue();c(y),h({target:{value:y}})}),()=>{b.current&&(b.current.toTextArea(),b.current=null)}),[w]),o.useEffect(()=>{f!==a&&(c(a),b.current&&(b.current.setValue(a),setTimeout(()=>{b.current.refresh()},125)))},[a]),e.jsxs("div",{className:`form-group ${s} mb-2`,children:[e.jsxs("label",{htmlFor:"",className:"mb-1",children:[r," ",l&&e.jsx("b",{className:"text-danger",children:"*"})]}),e.jsx("textarea",{ref:w,className:"form-control",placeholder:i,required:l,rows:m,defaultValue:a,onChange:k=>c(k.target.value)})]})},xe=new T,be=({dataLoaded:s,setDataLoaded:r,setSystems:n,modalRef:i})=>{var f,c,v,b,w,k,y,P,p,g,E,O,A;const[l,m]=o.useState((s==null?void 0:s.data)||{}),a={};a.model=o.useRef(null),a.filters=o.useRef(null);const h=async N=>{N.preventDefault();const S=await xe.save({id:s.id,data:l,filters:$(a.filters.current).val()});S&&(r(null),$(i.current).modal("hide"),n(x=>x.map(t=>t.id==s.id?S.data:t)))};return o.useEffect(()=>{var S,x,t;const N={};(S=s==null?void 0:s.component)==null||S.data.forEach(d=>{var u;N[d]=((u=s==null?void 0:s.data)==null?void 0:u[d])??""}),m(N),a.model.current.value=((t=(x=s==null?void 0:s.component)==null?void 0:x.using)==null?void 0:t.model)??"",$(a.filters.current).val((s==null?void 0:s.filters)??[]).trigger("change")},[s]),e.jsxs(ee,{modalRef:i,title:s==null?void 0:s.name,onSubmit:h,children:[e.jsxs("ul",{className:"nav nav-tabs nav-bordered",children:[e.jsx("li",{className:"nav-item",hidden:!((c=(f=s==null?void 0:s.component)==null?void 0:f.data)!=null&&c.length),children:e.jsx("a",{href:"#tab-info","data-bs-toggle":"tab","aria-expanded":"true",className:"nav-link active",children:"Información"})}),e.jsx("li",{className:"nav-item",hidden:!((b=(v=s==null?void 0:s.component)==null?void 0:v.using)!=null&&b.filters),children:e.jsx("a",{href:"#tab-db","data-bs-toggle":"tab","aria-expanded":"true",className:"nav-link",children:"Base de datos"})})]}),e.jsxs("div",{className:"tab-content",children:[e.jsx("div",{className:"tab-pane active",id:"tab-info",hidden:!((k=(w=s==null?void 0:s.component)==null?void 0:w.data)!=null&&k.length),children:(P=(y=s==null?void 0:s.component)==null?void 0:y.data)==null?void 0:P.map((N,S)=>N.startsWith("code:")?e.jsx(pe,{label:N.replace("code:",""),value:l[N]??"",rows:1,onChange:x=>m({...l,[N]:x.target.value})},S):e.jsx(se,{label:N,value:l[N]??"",rows:1,onChange:x=>m({...l,[N]:x.target.value})},S))}),e.jsxs("div",{className:"tab-pane show",id:"tab-db",children:[e.jsx(L,{eRef:a.model,label:"Modelo",disabled:!0}),e.jsx(z,{eRef:a.filters,label:"Filtros",multiple:!0,dropdownParent:"#tab-db",hidden:!((g=(p=s==null?void 0:s.component)==null?void 0:p.using)!=null&&g.filters),children:(A=(O=(E=s==null?void 0:s.component)==null?void 0:E.using)==null?void 0:O.filters)==null?void 0:A.map((N,S)=>e.jsx("option",{value:N,children:N},S))})]})]})]})},Q=new T,ge=({components:s,onClick:r})=>e.jsx("div",{className:"left-side-menu top-0 pt-2",children:e.jsxs("div",{"data-simplebar":!0,className:"h-100",children:[e.jsx("div",{id:"sidebar-menu",className:"show",children:e.jsxs("ul",{id:"side-menu",children:[e.jsx("li",{className:"menu-title",children:"Lista de componentes"}),s.filter(n=>n.options.length>0).map((n,i)=>e.jsx(oe,{title:n.name,children:n.options.map((l,m)=>e.jsx(K,{name:l.name,icon:l.image,onClick:()=>{const a=$(".tab-pane:visible .components-container > div").last().data("id");r({name:`${n.name} - ${l.name}`,component:n.id,value:l.id,after_component:a})},children:l.name},m))},i)),e.jsx("li",{className:"menu-title",children:"Sistema de respaldo"}),e.jsx(K,{icon:"mdi mdi-cloud-download",onClick:async()=>{const n=await Q.exportBK(),i=new Blob([JSON.stringify(n)],{type:"application/json"}),l=URL.createObjectURL(i),m=document.createElement("a");m.href=l,m.download="backup.json",document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(l)},children:"Exportar Backup"}),e.jsx("input",{type:"file",id:"file-input",accept:"application/json",style:{display:"none"},onChange:async n=>{const i=n.target.files[0];if(n.target.value=null,i){const l=new FormData;if(l.append("backup",i),!await Q.importBK(l))return;location.reload()}}}),e.jsx(K,{icon:"mdi mdi-backup-restore",onClick:()=>{document.getElementById("file-input").click()},children:"Importar Backup"})]})}),e.jsx("div",{className:"clearfix"})]})}),je=({page:s,param:r,models:n,setUsing:i,setPages:l})=>{var k,y,P;const m=o.useRef(),a=o.useRef(),h=o.useRef(),f=s==null?void 0:s.using,[c,v]=o.useState(null),b=p=>{const g=m.current.value,E=n.find(O=>O.name==g)??null;v(E)};o.useEffect(()=>{var p;$(m.current).val((p=f==null?void 0:f[r])==null?void 0:p.model).trigger("change")},[r]),o.useEffect(()=>{var p,g;i(E=>({...E,[r]:{...E[r],model:(c==null?void 0:c.name)??null}})),$(a.current).val(((p=f==null?void 0:f[r])==null?void 0:p.field)??null).trigger("change"),$(h.current).val(((g=f==null?void 0:f[r])==null?void 0:g.relations)??[]).trigger("change")},[c]);const w=`${r}-container`;return e.jsxs("div",{id:w,className:"row",children:[e.jsxs("label",{className:"form-label",children:["Parámetro ",e.jsx("code",{children:r})]}),e.jsx(z,{eRef:m,label:"Modelo",col:"col-md-6",dropdownParent:`#${w}`,onChange:b,children:n.map((p,g)=>e.jsx("option",{value:p.name,children:p.name},g))}),e.jsx(z,{eRef:a,label:"Campo",col:"col-md-6",dropdownParent:`#${w}`,onChange:p=>{i(g=>({...g,[r]:{...g[r],field:p.target.value}}))},children:(k=c==null?void 0:c.fields)==null?void 0:k.map((p,g)=>e.jsx("option",{children:p},g))}),e.jsx("div",{hidden:(((y=c==null?void 0:c.relations)==null?void 0:y.length)??0)==0,children:e.jsx(z,{eRef:h,label:"Relaciones",multiple:!0,dropdownParent:`#${w}`,onChange:p=>{const g=$(p.target).val();i(E=>({...E,[r]:{...E[r],relations:g}}))},children:(P=c==null?void 0:c.relations)==null?void 0:P.map((p,g)=>e.jsx("option",{children:p},g))})})]})},ve=new T,Ne=({dataLoaded:s,setDataLoaded:r,setPages:n,modalRef:i,models:l})=>{const m=G((s==null?void 0:s.path)??""),[a,h]=o.useState({}),f=async c=>{c.preventDefault();const v=await ve.savePage({id:s.id,using:a});v&&(r(null),n(v),$(i.current).modal("hide"))};return o.useEffect(()=>{h((s==null?void 0:s.using)??{})},[s]),e.jsx(me,{modalRef:i,title:`Editar parámetros de URL - ${s==null?void 0:s.name}`,onSubmit:f,onClose:()=>r(null),children:m.map((c,v)=>e.jsx(je,{page:s,param:c,models:l,using:a,setUsing:h,setPages:n},v))})},U=new T,we=({systems:s,pages:r,components:n,models:i})=>{const l=o.useRef(null),m=o.useRef(null),a=o.useRef(null),[h,f]=o.useState(s),[c,v]=o.useState(r),[b,w]=o.useState(!1),[k,y]=o.useState(null),[P,p]=o.useState(null),g=async()=>{w(!0);const t=await U.savePage();t&&(w(!1),v(t))},E=async t=>{const u=$(".tab-pane:visible").data("id")??null;t.page_id=u;const j=await U.save(t);if(!j)return;const M=j.data;f(C=>C.some(F=>F.id===M.id)?C.map(F=>F.id===M.id?M:F):[...C,M])},O=async t=>{await U.delete(t.id)&&f(u=>u.filter(j=>j.id!=t.id))};o.useEffect(()=>{document.title=`Sistema | ${q.APP_NAME}`},[null]),o.useEffect(()=>{const t=$("iframe:visible");t&&($(t).removeAttr("src"),$(t).attr("src",t.data("path")))},[h,c]);const A=t=>{const d=$(t.target).data("page-id"),u=$(t.target).data("page-path"),j=$(t.target).val();$(`#iframe-${d}`).removeAttr("src"),$(`#iframe-${d}`).attr("src",`${u}/${j}`)},N=async t=>{y(t),$(l.current).modal("show")},S=async t=>{y(t),$(m.current).modal("show")},x=async(t,d)=>{p({...t,component:d}),$(a.current).modal("show")};return o.useEffect(()=>{[...$(".components-container")].forEach(d=>{$(d).sortable({connectWith:".components-container",handle:".handle-sortable",forcePlaceholderSize:!0,update:async function(u,j){const M=[...$(d).children()],C={};if(M.forEach(B=>{const F=$(B).data("id"),_=$(B).prev().data("id")??null,I=h.find(W=>W.id==F);(I==null?void 0:I.after_component)!==_&&(C[F]=_)}),Object.keys(C).length>0){if(!await U.updateOrder(C))return;f(F=>{const _=[...F];return Object.entries(C).forEach(([I,W])=>{const H=_.findIndex(te=>te.id==I);H!==-1&&(_[H]={..._[H],after_component:W})}),_})}}}).disableSelection()})},[c,h]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{id:"wrapper",children:[e.jsx(ge,{components:n,onClick:E}),e.jsx("div",{className:"content-page mt-2 pb-3",style:{height:"max-content"},children:e.jsx("div",{className:"content mt-2",children:e.jsxs("div",{className:"container-fluid",children:[e.jsx("button",{className:"button-menu-mobile d-lg-none d-md-block position-absolute ",style:{zIndex:1,border:"none",borderRadius:"0 50% 50% 0",backgroundColor:"#fff",color:"#343a40",top:"50%",left:"0",transform:"translateY(-50%)",padding:"24px 0px 20px 6px ",fontWeight:"bold"},children:"〉"}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"card mb-0",children:e.jsxs("div",{className:"card-body",style:{height:"calc(100vh - 48px)"},children:[e.jsxs("ul",{className:"nav nav-tabs nav-bordered flex-nowrap",style:{overflowX:"auto",overflowY:"hidden"},children:[e.jsx("li",{className:"nav-item",children:e.jsx("a",{id:"base-template-link",href:"#base-template","data-bs-toggle":"tab","aria-expanded":"false",className:"nav-link active h-100",children:"Base"})}),c.map((t,d)=>e.jsx("li",{className:"nav-item",children:e.jsxs("a",{href:`#page-${t.id}`,"data-bs-toggle":"tab","aria-expanded":"false",className:"nav-link h-100",style:{whiteSpace:"nowrap"},children:[t.name,e.jsx("small",{className:"d-block text-muted",style:{fontWeight:"normal"},children:t.path})]})},d)),e.jsx("li",{className:"nav-item d-flex justify-content-center align-items-center px-2",children:e.jsx(J,{content:"Agregar página",children:e.jsx("button",{className:"nav-link btn btn-xs btn-white rounded-pill",onClick:g,disabled:b,children:b?e.jsx("i",{className:"mdi mdi-loading mdi-spin"}):e.jsx("i",{className:"mdi mdi-plus"})})})})]}),e.jsxs("div",{className:"tab-content",children:[e.jsx("div",{className:"tab-pane active",id:"base-template",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-4",children:e.jsx("div",{className:"d-flex flex-column gap-2 components-container","data-page-id":null,children:Y(h).filter(t=>t.page_id==null).map(t=>{const d=n.find(u=>u.id==t.component);if(d==null||d.options,t.component=="content")return e.jsxs("button",{"data-id":t.id,className:"btn btn-light text-truncate w-100 text-start",type:"button",children:[e.jsx("i",{className:"fa fa-ellipsis-v"}),e.jsx("i",{className:"fa fa-ellipsis-v"}),e.jsx("span",{className:"ms-1",children:t.name})]});{const u=n.find(j=>j.id==t.component);return e.jsx(Z,{className:"",system:t,component:u,onComponentClicked:E,onDeleteClicked:O,onEditDataClicked:x},t.id)}})})}),e.jsx("div",{className:"col-md-8",children:e.jsx("iframe",{src:"/base-template","data-path":"/base-template",className:"w-100 h-100 border",style:{minHeight:"calc(100vh - 185px)",borderRadius:"4px"}})})]})}),c.map((t,d)=>e.jsx("div",{className:"tab-pane",id:`page-${t.id}`,"data-id":t.id,children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-4",children:[e.jsx(de,{...t,models:i,setPages:v,onSEOClicked:N,onParamsClicked:S}),e.jsx("hr",{className:"my-2"}),e.jsx("div",{className:"d-flex flex-column gap-2 components-container","data-page-id":t.id,children:Y(h).filter(u=>u.page_id==t.id).map(u=>{const j=n.find(M=>M.id==u.component);return e.jsx(Z,{className:"",system:u,component:j,onComponentClicked:E,onDeleteClicked:O,onEditDataClicked:x},u.id)})})]}),e.jsxs("div",{className:"col-md-8",children:[e.jsxs("div",{className:"input-group mb-2",children:[e.jsxs("span",{className:"input-group-text",children:[(t==null?void 0:t.pseudo_path)||t.path,G(t==null?void 0:t.path).length>0&&"/"]}),G(t==null?void 0:t.path).length>0&&e.jsx("input",{type:"text",className:"form-control",placeholder:"Parametros","data-page-path":t.pseudo_path,"data-page-id":t.id,onChange:A})]}),e.jsx("iframe",{id:`iframe-${t.id}`,src:(t==null?void 0:t.pseudo_path)||t.path,"data-path":(t==null?void 0:t.pseudo_path)||t.path,className:"w-100 h-100 border",style:{minHeight:"calc(100vh - 185px)",borderRadius:"4px"}})]})]})},d))]})]})})})})]})})})]}),e.jsx(fe,{dataLoaded:k,setDataLoaded:y,modalRef:l}),e.jsx(Ne,{dataLoaded:k,setDataLoaded:y,setPages:v,modalRef:m,models:i}),e.jsx(be,{dataLoaded:P,setDataLoaded:p,setSystems:f,modalRef:a})]})};le((s,r)=>{ie(s).render(e.jsx(we,{...r}))});

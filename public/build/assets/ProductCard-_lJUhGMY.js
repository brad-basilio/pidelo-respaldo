import{j as a}from"./ModalImportItem-ClKiNAEV.js";import"./index-DFv2mRv-.js";import{N as x}from"./Number2Currency-e57Tgsuk.js";import{i as t}from"./tippy-react.esm-CGYKl-Jd.js";import{S as i}from"./ProductCard-KWJbgLTG.js";const v=({data:e,cart:r,item:s,setCart:p})=>{var c,d;const u=l=>{const n=structuredClone(r),o=n.findIndex(f=>f.id==l.id);o==-1?n.push({...l,quantity:1}):n[o].quantity++,p(n),i.fire({title:"Producto agregado",text:`Se agregÃ³ ${l.name} al carrito`,icon:"success",timer:1500})},h=r==null?void 0:r.find(l=>l.id==(s==null?void 0:s.id)),g=(s==null?void 0:s.discount)>0?s==null?void 0:s.discount:s==null?void 0:s.price;return s?a.jsxs("div",{className:"w-full relative",children:[a.jsx("img",{src:`/api/items/media/${s==null?void 0:s.image}`,alt:s==null?void 0:s.name,className:"border w-full object-cover mb-4 aspect-square rounded-3xl shadow-lg"}),(s==null?void 0:s.tags)&&a.jsx("div",{className:"absolute top-2 left-2 flex flex-col gap-1 text-xs font-bold",children:(c=s==null?void 0:s.tags)==null?void 0:c.map((l,n)=>a.jsx("span",{className:"px-2 py-1 bg-secondary text-textPrimary rounded",children:l.name}))}),(s==null?void 0:s.category)&&a.jsx("h3",{className:"line-clamp-1 h-8",children:(d=s==null?void 0:s.category)==null?void 0:d.name}),a.jsx("a",{href:`/${e==null?void 0:e.path}/${s.slug}`,children:a.jsx("h2",{className:"text-2xl w-full line-clamp-1 font-bold mb-2",children:s==null?void 0:s.name})}),a.jsx("p",{className:"line-clamp-3 h-[72px] opacity-80 mb-4",children:s==null?void 0:s.summary}),a.jsxs("div",{className:"flex justify-between items-end",children:[a.jsxs("div",{className:"h-[52px] flex flex-col items-start justify-end",children:[a.jsx("span",{className:"text-sm block opacity-80 line-through",children:(s==null?void 0:s.discount)>0?a.jsxs(a.Fragment,{children:["S/. ",x(s==null?void 0:s.price)]}):""}),a.jsxs("span",{className:"text-2xl font-bold",children:["S/. ",x(g)]})]}),a.jsx(t,{content:"Agregar al carrito",children:a.jsx("button",{className:"bg-primary text-white text-lg px-3 py-1 rounded disabled:cursor-not-allowed disabled:opacity-80",disabled:h,onClick:()=>u(s),children:a.jsx("i",{className:"mdi mdi-cart-plus"})})})]})]}):a.jsxs("div",{className:"w-full ",children:[a.jsx("figure",{className:"w-full mb-4 aspect-square rounded-3xl shadow-lg bg-gray-200 animate-pulse"}),a.jsx("h3",{className:"line-clamp-1 h-8 animate-pulse bg-gray-200 w-32"}),a.jsx("h2",{className:"text-2xl w-full line-clamp-1 font-bold mb-2 h-8 animate-pulse bg-gray-200"}),a.jsx("p",{className:"line-clamp-3 h-[72px] opacity-80 mb-4 animate-pulse bg-gray-200"}),a.jsxs("div",{className:"flex justify-between items-end",children:[a.jsxs("div",{className:"h-[52px] flex flex-col items-start justify-end",children:[a.jsx("span",{className:"text-sm block opacity-80 line-through h-5 animate-pulse bg-gray-200 w-16"}),a.jsx("span",{className:"text-2xl font-bold h-8 w-28 animate-pulse bg-gray-200"})]}),a.jsx("figure",{className:"text-lg px-3 py-1 rounded disabled:cursor-not-allowed disabled:opacity-80 animate-pulse bg-gray-200 text-gray-200",children:"xD"})]})]})};export{v as P};

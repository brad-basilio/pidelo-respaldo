var V=Object.defineProperty;var z=(x,i,g)=>i in x?V(x,i,{enumerable:!0,configurable:!0,writable:!0,value:g}):x[i]=g;var S=(x,i,g)=>z(x,typeof i!="symbol"?i+"":i,g);import{j as e}from"./AboutSimple-Cf8x2fCZ.js";import{r as p}from"./index-BH53Isel.js";import{N as h}from"./Number2Currency-e57Tgsuk.js";import{s as O}from"./server.browser-Bf4gQIc7.js";import{L as f}from"./LaravelSession-Dz9cpV3l.js";import{i as E}from"./tippy-react.esm-BWiGTO87.js";import{m as W}from"./main-BSEyQEJW.js";import{G as n}from"./General-BmbBKdsB.js";import{B as Y}from"./ModalImportItem-B_ZpbzpA.js";import{S as J}from"./ProductCard-C2H10lUi.js";import{G as U}from"./Global-CklCDfn9.js";import{S as H}from"./shopping-bag-CoWGrL8C.js";import{c as K}from"./createLucideIcon-Cy5Ya80P.js";import"./index-yBjzXJbu.js";import"./index-rimy3MAc.js";import"./index-fNjTmf9T.js";import"./___vite-browser-external_commonjs-proxy-0zb4Agf2.js";/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=K("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),X="/build/PaymentMethods.svg";class Z extends Y{constructor(){super(...arguments);S(this,"path","sales");S(this,"hasFiles",!0)}}const ee=new Z,je=({data:x,cart:i,setCart:g,items:k,prefixes:F})=>{const[l,_]=p.useState("pickup"),[d,I]=p.useState({name:f.name,lastname:f.lastname,email:f.email,phone_prefix:f.phone_prefix||"51",phone:f.phone}),[c,M]=p.useState({departamento:"",provincia:"",distrito:"",calle:"",numero:"",referencia:""}),[t,N]=p.useState({type:"boleta",number:"",fullname:"",name:"",lastname:""}),[o,C]=p.useState(n.get("checkout_culqi")=="true"?"culqi":n.get("checkout_dwallet")=="true"?"dwallet":n.get("checkout_transfer")=="true"?"transfer":null),[D,q]=p.useState(null),j=i.reduce((s,r)=>{const a=r.discount>0?Math.min(r.price,r.discount):r.price;return s+a*r.quantity},0),w=s=>{const{name:r,value:a}=s.target;I(u=>({...u,[r]:a}))},[m,L]=p.useState(0),R=s=>{if(l==="pickup")return 0;const r=P.find(a=>a.id==s);return r?(console.log(r),r.price===null?"destination":r.price===0?0:r.price):null},b=s=>{const{name:r,value:a}=s.target;M(u=>({...u,[r]:a})),r==="distrito"&&(console.log(a),L(R(a)))};p.useEffect(()=>{const s=r=>{const a=r.element.dataset.code,u=r.element.dataset.flag;return O.renderToString(e.jsxs("span",{children:[e.jsx("span",{className:"inline-block w-8 font-emoji text-center",children:u}),e.jsx("b",{className:"me-1",children:r.text}),e.jsx("span",{className:"text-sm text-opacity-20",children:a})]}))};$(".select2-prefix-selector").select2({dropdownCssClass:"py-1",containerCssClass:"!border !border-gray-300 !rounded p-2 !h-[42px]",arrowCssClass:'!text-primary top-1/2 -translate-y-1/2"',templateResult:function(r){if(!r.id)return r.text;var a=$(s(r));return a},templateSelection:function(r){if(!r.id)return r.text;var a=$(s(r));return a}})},[d.phone_prefix]);const A=[...new Set(k.map(s=>{var r;return(r=s.data)==null?void 0:r.region}))],G=[...new Set(k.filter(s=>{var r;return((r=s.data)==null?void 0:r.region)==c.departamento}).map(s=>{var r;return(r=s.data)==null?void 0:r.provincia}))],P=[...new Set(k.filter(s=>{var r,a;return((r=s.data)==null?void 0:r.region)==c.departamento&&((a=s.data)==null?void 0:a.provincia)==c.provincia}).map(s=>{var r,a;return{id:(r=s.data)==null?void 0:r.reniec,name:(a=s.data)==null?void 0:a.distrito,price:s.price===null?null:Number(s.price)}}))],T=async s=>{s.preventDefault();const{isConfirmed:r}=await J.fire({title:"¿Confirmar pedido?",text:"¿Estás seguro de realizar este pedido? Revise que todos los datos estén correctos antes de confirmar el pedido.",icon:"question",showCancelButton:!0,confirmButtonText:"Sí, confirmar",cancelButtonText:"Cancelar"});if(!r)return;const a={user_id:f.id,name:d.name,lastname:d.lastname,email:d.email,phone:d.phone,phone_prefix:d.phone_prefix,country:"Perú",delivery_type:l,ubigeo:l=="express"?c.distrito:null,address:c.calle,number:c.numero,reference:c.referencia,payment_method:o,invoiceType:t.type,documentType:t.type==="factura"?"ruc":"dni",document:t.number,businessName:t.fullname,details:JSON.stringify(i.map(v=>({id:v.id,quantity:v.quantity}))),payment_proof:D},u=new FormData;Object.keys(a).forEach(v=>{u.append(v,a[v])});const B=await ee.save(u);B&&(g([]),W.Local.delete(`${U.APP_CORRELATIVE}_cart`),location.href=`${location.origin}/${x.url_thanks}/${B.code}`)};p.useEffect(()=>{i.length==0&&(location.href="/")},[null]);const y=Number(n.igv_checkout)/100;return e.jsx("form",{className:"bg-white",onSubmit:T,children:e.jsx("div",{className:"container mx-auto px-[5%] py-[2.5%]",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Información del contacto"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"name",className:"block text-sm mb-1",children:["Nombre ",e.jsx("b",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"name",name:"name",value:d.name,onChange:w,className:"w-full p-2 border border-gray-300 rounded",placeholder:"Nombre",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"lastname",className:"block text-sm mb-1",children:["Apellido ",e.jsx("b",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"lastname",name:"lastname",value:d.lastname,onChange:w,className:"w-full p-2 border border-gray-300 rounded",placeholder:"Apellido",required:!0})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{htmlFor:"email",className:"block text-sm mb-1",children:["E-mail ",e.jsx("b",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",id:"email",name:"email",value:d.email,onChange:w,className:"w-full p-2 border border-gray-300 rounded",placeholder:"Correo electrónico",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm mb-1",children:"Celular"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{className:"select2-prefix-selector w-[200px] p-2 border border-gray-300 rounded",onChange:s=>setSelectedPrefix(s.target.value),name:"phone_prefix",value:d.phone_prefix,children:[e.jsx("option",{value:"",children:"Selecciona un país"}),F.sort((s,r)=>s.country.localeCompare(r.country)).map((s,r)=>e.jsx("option",{value:s.realCode,"data-code":s.beautyCode,"data-flag":s.flag,children:s.country},r))]}),e.jsx("input",{type:"text",id:"phone",name:"phone",value:d.phone,onChange:w,className:"flex-1 p-2 border border-gray-300 rounded",placeholder:"000 000 000"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Dirección de envío"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:`flex flex-col p-6 rounded-lg border-2 cursor-pointer ${l==="pickup"?"border-primary bg-gray-100":"border-gray-200"}`,onClick:()=>_("pickup"),children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:`w-5 h-5 rounded-full border-2 mr-2 flex items-center justify-center ${l==="pickup"?"border-primary":"border-gray-400"}`,children:l==="pickup"&&e.jsx("div",{className:"w-3 h-3 rounded-full bg-primary"})}),e.jsx(H,{className:"w-5 h-5 mr-2 text-gray-700"}),e.jsx("span",{className:"font-medium",children:"Recojo en tienda"})]}),e.jsx("p",{className:"text-sm text-gray-500 ml-9",children:"Envío gratis"})]}),e.jsxs("div",{className:`flex flex-col p-6 rounded-lg border-2 cursor-pointer ${l==="express"?"border-primary bg-gray-100":"border-gray-200"}`,onClick:()=>_("express"),children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:`w-5 h-5 rounded-full border-2 mr-2 flex items-center justify-center ${l==="express"?"border-primary":"border-gray-400"}`,children:l==="express"&&e.jsx("div",{className:"w-3 h-3 rounded-full bg-primary"})}),e.jsx(Q,{className:"w-5 h-5 mr-2 text-gray-700"}),e.jsx("span",{className:"font-medium",children:"Envío express"})]}),e.jsx("p",{className:"text-sm text-gray-500 ml-9",children:"Sujeto a evaluación"})]})]}),l==="express"&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"departamento",className:"block text-sm mb-1",children:["Departamento ",e.jsx("b",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{id:"departamento",name:"departamento",value:c.departamento,onChange:b,className:"w-full p-2 border border-gray-300 rounded appearance-none pr-8",required:l==="express",children:[e.jsx("option",{value:"",children:"Selecciona un Departamento"}),A.sort((s,r)=>s.localeCompare(r)).map((s,r)=>e.jsx("option",{value:s,children:s},r))]}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"provincia",className:"block text-sm mb-1",children:["Provincia ",e.jsx("b",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{id:"provincia",name:"provincia",value:c.provincia,onChange:b,className:"w-full p-2 border border-gray-300 rounded appearance-none pr-8",required:l==="express",children:[e.jsx("option",{value:"",children:"Selecciona un Provincia"}),G.sort((s,r)=>s.localeCompare(r)).map((s,r)=>e.jsx("option",{value:s,children:s},r))]}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"distrito",className:"block text-sm mb-1",children:["Distrito ",e.jsx("b",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{id:"distrito",name:"distrito",value:c.distrito,onChange:b,className:"w-full p-2 border border-gray-300 rounded appearance-none pr-8",required:l==="express",children:[e.jsx("option",{value:"",children:"Selecciona un distrito"}),P.sort((s,r)=>s.name.localeCompare(r)).map((s,r)=>e.jsx("option",{value:s.id,"data-price":s.price,children:s.name},r))]}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{htmlFor:"calle",className:"block text-sm mb-1",children:["Avenida / Calle / Jirón ",e.jsx("b",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"calle",name:"calle",value:c.calle,onChange:b,className:"w-full p-2 border border-gray-300 rounded",placeholder:"Ingresa el nombre de la calle",required:l==="express"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"numero",className:"block text-sm mb-1",children:["Número ",e.jsx("b",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"numero",name:"numero",value:c.numero,onChange:b,className:"w-full p-2 border border-gray-300 rounded",placeholder:"Ingresa el número de la calle",required:l==="express"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"referencia",className:"block text-sm mb-1",children:"Dpto./ Interior/ Piso/ Lote/ Bloque (opcional)"}),e.jsx("input",{type:"text",id:"referencia",name:"referencia",value:c.referencia,onChange:b,className:"w-full p-2 border border-gray-300 rounded",placeholder:"Ejem. Casa 3, Dpto 101"})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mt-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Método de pago"}),e.jsxs("div",{className:"space-y-3",children:[n.get("checkout_culqi")=="true"&&e.jsxs("div",{className:`flex items-center justify-between px-4 py-2 border-2 rounded-lg cursor-pointer ${o==="culqi"?"border-primary bg-gray-100":"border-gray-200"}`,onClick:()=>C("culqi"),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${o==="culqi"?"border-primary":"border-gray-400"}`,children:o==="culqi"&&e.jsx("div",{className:"w-3 h-3 rounded-full bg-primary"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{children:"Pago con tarjeta"}),e.jsx("small",{className:"text-xs text-opacity-60 text-black",children:"Formulario Culqi"})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("img",{src:X,alt:"Métodos de pago - Culqi",className:"h-[25px]"})})]}),n.get("checkout_dwallet")=="true"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`flex items-center justify-between px-4 py-2 border-2 rounded-lg cursor-pointer ${o==="dwallet"?"border-primary bg-gray-100":"border-gray-200"}`,onClick:()=>C("dwallet"),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${o==="dwallet"?"border-primary":"border-gray-400"}`,children:o==="dwallet"&&e.jsx("div",{className:"w-3 h-3 rounded-full bg-primary"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{children:"Yape / Plin"}),e.jsx("small",{className:"text-xs text-opacity-60 text-black",children:"Billeteras digitales"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(E,{content:"Yape BCP",children:e.jsx("img",{src:"/assets/img/banks/yape.png",alt:"Yape BCP",className:"h-6"})}),e.jsx(E,{content:"Plin Interbank",children:e.jsx("img",{src:"/assets/img/banks/plin.png",alt:"Plin Interbank",className:"h-6"})})]})]}),o==="dwallet"&&e.jsx("div",{className:"mt-4 p-4 bg-white rounded-lg",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("img",{src:`/assets/resources/${n.get("checkout_dwallet_qr")}`,alt:n.get("checkout_dwallet_name"),className:"w-full lg:w-48 border rounded"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:n.get("checkout_dwallet_name")}),e.jsx("p",{className:"text-gray-600 mb-4",children:n.get("checkout_dwallet_description")}),e.jsx("input",{type:"file",accept:"image/*",onChange:s=>q(s.target.files[0]),className:`block w-full text-sm text-gray-800
                              file:mr-4 file:py-2 file:px-4
                              file:rounded-full file:border-0
                              file:text-sm file:font-semibold
                              file:bg-primary file:text-white
                              hover:file:bg-primary/90 cursor-pointer`})]})]})})]}),n.get("checkout_transfer")=="true"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`flex items-center justify-between p-4 border-2 rounded-lg cursor-pointer ${o==="transfer"?"border-primary bg-gray-100":"border-gray-200"}`,onClick:()=>C("transfer"),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${o==="transfer"?"border-primary":"border-gray-400"}`,children:o==="transfer"&&e.jsx("div",{className:"w-3 h-3 rounded-full bg-primary"})}),e.jsx("span",{children:"Transferencia"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("img",{src:"/assets/img/banks/bcp.svg",alt:"BCP",className:"h-4"}),e.jsx("img",{src:"/assets/img/banks/interbank.svg",alt:"Interbank",className:"h-4"}),e.jsx("img",{src:"/assets/img/banks/bbva.svg",alt:"BBVA",className:"h-4"})]})]}),o==="transfer"&&e.jsxs("div",{className:"mt-4 p-4 bg-white rounded-lg",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"font-medium mb-0",children:n.get("checkout_transfer_name")}),e.jsx("p",{className:"text-gray-600 mb-4",children:n.get("checkout_transfer_description")}),e.jsx("p",{className:"text-sm",children:"Código de Cuenta Interbancario (CCI)"}),e.jsx("p",{className:"font-mono bg-gray-50 p-2 rounded select-all",children:n.get("checkout_transfer_cci")}),e.jsx("a",{href:"#",className:"text-primary text-sm hover:underline",children:"Envía tu comprobante"})]}),e.jsx("div",{className:"mt-4",children:e.jsx("input",{type:"file",accept:"image/*",onChange:s=>q(s.target.files[0]),className:`block w-full text-sm text-gray-500
                            file:mr-4 file:py-2 file:px-4
                            file:rounded-full file:border-0
                            file:text-sm file:font-semibold
                            file:bg-primary file:text-white
                            hover:file:bg-primary/90`})})]})]})]}),e.jsxs("div",{className:"space-y-3 mt-6 border-t pt-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Datos de facturación"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex gap-2 w-full",children:[e.jsxs("label",{className:"flex-1",children:[e.jsx("input",{type:"radio",name:"document_type",value:"boleta",checked:t.type=="boleta",className:"hidden",onChange:s=>N(r=>({...r,type:s.target.value}))}),e.jsxs("div",{className:`w-full flex gap-3 items-center text-center py-3 px-4 rounded-lg border-2 cursor-pointer transition-all ${t.type=="boleta"?"border-primary bg-gray-100":"border-gray-200"} `,children:[e.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${t.type==="boleta"?"border-primary":"border-gray-400"}`,children:t.type==="boleta"&&e.jsx("div",{className:"w-3 h-3 rounded-full bg-primary"})}),e.jsx("span",{children:"Boleta"})]})]}),e.jsxs("label",{className:"flex-1",children:[e.jsx("input",{type:"radio",name:"document_type",value:"factura",checked:t.type=="factura",className:"hidden",onChange:s=>N(r=>({...r,type:s.target.value}))}),e.jsxs("div",{className:`w-full flex gap-3 items-center text-center py-3 px-4 rounded-lg border-2 cursor-pointer transition-all ${t.type=="factura"?"border-primary bg-gray-100":"border-gray-200"} `,children:[e.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${t.type==="factura"?"border-primary":"border-gray-400"}`,children:t.type==="factura"&&e.jsx("div",{className:"w-3 h-3 rounded-full bg-primary"})}),e.jsx("span",{children:"Factura"})]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("label",{className:"block text-sm mb-1",children:[e.jsxs("span",{children:["Número de ",t.type=="factura"?"RUC":"DNI"]}),e.jsx("b",{className:"text-red-500 ms-1",children:"*"})]}),e.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded",placeholder:t.type=="factura"?"00000000000":"00000000",maxLength:t.type=="factura"?11:8,required:!0,value:t.number,onChange:s=>N(r=>({...r,number:s.target.value}))})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("label",{className:"block text-sm mb-1",children:[t.type=="factura"?"Razón Social":"Nombre completo",e.jsx("b",{className:"text-red-500 ms-1",children:"*"})]}),e.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded",placeholder:"Nombre de razón social",value:t.fullname,onChange:s=>N(r=>({...r,fullname:s.target.value})),required:!0})]})]})]})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 sticky top-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Resumen del pedido"}),e.jsx("div",{className:"space-y-6 mb-6",children:i.map((s,r)=>e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-16",children:e.jsx("img",{src:`/storage/images/item/${s.image}`,onError:a=>a.target.src="/assets/img/noimage/no_img.jpg",alt:s.name,className:"w-16 object-cover object-center aspect-[4/3] rounded"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium line-clamp-2 leading-none mb-2",children:s.name||`Producto ${r+1}`}),e.jsxs("p",{className:"text-xs text-gray-500",children:["SKU: ",s.sku]}),e.jsxs("div",{className:"flex justify-between items-center mt-2",children:[e.jsx("div",{className:"border border-gray-300 rounded w-12 text-center py-0.5 text-sm bg-white",children:s.quantity.toString().padStart(2,"0")}),e.jsxs("div",{className:"leading-none text-end",children:[s.discount_percent>0&&e.jsxs("small",{className:"line-through text-xs text-gray-500",children:["S/ ",h(s.price)]}),e.jsxs("span",{className:"font-medium block",children:["S/ ",h(s.final_price)]})]})]})]})]},r))}),e.jsxs("div",{className:"space-y-3 pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{children:"Envío"}),e.jsxs("span",{className:"text-primary font-medium",children:[l==="pickup"&&"Gratis",l==="express"&&(m===0?"Gratis":m===null?"No disponible":m==="destination"?"Pago en destino":`S/ ${h(m)}`)]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{children:"Subtotal"}),e.jsxs("span",{children:["S/. ",h(y>0?j*(1-y):j)]})]}),y>0&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("p",{children:["IGV (",(y*100).toFixed(2),"%)"]}),e.jsxs("span",{children:["S/. ",h(j*y)]})]}),e.jsxs("div",{className:"flex justify-between items-center font-semibold text-lg pt-2 border-t border-gray-200",children:[e.jsx("p",{children:"Total"}),e.jsxs("span",{children:["S/ ",h(j+(typeof m=="number"?m:0))]})]}),e.jsxs("button",{className:`text-white w-full px-4 py-3 rounded-full cursor-pointer inline-block text-center font-medium mt-4 ${l==="express"&&(m===null||m==="destination")?"bg-gray-400 cursor-not-allowed":"bg-primary"}`,children:["Pagar (S/. ",h(j+(typeof m=="number"?m:0)),")"]})]})]})})]})})})};export{je as default};

import{j as s}from"./AboutHeader-COUW3Uy_.js";import"./index-CqkZ-sT_.js";import{S as d}from"./ProductCard-DppMoL6U.js";const g=({product:e,widthClass:t="lg:w-1/5",setCart:r,cart:n})=>{const o=i=>{const l=structuredClone(n),a=l.findIndex(x=>x.id==i.id);a==-1?l.push({...i,quantity:1}):l[a].quantity++,r(l),d.fire({title:"Producto agregado",text:`Se agregÃ³ ${i.name} al carrito`,icon:"success",timer:1500})},m=n==null?void 0:n.find(i=>i.id==(e==null?void 0:e.id));return(e==null?void 0:e.discount)>0?e==null||e.discount:e==null||e.price,s.jsx("div",{className:`group w-full px-2 sm:w-1/3 ${t} flex-shrink-0 font-font-secondary cursor-pointer`,children:s.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4",style:{boxShadow:"0px 0px 6px 0px #00000040"},children:[s.jsxs("div",{className:"relative",children:[e.discount!=null&&!isNaN(e.discount)&&s.jsxs("span",{className:"absolute top-2 left-2 bg-[#F93232] text-white text-base font-medium px-2 py-1 rounded-full",children:["-",Number(100-e.discount*100/e.price).toFixed(0),"%"]}),s.jsx("div",{className:"aspect-square rounded-lg overflow-hidden flex items-center justify-center p-4",children:s.jsx("img",{src:`/api/items/media/${e.image}`,alt:e.name,className:"w-full h-full object-contain",loading:"lazy"})})]}),s.jsxs("div",{className:"overflow-hidden max-h-0 pb-4 opacity-0 group-hover:max-h-20 group-hover:opacity-100 transition-[max-height,opacity] duration-1000 ease-in-out flex gap-2 my-2 transform group-hover:translate-y-0 translate-y-4",children:[s.jsx("a",{href:`/product/${e.slug}`,className:"flex-1 inline-flex items-center justify-center bg-primary text-white px-4 py-2 rounded-lg transition-colors",children:"Ver detalle"}),s.jsx("button",{className:"p-2 border border-primary rounded-lg customtext-primary transition-colors",disabled:m,onClick:()=>o(e),children:s.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs customtext-neutral-light font-semibold mb-1",children:e.brand.name}),s.jsx("h3",{className:"customtext-neutral-dark text-sm font-semibold mb-2 line-clamp-2",children:e.name}),s.jsxs("div",{className:"flex flex-col items-baseline gap-2 mb-4",children:[e.discount!=null&&!isNaN(e.discount)&&s.jsxs("span",{className:"text-xs customtext-neutral-light font-semibold1 line-through",children:["S/ ",e.price]}),s.jsxs("span",{className:"customtext-neutral-dark text-2xl font-bold",children:["S/ ",e.final_price]})]})]})]})},e.id)};export{g as C};

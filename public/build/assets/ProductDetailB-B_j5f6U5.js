import{j as e}from"./AboutHeader-COUW3Uy_.js";import{r as l}from"./index-CqkZ-sT_.js";import{I as k}from"./ItemsRest-COC0wVJZ.js";import{c as x}from"./createLucideIcon-D0vxYqnu.js";import{S}from"./store-CtJtA-U3.js";import{P as C}from"./phone-LCO3hN9L.js";import{C as F}from"./chevron-up-pTvdWUhf.js";import{C as u}from"./chevron-down-CxOx8ByU.js";import{S as $}from"./shopping-cart-CoCaxy-V.js";import{P as E}from"./plus-asfJjyt_.js";import"./main-CkMzf7wF.js";import"./___vite-browser-external_commonjs-proxy-DA7w84js.js";import"./BasicEditing-CqE15M_Q.js";/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=x("CircleUserRound",[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=x("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=x("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);function Y({item:r,data:A,setCart:h,cart:c}){const g=new k,[M,P]=l.useState("01"),[t,p]=l.useState({url:r.image,type:"main"}),[m,j]=l.useState(!1),b=["Sonido de graves profundos JBL","Aproveche al máximo sus mezclas con audio de alta calidad de auriculares seguros y confiables con controladores de 8 mm con sonido de graves profundos JBL.","Ajuste cómodo","El diseño ergonómico de botones de JBL Vibe Beam se ajusta tan cómodamente que puede olvidar que los lleva puestos. El diseño del botón sella suavemente tus oídos bloqueando los ruidos externos y mejorando el rendimiento de los graves.","Hasta 32 (8h + 24h) horas totales de duración de la batería con carga rápida","Con 8 horas de duración de la batería en los auriculares y 24 en el estuche, los JBL Vibe Beam brindan audio durante todo el día. Y cuando necesite más energía, puede acelerar la carga dos horas más en solo 10 minutos."],f=s=>{const a=structuredClone(c),i=a.findIndex(d=>d.id==s.id);i==-1?a.push({...s,quantity:1}):a[i].quantity++,h(a),Swal.fire({title:"Producto agregado",text:`Se agregó ${s.name} al carrito`,icon:"success",timer:1500})},[n,N]=l.useState([]);c==null||c.find(s=>s.id==(r==null?void 0:r.id)),l.useEffect(()=>{r!=null&&r.id&&y(r)},[r]);const y=async s=>{try{const a={id:s.id},i=await g.verifyCombo(a);if(!i){console.error("No se encontraron productos asociados.");return}const d=i[0].associated_items;console.log("Productos asociados:",d),N(Object.values(d))}catch(a){console.error("Error al obtener el combo:",a.message)}},v=n.reduce((s,a)=>s+parseFloat(a.final_price),0),[o,w]=l.useState(!1);return e.jsxs("div",{className:"px-primary mx-auto py-12 bg-[#F7F9FB] ",children:[e.jsx("div",{className:"bg-white rounded-xl p-4",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("button",{onClick:()=>p({url:r.image,type:"main"}),className:`w-16 h-16 border rounded-lg p-2 ${t.url===r.image?"border-blue-400":"border-gray-200"}`,children:e.jsx("img",{src:`/api/items/media/${r.image}`,alt:"Main Thumbnail",className:"w-full h-full object-contain"})}),r.images.map((s,a)=>e.jsx("button",{onClick:()=>p({url:s.url,type:"gallery"}),className:`w-16 h-16 border rounded-lg p-2 ${t.url===s.url?"border-blue-400":"border-gray-200"}`,children:e.jsx("img",{src:`/api/item_images/media/${s.url}`,alt:`Thumbnail ${a+1}`,className:"w-full h-full object-contain"})},a))]}),e.jsx("div",{className:"flex-1",children:e.jsx("img",{src:t.type==="main"?`/api/items/media/${t.url}`:`/api/item_images/media/${t.url}`,alt:"Product main",className:"w-full h-auto object-contain"})})]}),e.jsx("div",{className:"border rounded-lg",children:e.jsxs("div",{className:"grid grid-cols-2",children:[e.jsxs("div",{className:"p-4 text-center border-r",children:[e.jsx(B,{className:"w-6 h-6 mx-auto mb-1"}),e.jsx("p",{className:"font-medium",children:"Despacho"}),e.jsx("p",{className:"text-sm text-gray-500",children:"a domicilio"})]}),e.jsxs("div",{className:"p-4 text-center",children:[e.jsx(S,{className:"w-6 h-6 mx-auto mb-1"}),e.jsx("p",{className:"font-medium",children:"Retira"}),e.jsx("p",{className:"text-sm text-gray-500",children:"en tienda"})]})]})}),e.jsxs("div",{className:"mt-8 bg-gray-50 rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(C,{className:"w-5 h-5 customtext-primary"}),e.jsx("span",{children:"¿Necesitas ayuda? Llámanos al 012037074"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx(q,{className:"w-5 h-5"}),e.jsx("span",{children:"Soporte técnico"})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("p",{className:"text-gray-600",children:["Marca: ",r.brand.name]}),e.jsx("h1",{className:"text-[32px] font-medium mt-2",children:r.name})]}),e.jsxs("div",{className:"flex items-center gap-8 text-sm mb-6",children:[e.jsxs("span",{className:"text-gray-500",children:["SKU: ",r.sku]}),e.jsxs("span",{className:"text-gray-500",children:["Disponibilidad: ",e.jsx("span",{className:"text-gray-900",children:r.stock>0?"En stock":"Agotado"})]})]}),e.jsxs("div",{className:"flex gap-8 border-b-2 pb-8",children:[e.jsx("div",{className:"flex-1 w-6/12 mt-6",children:e.jsxs("div",{className:"bg-[#F7F9FB] rounded-lg p-6",children:[e.jsx("h3",{className:"font-medium mb-4",children:"Especificaciones principales"}),e.jsx("ul",{className:`space-y-2 ml-4 customtext-neutral-light mb-4 transition-all duration-300 ${o?"max-h-full":"max-h-24 overflow-hidden"}`,children:r.specifications.map((s,a)=>s.type==="principal"&&e.jsx("li",{children:s.description},a))}),e.jsxs("button",{className:"customtext-primary text-sm font-semibold hover:underline flex items-center gap-1 transition-all duration-300",onClick:()=>w(!o),children:[o?"Ver menos":"Ver más especificaciones",o?e.jsx(F,{className:"w-4 h-4"}):e.jsx(u,{className:"w-4 h-4"})]})]})}),e.jsxs("div",{className:" w-6/12 ",children:[e.jsxs("p",{className:"text-sm text-gray-500 mb-1",children:["Precio: ",e.jsxs("span",{className:"line-through",children:["S/ ",r.price]})]}),e.jsxs("div",{className:"flex items-center gap-4 ",children:[e.jsxs("span",{className:"text-[40px] font-medium",children:["S/ ",r.final_price]}),e.jsxs("span",{className:"bg-red-500 text-white text-sm px-2 py-0.5 rounded-full",children:["-",Number(r.discount_percent).toFixed(1),"%"]})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[e.jsx("span",{className:"text-sm",children:"Cantidad"}),e.jsx("div",{className:"inline-flex border rounded",children:e.jsx("input",{type:"number",className:"w-12 text-center",min:"1",max:"10",defaultValue:"1"})}),e.jsx("p",{className:"text-sm text-gray-500",children:"Máximo 10 unidades."})]})}),e.jsx("button",{onClick:()=>f(r),className:"w-full bg-primary text-white py-3 rounded-xl hover:brightness-90 transition-colors mt-4",children:"Agregar al carrito"})]})]}),e.jsxs("div",{className:"mt-8 ",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx($,{className:"w-6 h-6 customtext-primary"}),e.jsx("h2",{className:"text-base font-semibold",children:"Completa tu compra con estos productos"})]}),e.jsxs("div",{className:" flex gap-4",children:[e.jsx("div",{className:"w-2/3 flex gap-2",children:n.map((s,a)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:`/api/items/media/${s.image}`,className:" rounded-lg aspect-square w-24 h-24 object-cover bg-[#F7F9FB]"}),a<n.length-1&&e.jsx("span",{className:"text-2xl font-bold",children:e.jsx(E,{})})]},a))}),e.jsxs("div",{className:" w-1/3 flex flex-col justify-between items-end bg-gray-50 p-4 rounded-lg mt-4",children:[e.jsx("span",{className:"text-xs font-semibold customtext-neutral-light",children:"Total"}),e.jsxs("p",{className:"font-bold mb-2 customtext-neutral-dark",children:["S/ ",v.toFixed(2)]}),e.jsx("button",{className:"bg-primary text-xs font-semibold text-white w-full py-3 rounded-xl hover:opacity-90 transition-all duration-300 hover:shadow-md",children:"Agregar al carrito"})]})]}),n.map((s,a)=>e.jsxs("div",{className:"flex mt-4 gap-4 p-4 border rounded-lg items-center",children:[e.jsx(I,{className:"w-5 h-5 customtext-primary"}),e.jsxs("div",{className:"flex-1 font-semibold",children:[e.jsx("span",{className:"text-[10px] customtext-neutral-dark block",children:s.brand.name}),e.jsx("p",{className:"text-sm customtext-neutral-light font-medium",children:s.name})]}),e.jsxs("p",{className:"font-bold customtext-neutral-dark",children:["S/ ",parseFloat(s.final_price).toFixed(2)]})]},a))]})]})]})}),e.jsxs("div",{className:" grid gap-8 md:grid-cols-2 bg-white rounded-xl p-4 mt-12",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4 border-b-4 pb-4",children:"Especificaciones"}),e.jsx("div",{className:"space-y-1",children:r.specifications.map((s,a)=>s.type==="general"&&e.jsxs("div",{className:`grid grid-cols-2 gap-4 p-4 ${a%2===0?"bg-gray-50":"bg-white"}`,children:[e.jsx("div",{className:"text-gray-600",children:s.title}),e.jsx("div",{children:s.description})]},a))})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4 border-b-4 pb-4",children:"Información adicional"}),e.jsxs("div",{className:`space-y-6 ${m?"":"max-h-[400px] overflow-hidden"}`,children:[e.jsx("h3",{className:"text-xl font-medium",children:"Acerca de este artículo"}),e.jsx("div",{dangerouslySetInnerHTML:{__html:r.description}}),e.jsx("div",{className:"space-y-4 ",children:e.jsx("ul",{className:"list-disc pl-5 space-y-4",children:b.map((s,a)=>e.jsx("li",{className:"text-gray-600",children:s},a))})})]}),e.jsxs("botton",{variant:"ghost",className:"border-2 border-primary w-max px-4 py-2  my-4  rounded-xl flex items-center gap-2 customtext-primary font-semibold cursor-pointer",onClick:()=>j(!m),children:["Ver más",e.jsx(u,{className:`transform transition-transform ${m?"rotate-180":""}`})]})]})]})]})}export{Y as default};

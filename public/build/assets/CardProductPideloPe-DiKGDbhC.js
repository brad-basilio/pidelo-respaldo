import{j as e}from"./AboutSimple-Cf8x2fCZ.js";import{r as a}from"./index-BH53Isel.js";import"./ProductCard-Bvp3XiVT.js";import{I as f}from"./ItemsRest-CGu6Sw-g.js";import"./HeaderSearch-DuZIuoXV.js";import"./index-CMHsc23u.js";import"./HeaderBananaLab-C_HbcogJ.js";import{i as u}from"./tippy-react.esm-BWiGTO87.js";import{C as h}from"./Number2Currency-DqtNgFrj.js";import{m as r}from"./proxy-BTYtmp9V.js";const I=({data:g,product:s,widthClass:c="lg:w-full"})=>{const m=new f,[p,j]=a.useState(!1),[w,o]=a.useState(!1),[t,d]=a.useState([]),x=async l=>{try{const i={slug:l==null?void 0:l.slug},n=await m.getVariations(i);if(!n)return;d(n.variants)}catch{return}};return a.useEffect(()=>{s!=null&&s.id&&x(s)},[s]),e.jsx(e.Fragment,{children:e.jsx(r.a,{href:`/product/${s.slug}`,className:`group   w-full ${c} rounded-3xl overflow-hidden flex-shrink-0 font-paragraph cursor-pointer relative `,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:e.jsxs("div",{className:"bg-white rounded-md h-full flex flex-col ",children:[e.jsxs("div",{className:"relative",children:[s.discount!=null&&!isNaN(s.discount)&&e.jsxs("span",{className:"absolute top-3 -left-1 lg:-left-2 bg-[#F93232] text-white rounded-xl text-sm font-bold px-2 py-1 shadow-md z-10 tracking-wider",children:[Math.round(s.discount_percent),"%"]}),e.jsx(r.div,{className:"aspect-square rounded-t-md overflow-hidden flex items-center justify-center bg-secondary",whileHover:{scale:1.05},transition:{duration:.3},children:e.jsx("img",{src:`/storage/images/item/${s.image}`,onError:l=>l.target.src="/api/cover/thumbnail/null",alt:s.name,className:"w-full h-full object-cover",loading:"lazy"})})]}),e.jsxs("div",{className:"p-3 flex-grow flex flex-col",children:[e.jsx("div",{className:"flex gap-1",children:t&&(t==null?void 0:t.map(l=>e.jsx(u,{content:l.color,children:e.jsx(r.a,{href:`/product/${l.slug}`,className:"variant-option rounded-full object-fit-cover",whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx("img",{className:"color-box rounded-full h-3 w-3 lg:w-4 lg:h-4 object-fit-cover",src:`/storage/images/item/${l.texture}`})})},l.slug)))}),e.jsx("div",{className:"flex justify-between items-start w-full mt-2",children:e.jsx("h3",{className:"w-11/12 lg:w-10/12 customtext-neutral-dark text-xs lg:text-[15px] leading-4 font-semibold mb-2 line-clamp-3",children:s.name})}),e.jsx("div",{className:"flex flex-col lg:flex-row lg:justify-between items-baseline mt-1",children:e.jsxs("span",{className:"customtext-neutral-dark text-[20px] md:text-2xl font-bold",children:[h(),s.final_price]})})]})]})})})};export{I as C};

import{j as s}from"./AboutHeader-COUW3Uy_.js";import"./index-CqkZ-sT_.js";import"./ProductCard-DppMoL6U.js";import{A as g}from"./index.esm-DfKMpHf8.js";const w=({product:e,widthClass:m="lg:w-1/4",setCart:N,cart:l})=>{var i,n;l==null||l.find(a=>a.id==(e==null?void 0:e.id)),(e==null?void 0:e.discount)>0?e==null||e.discount:e==null||e.price;function x(a){return a.toLowerCase().replace(/ /g,"-").normalize("NFD").replace(/[\u0300-\u036f]/g,"")}sessionStorage.setItem("product_url",e==null?void 0:e.url);const h=a=>{const f=x(a);g.visit(`/product/${f}`,{method:"get",preserveState:!0,preserveScroll:!0})};return s.jsx("div",{onClick:()=>h(e==null?void 0:e.name),className:`group font-font-general w-full transition-transform duration-300 hover:scale-105  sm:w-1/3 ${m} flex-shrink-0 font-font-general customtext-primary cursor-pointer`,children:s.jsx("div",{className:" px-4",children:s.jsxs("div",{className:"bg-white rounded-3xl",children:[s.jsxs("div",{className:"relative",children:[(e==null?void 0:e.discount)!=null&&!isNaN(e==null?void 0:e.discount)&&s.jsxs("span",{className:"absolute top-8 right-0 bg-[#F93232] text-white text-base font-bold px-2 py-1 rounded-l-full",children:["-",Number(100-Number((e==null?void 0:e.discount)*100/(e==null?void 0:e.price))).toFixed(0),"%"]}),s.jsx("div",{className:"aspect-square rounded-3xl overflow-hidden flex items-center justify-center  bg-secondary",children:s.jsx("img",{src:(i=e==null?void 0:e.image)!=null&&i.startsWith("http")?e==null?void 0:e.image:`/api/items/media/${e==null?void 0:e.image}`,alt:e==null?void 0:e.name,className:"w-auto h-full object-contain object-center",loading:"lazy"})})]}),s.jsxs("div",{className:"py-4 px-4",children:[s.jsx("p",{className:"text-base customtext-neutral-light  font-medium mb-1",children:(n=e==null?void 0:e.category)==null?void 0:n.name}),s.jsx("h3",{className:" text-2xl font-bold customtext-neutral-dark  mb-2 line-clamp-1",children:e==null?void 0:e.name}),s.jsx("p",{className:" text-sm font-normal customtext-neutral-light  mb-2 line-clamp-2",children:e==null?void 0:e.summary}),s.jsxs("div",{className:"flex customtext-neutral-dark text-2xl items-baseline gap-4 mt-4",children:[s.jsxs("span",{className:" text-2xl font-bold",children:["S/ ",e==null?void 0:e.final_price]}),(e==null?void 0:e.discount)!=null&&!isNaN(e==null?void 0:e.discount)&&s.jsxs("span",{className:"text-base font-bold line-through opacity-60",children:["S/ ",e==null?void 0:e.price]})]})]})]})})},e==null?void 0:e.id)};export{w as P};

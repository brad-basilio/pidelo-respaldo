import{j as l}from"./AboutSimple-Cf8x2fCZ.js";import"./index-BH53Isel.js";import{C as x,N as u}from"./Number2Currency-DqtNgFrj.js";import{i as b}from"./tippy-react.esm-BWiGTO87.js";import{S as i}from"./ProductCard-Bvp3XiVT.js";const m=({data:r,cart:n,item:s,setCart:p})=>{var c,o;const h=a=>{const e=structuredClone(n),d=e.findIndex(f=>f.id==a.id);d==-1?e.push({...a,quantity:1}):e[d].quantity++,p(e),i.fire({title:"Producto agregado",text:`Se agregÃ³ ${a.name} al carrito`,icon:"success",timer:1500})},g=n==null?void 0:n.find(a=>a.id==(s==null?void 0:s.id)),t=(s==null?void 0:s.discount)>0?s==null?void 0:s.discount:s==null?void 0:s.price;return s?l.jsxs("div",{className:"w-full relative",children:[l.jsx("img",{src:`/storage/images/item/${s==null?void 0:s.image}`,alt:s==null?void 0:s.name,className:"border w-full object-cover mb-4 aspect-square rounded-2xl shadow-lg",onError:a=>a.target.src="/api/cover/thumbnail/null"}),(s==null?void 0:s.tags)&&l.jsx("div",{className:"absolute top-2 left-2 flex flex-col gap-1 text-xs font-bold",children:(c=s==null?void 0:s.tags)==null?void 0:c.map((a,e)=>l.jsx("span",{className:"px-2 py-1 bg-secondary text-textPrimary rounded",children:a.name}))}),(s==null?void 0:s.category)&&l.jsx("h3",{className:"line-clamp-1 h-8",children:(o=s==null?void 0:s.category)==null?void 0:o.name}),l.jsx("a",{href:`/${r==null?void 0:r.path}/${s.slug}`,children:l.jsx("h2",{className:"text-2xl w-full line-clamp-2 h-16 font-bold mb-2",children:s==null?void 0:s.name})}),(r==null?void 0:r["bool:show_summary"])!==!1&&l.jsx("p",{className:"line-clamp-3 h-[72px] opacity-80 mb-4",children:s==null?void 0:s.summary}),l.jsxs("div",{className:"flex justify-between items-end",children:[l.jsxs("div",{className:"h-[52px] flex flex-col items-start justify-end",children:[l.jsx("span",{className:"text-sm block opacity-80 line-through",children:(s==null?void 0:s.discount)>0?l.jsxs(l.Fragment,{children:[x(),u(s==null?void 0:s.price)]}):""}),l.jsxs("span",{className:"text-2xl font-bold customtext-primary",children:[x(),u(t)]})]}),l.jsx(b,{content:"Agregar al carrito",children:l.jsx("button",{className:"bg-primary text-white text-lg px-3 py-1 rounded disabled:cursor-not-allowed disabled:opacity-80",disabled:g,onClick:()=>h(s),children:l.jsx("i",{className:"mdi mdi-cart-plus"})})})]})]}):l.jsxs("div",{className:"w-full ",children:[l.jsx("figure",{className:"w-full mb-4 aspect-square rounded-3xl shadow-lg bg-gray-200 animate-pulse"}),l.jsx("h3",{className:"line-clamp-1 h-8 animate-pulse bg-gray-200 w-32"}),l.jsx("h2",{className:"text-2xl w-full line-clamp-1 font-bold mb-2 h-8 animate-pulse bg-gray-200"}),l.jsx("p",{className:"line-clamp-3 h-[72px] opacity-80 mb-4 animate-pulse bg-gray-200"}),l.jsxs("div",{className:"flex justify-between items-end",children:[l.jsxs("div",{className:"h-[52px] flex flex-col items-start justify-end",children:[l.jsx("span",{className:"text-sm block opacity-80 line-through h-5 animate-pulse bg-gray-200 w-16"}),l.jsx("span",{className:"text-2xl font-bold h-8 w-28 animate-pulse bg-gray-200"})]}),l.jsx("figure",{className:"text-lg px-3 py-1 rounded disabled:cursor-not-allowed disabled:opacity-80 animate-pulse bg-gray-200 text-gray-200",children:"xD"})]})]})};export{m as P};

var S=Object.defineProperty;var D=(t,l,o)=>l in t?S(t,l,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[l]=o;var q=(t,l,o)=>D(t,typeof l!="symbol"?l+"":l,o);import{j as a}from"./AboutHeader-ClKiNAEV.js";import{r as M}from"./index-DFv2mRv-.js";import{L as B,G as L,M as I}from"./esm-CEm1FFvt.js";import{B as z}from"./Base-0DwKrcfl.js";import{B as K}from"./ModalImportItem-DaJ_kNWW.js";import{C as Q}from"./CreateReactScript-DLxLAf2N.js";import{c as U}from"./ReactAppend-D9rqaU78.js";import{Q as c}from"./QuillFormGroup-K0vIs6OE.js";import{T as Y}from"./TextareaFormGroup-CbILxKD5.js";import{G as J}from"./Global-BM4Id4Pw.js";import"./index-Sd7so-oN.js";import"./tippy-react.esm-CGYKl-Jd.js";/* empty css              */import"./Logout-CnsEv7kI.js";import"./main-rZoj-gSW.js";import"./___vite-browser-external_commonjs-proxy-BQdpDcDf.js";import"./MenuItemContainer-BV6FEyQ-.js";import"./index.esm-M1-TJtwJ.js";/* empty css               */import"./General-BmbBKdsB.js";class O extends K{constructor(){super(...arguments);q(this,"path","admin/generals")}}const V=new O,X=({generals:t})=>{var v,b,j,x,N,y,f,g,C,P,_,k,W,$,F,w,G,T;const l=((v=t.find(e=>e.correlative=="location"))==null?void 0:v.description)??"0,0",[o,s]=M.useState({phones:((x=(j=(b=t.find(e=>e.correlative=="phone_contact"))==null?void 0:b.description)==null?void 0:j.split(","))==null?void 0:x.map(e=>e.trim()))??[""],emails:((f=(y=(N=t.find(e=>e.correlative=="email_contact"))==null?void 0:N.description)==null?void 0:y.split(","))==null?void 0:f.map(e=>e.trim()))??[""],cintillo:((g=t.find(e=>e.correlative=="cintillo"))==null?void 0:g.description)??"",address:((C=t.find(e=>e.correlative=="address"))==null?void 0:C.description)??"",openingHours:((P=t.find(e=>e.correlative=="opening_hours"))==null?void 0:P.description)??"",supportPhone:((_=t.find(e=>e.correlative=="support_phone"))==null?void 0:_.description)??"",supportEmail:((k=t.find(e=>e.correlative=="support_email"))==null?void 0:k.description)??"",privacyPolicy:((W=t.find(e=>e.correlative=="privacy_policy"))==null?void 0:W.description)??"",termsConditions:(($=t.find(e=>e.correlative=="terms_conditions"))==null?void 0:$.description)??"",deliveryPolicy:((F=t.find(e=>e.correlative=="delivery_policy"))==null?void 0:F.description)??"",salebackPolicy:((w=t.find(e=>e.correlative=="saleback_policy"))==null?void 0:w.description)??"",phoneWhatsapp:((G=t.find(e=>e.correlative=="phone_whatsapp"))==null?void 0:G.description)??"",messageWhatsapp:((T=t.find(e=>e.correlative=="message_whatsapp"))==null?void 0:T.description)??"",location:{lat:Number(l.split(",").map(e=>e.trim())[0]),lng:Number(l.split(",").map(e=>e.trim())[1])}}),[n,p]=M.useState("contact"),d=(e,i,r)=>{const{value:m}=e.target,E=[...o[r]];E[i]=m,s(R=>({...R,[r]:E}))},h=e=>{s(i=>({...i,[e]:[...i[e],""]}))},u=(e,i)=>{const r=[...o[i]];r.splice(e,1),s(m=>({...m,[i]:r}))},A=e=>{s(i=>({...i,location:{lat:e.latLng.lat(),lng:e.latLng.lng()}}))},H=async e=>{e.preventDefault();try{await V.save([{correlative:"phone_contact",name:"Teléfono de contacto",description:o.phones.join(",")},{correlative:"email_contact",name:"Correo de contacto",description:o.emails.join(",")},{correlative:"address",name:"Dirección",description:o.address},{correlative:"cintillo",name:"Cintillo",description:o.cintillo},{correlative:"opening_hours",name:"Horarios de atención",description:o.openingHours},{correlative:"support_phone",name:"Número de soporte",description:o.supportPhone},{correlative:"support_email",name:"Correo de soporte",description:o.supportEmail},{correlative:"privacy_policy",name:"Política de privacidad",description:o.privacyPolicy},{correlative:"terms_conditions",name:"Términos y condiciones",description:o.termsConditions},{correlative:"delivery_policy",name:"Políticas de envío",description:o.deliveryPolicy},{correlative:"saleback_policy",name:"Políticas de devolucion y cambio",description:o.salebackPolicy},{correlative:"phone_whatsapp",name:"Número de Whatsapp",description:o.phoneWhatsapp},{correlative:"message_whatsapp",name:"Mensaje de Whatsapp",description:o.messageWhatsapp},{correlative:"location",name:"Ubicación",description:`${o.location.lat},${o.location.lng}`}])}catch(i){console.error("Error al guardar los datos:",i)}};return a.jsx("div",{className:"card",children:a.jsxs("form",{className:"card-body",onSubmit:H,children:[a.jsxs("ul",{className:"nav nav-tabs",id:"contactTabs",role:"tablist",children:[a.jsx("li",{className:"nav-item",role:"presentation",children:a.jsx("button",{className:`nav-link ${n==="contact"?"active":""}`,onClick:()=>p("contact"),type:"button",role:"tab",children:"Información de Contacto"})}),a.jsx("li",{className:"nav-item",role:"presentation",children:a.jsx("button",{className:`nav-link ${n==="policies"?"active":""}`,onClick:()=>p("policies"),type:"button",role:"tab",children:"Políticas y Términos"})}),a.jsx("li",{className:"nav-item",role:"presentation",children:a.jsx("button",{className:`nav-link ${n==="location"?"active":""}`,onClick:()=>p("location"),type:"button",role:"tab",children:"Ubicación"})})]}),a.jsxs("div",{className:"tab-content",id:"contactTabsContent",children:[a.jsxs("div",{className:`tab-pane fade ${n==="contact"?"show active":""}`,role:"tabpanel",children:[a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-md-6",children:[o.phones.map((e,i)=>a.jsxs("div",{className:"mb-3",children:[a.jsxs("label",{htmlFor:`phone-${i}`,className:"form-label",children:["Teléfono ",i+1]}),a.jsxs("div",{className:"input-group",children:[a.jsx("input",{type:"tel",className:"form-control",id:`phone-${i}`,value:e,onChange:r=>d(r,i,"phones"),required:!0}),a.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:()=>u(i,"phones"),children:a.jsx("i",{className:"fa fa-trash"})})]})]},`phone-${i}`)),a.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>h("phones"),children:"Agregar teléfono"})]}),a.jsxs("div",{className:"col-md-6",children:[o.emails.map((e,i)=>a.jsxs("div",{className:"mb-3",children:[a.jsxs("label",{htmlFor:`email-${i}`,className:"form-label",children:["Correo ",i+1]}),a.jsxs("div",{className:"input-group",children:[a.jsx("input",{type:"text",className:"form-control",id:`email-${i}`,value:e,onChange:r=>d(r,i,"emails"),required:!0}),a.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:()=>u(i,"emails"),children:a.jsx("i",{className:"fa fa-trash"})})]})]},`email-${i}`)),a.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>h("emails"),children:"Agregar correo"})]})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"cintillo",className:"form-label",children:"Cintillo"}),a.jsx("textarea",{className:"form-control",id:"cintillo",value:o.cintillo,onChange:e=>s({...o,cintillo:e.target.value}),required:!0})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"address",className:"form-label",children:"Dirección"}),a.jsx("textarea",{className:"form-control",id:"address",value:o.address,onChange:e=>s({...o,address:e.target.value}),required:!0})]}),a.jsx("div",{className:"mb-3",children:a.jsx(Y,{label:"Horarios de atencion",onChange:e=>s({...o,openingHours:e.target.value}),value:o.openingHours,required:!0})}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"supportPhone",className:"form-label",children:"Número de soporte"}),a.jsx("input",{type:"tel",className:"form-control",id:"supportPhone",value:o.supportPhone,onChange:e=>s({...o,supportPhone:e.target.value}),required:!0})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"supportEmail",className:"form-label",children:"Correo de soporte"}),a.jsx("input",{type:"email",className:"form-control",id:"supportEmail",value:o.supportEmail,onChange:e=>s({...o,supportEmail:e.target.value}),required:!0})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"phoneWhatsapp",className:"form-label",children:"Número de Whatsapp"}),a.jsx("input",{type:"tel",className:"form-control",id:"phoneWhatsapp",value:o.phoneWhatsapp,onChange:e=>s({...o,phoneWhatsapp:e.target.value}),required:!0})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"messageWhatsapp",className:"form-label",children:"Mensaje de Whatsapp"}),a.jsx("input",{type:"tel",className:"form-control",id:"messageWhatsapp",value:o.messageWhatsapp,onChange:e=>s({...o,messageWhatsapp:e.target.value}),required:!0})]})]}),a.jsxs("div",{className:`tab-pane fade ${n==="policies"?"show active":""}`,role:"tabpanel",children:[a.jsx("div",{className:"mb-3",children:a.jsx(c,{label:"Política de privacidad",value:o.privacyPolicy,onChange:e=>s({...o,privacyPolicy:e})})}),a.jsx("div",{className:"mb-3",children:a.jsx(c,{label:"Términos y condiciones",value:o.termsConditions,onChange:e=>s({...o,termsConditions:e})})}),a.jsx("div",{className:"mb-3",children:a.jsx(c,{label:"Políticas de envío",value:o.deliveryPolicy,onChange:e=>s({...o,deliveryPolicy:e})})}),a.jsx("div",{className:"mb-3",children:a.jsx(c,{label:"Políticas de devolución y cambio",value:o.salebackPolicy,onChange:e=>s({...o,salebackPolicy:e})})})]}),a.jsxs("div",{className:`tab-pane fade ${n==="location"?"show active":""}`,role:"tabpanel",children:[a.jsx(B,{googleMapsApiKey:J.GMAPS_API_KEY,children:a.jsx(L,{mapContainerStyle:{width:"100%",height:"400px"},center:o.location,zoom:10,onClick:A,children:a.jsx(I,{position:o.location})})}),a.jsx("small",{className:"form-text text-muted",children:"Haz clic en el mapa para seleccionar la ubicación."})]})]}),a.jsx("button",{type:"submit",className:"btn btn-primary mt-3",children:"Guardar"})]})})};Q((t,l)=>{U(t).render(a.jsx(z,{...l,title:"Datos Generales",children:a.jsx(X,{...l})}))});

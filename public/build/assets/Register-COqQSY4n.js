import{j as e}from"./ModalImportItem-COUW3Uy_.js";import{x as M}from"./index.esm-uxJmvPV6.js";import{J as G}from"./JSEncrypt-C1v_2CZY.js";import{r as d}from"./index-CqkZ-sT_.js";import{c as V}from"./ReactAppend-CtUeIECI.js";import{P as h}from"./index-D7Vukm9p.js";import{h as W}from"./hoist-non-react-statics.cjs-Cb3TewI0.js";import{S as H}from"./ProductCard-DbBw_TRc.js";import{A as B}from"./AuthRest-DU3Tn8iC.js";import{S as z}from"./SelectFormGroup-cpZjB4K4.js";import{M as J}from"./Modal-DV9Mik4k.js";import{C as K}from"./CreateReactScript-ryBmIEyz.js";import{H as Y}from"./HtmlContent-CsL6K_SP.js";import"./___vite-browser-external_commonjs-proxy-DA7w84js.js";import"./index-VLFqsz8m.js";import"./main-MmatxeHN.js";import"./Global-BM4Id4Pw.js";/* empty css               *//* empty css              */import"./General-BmbBKdsB.js";var Q=["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl","isolated"];function P(){return P=Object.assign?Object.assign.bind():function(n){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(n[r]=a[r])}return n},P.apply(this,arguments)}function X(n,i){if(n==null)return{};var a={},r=Object.keys(n),t,c;for(c=0;c<r.length;c++)t=r[c],!(i.indexOf(t)>=0)&&(a[t]=n[t]);return a}function I(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Z(n,i){n.prototype=Object.create(i.prototype),n.prototype.constructor=n,T(n,i)}function T(n,i){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,t){return r.__proto__=t,r},T(n,i)}var F=function(n){Z(i,n);function i(){var r;return r=n.call(this)||this,r.handleExpired=r.handleExpired.bind(I(r)),r.handleErrored=r.handleErrored.bind(I(r)),r.handleChange=r.handleChange.bind(I(r)),r.handleRecaptchaRef=r.handleRecaptchaRef.bind(I(r)),r}var a=i.prototype;return a.getCaptchaFunction=function(t){return this.props.grecaptcha?this.props.grecaptcha.enterprise?this.props.grecaptcha.enterprise[t]:this.props.grecaptcha[t]:null},a.getValue=function(){var t=this.getCaptchaFunction("getResponse");return t&&this._widgetId!==void 0?t(this._widgetId):null},a.getWidgetId=function(){return this.props.grecaptcha&&this._widgetId!==void 0?this._widgetId:null},a.execute=function(){var t=this.getCaptchaFunction("execute");if(t&&this._widgetId!==void 0)return t(this._widgetId);this._executeRequested=!0},a.executeAsync=function(){var t=this;return new Promise(function(c,y){t.executionResolve=c,t.executionReject=y,t.execute()})},a.reset=function(){var t=this.getCaptchaFunction("reset");t&&this._widgetId!==void 0&&t(this._widgetId)},a.forceReset=function(){var t=this.getCaptchaFunction("reset");t&&t()},a.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},a.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},a.handleChange=function(t){this.props.onChange&&this.props.onChange(t),this.executionResolve&&(this.executionResolve(t),delete this.executionReject,delete this.executionResolve)},a.explicitRender=function(){var t=this.getCaptchaFunction("render");if(t&&this._widgetId===void 0){var c=document.createElement("div");this._widgetId=t(c,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge,isolated:this.props.isolated}),this.captcha.appendChild(c)}this._executeRequested&&this.props.grecaptcha&&this._widgetId!==void 0&&(this._executeRequested=!1,this.execute())},a.componentDidMount=function(){this.explicitRender()},a.componentDidUpdate=function(){this.explicitRender()},a.handleRecaptchaRef=function(t){this.captcha=t},a.render=function(){var t=this.props;t.sitekey,t.onChange,t.theme,t.type,t.tabindex,t.onExpired,t.onErrored,t.size,t.stoken,t.grecaptcha,t.badge,t.hl,t.isolated;var c=X(t,Q);return d.createElement("div",P({},c,{ref:this.handleRecaptchaRef}))},i}(d.Component);F.displayName="ReCAPTCHA";F.propTypes={sitekey:h.string.isRequired,onChange:h.func,grecaptcha:h.object,theme:h.oneOf(["dark","light"]),type:h.oneOf(["image","audio"]),tabindex:h.number,onExpired:h.func,onErrored:h.func,size:h.oneOf(["compact","normal","invisible"]),stoken:h.string,hl:h.string,badge:h.oneOf(["bottomright","bottomleft","inline"]),isolated:h.bool};F.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};function D(){return D=Object.assign||function(n){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(n[r]=a[r])}return n},D.apply(this,arguments)}function ee(n,i){if(n==null)return{};var a={},r=Object.keys(n),t,c;for(c=0;c<r.length;c++)t=r[c],!(i.indexOf(t)>=0)&&(a[t]=n[t]);return a}function te(n,i){n.prototype=Object.create(i.prototype),n.prototype.constructor=n,n.__proto__=i}var f={},re=0;function ne(n,i){return i=i||{},function(r){var t=r.displayName||r.name||"Component",c=function(R){te(x,R);function x(v,o){var s;return s=R.call(this,v,o)||this,s.state={},s.__scriptURL="",s}var g=x.prototype;return g.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+re++),this.__scriptLoaderID},g.setupScriptURL=function(){return this.__scriptURL=typeof n=="function"?n():n,this.__scriptURL},g.asyncScriptLoaderHandleLoad=function(o){var s=this;this.setState(o,function(){return s.props.asyncScriptOnLoad&&s.props.asyncScriptOnLoad(s.state)})},g.asyncScriptLoaderTriggerOnScriptLoaded=function(){var o=f[this.__scriptURL];if(!o||!o.loaded)throw new Error("Script is not loaded.");for(var s in o.observers)o.observers[s](o);delete window[i.callbackName]},g.componentDidMount=function(){var o=this,s=this.setupScriptURL(),l=this.asyncScriptLoaderGetScriptLoaderID(),m=i,L=m.globalName,w=m.callbackName,O=m.scriptId;if(L&&typeof window[L]<"u"&&(f[s]={loaded:!0,observers:{}}),f[s]){var j=f[s];if(j&&(j.loaded||j.errored)){this.asyncScriptLoaderHandleLoad(j);return}j.observers[l]=function(p){return o.asyncScriptLoaderHandleLoad(p)};return}var S={};S[l]=function(p){return o.asyncScriptLoaderHandleLoad(p)},f[s]={loaded:!1,observers:S};var b=document.createElement("script");b.src=s,b.async=!0;for(var E in i.attributes)b.setAttribute(E,i.attributes[E]);O&&(b.id=O);var C=function(u){if(f[s]){var N=f[s],_=N.observers;for(var k in _)u(_[k])&&delete _[k]}};w&&typeof window<"u"&&(window[w]=function(){return o.asyncScriptLoaderTriggerOnScriptLoaded()}),b.onload=function(){var p=f[s];p&&(p.loaded=!0,C(function(u){return w?!1:(u(p),!0)}))},b.onerror=function(){var p=f[s];p&&(p.errored=!0,C(function(u){return u(p),!0}))},document.body.appendChild(b)},g.componentWillUnmount=function(){var o=this.__scriptURL;if(i.removeOnUnmount===!0)for(var s=document.getElementsByTagName("script"),l=0;l<s.length;l+=1)s[l].src.indexOf(o)>-1&&s[l].parentNode&&s[l].parentNode.removeChild(s[l]);var m=f[o];m&&(delete m.observers[this.asyncScriptLoaderGetScriptLoaderID()],i.removeOnUnmount===!0&&delete f[o])},g.render=function(){var o=i.globalName,s=this.props;s.asyncScriptOnLoad;var l=s.forwardedRef,m=ee(s,["asyncScriptOnLoad","forwardedRef"]);return o&&typeof window<"u"&&(m[o]=typeof window[o]<"u"?window[o]:void 0),m.ref=l,d.createElement(r,m)},x}(d.Component),y=d.forwardRef(function(R,x){return d.createElement(c,D({},R,{forwardedRef:x}))});return y.displayName="AsyncScriptLoader("+t+")",y.propTypes={asyncScriptOnLoad:h.func},W(y,r)}}var U="onloadcallback",ie="grecaptcha";function q(){return typeof window<"u"&&window.recaptchaOptions||{}}function ae(){var n=q(),i=n.useRecaptchaNet?"recaptcha.net":"www.google.com";return n.enterprise?"https://"+i+"/recaptcha/enterprise.js?onload="+U+"&render=explicit":"https://"+i+"/recaptcha/api.js?onload="+U+"&render=explicit"}const se=ne(ae,{callbackName:U,globalName:ie,attributes:q().nonce?{nonce:q().nonce}:{}})(F),oe=({PUBLIC_RSA_KEY:n,RECAPTCHA_SITE_KEY:i,token:a,terms:r="Terminos y condiciones",roles:t=[],specialties:c})=>{document.title="Registro | NetCoaching";const y=new G;y.setPublicKey(n);const[R,x]=d.useState(!0),[g,v]=d.useState(null),[o,s]=d.useState(!1),l=d.useRef(),m=d.useRef(),L=d.useRef(),w=d.useRef(),O=d.useRef(),j=d.useRef(),S=d.useRef(),b=d.useRef(),E=d.useRef();d.useEffect(()=>{x(!1)},[null]);const C=async u=>{u.preventDefault(),x(!0);const N=O.current.value,_=j.current.value;if(N!=_)return H.fire({icon:"warning",title:"Error",text:"Las contraseÃ±as no coinciden",confirmButtonText:"Ok"});if(!g)return H.fire({icon:"warning",title:"Error",text:"Por favor, complete el captcha",confirmButtonText:"Ok"});const k={role:$(l.current).val(),name:m.current.value,lastname:L.current.value,email:w.current.value,password:y.encrypt(N),confirmation:y.encrypt(_),terms:S.current.checked,captcha:g,specialties:$(b.current).val()},A=await B.signup(k);if(!A)return x(!1);A&&(location.href=`./confirm-email/${A}`),x(!1)},p=u=>{documentNumberRef.current.value="",s(!1)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"account-pages mt-5 mb-5",children:e.jsx("div",{className:"container",children:e.jsx("div",{className:"row justify-content-center",children:e.jsxs("div",{className:"col-md-8 col-lg-6 col-xl-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("a",{href:"/",children:e.jsx("img",{src:"/assets/img/logo-default.png",alt:"",className:"mx-auto",style:{height:"40px"}})}),e.jsx("p",{className:"text-muted mt-2 mb-4",children:"Bienvenido a Trasciende"})]}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body p-4",children:[e.jsx("div",{className:"text-center mb-4",children:e.jsx("h4",{className:"text-uppercase mt-0 font-bold",children:"Registrate"})}),e.jsxs("form",{onSubmit:C,className:"row",children:[e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"row justify-content-center",children:e.jsxs("div",{className:"col-sm-6 mb-2",children:[e.jsxs("label",{htmlFor:"role",className:"form-label",children:["Tipo de usuario ",e.jsx("b",{className:"text-danger",children:"*"})]}),e.jsx(z,{eRef:l,onChange:p,required:!0,children:t.map((u,N)=>e.jsx("option",{value:u.relative_id,children:u.name}))})]})})}),e.jsx(z,{label:"Especialidad",eRef:b,required:!0,multiple:!0,children:c.map((u,N)=>e.jsx("option",{value:u.id,children:u.name},`specialty-${N}`))}),e.jsxs("div",{className:"col-sm-6 mb-2",children:[e.jsxs("label",{htmlFor:"name",className:"form-label",children:["Nombres ",e.jsx("b",{className:"text-danger",children:"*"})]}),e.jsx("input",{ref:m,className:"form-control",type:"text",id:"name",placeholder:"Ingrese su nombre",required:!0})]}),e.jsxs("div",{className:"col-sm-6 mb-2",children:[e.jsxs("label",{htmlFor:"lastname",className:"form-label",children:["Apellidos ",e.jsx("b",{className:"text-danger",children:"*"})]}),e.jsx("input",{ref:L,className:"form-control",type:"text",id:"lastname",placeholder:"Ingrese sus apellidos",required:!0})]}),e.jsxs("div",{className:"col-12 mb-2",children:[e.jsxs("label",{htmlFor:"email",className:"form-label",children:["Correo electronico ",e.jsx("b",{className:"text-danger",children:"*"})]}),e.jsx("input",{ref:w,className:"form-control",type:"email",id:"email",required:!0,placeholder:"Ingrese su correo electronico"})]}),e.jsxs("div",{className:"col-sm-6 mb-2",children:[e.jsxs("label",{htmlFor:"password",className:"form-label",children:["ContraseÃ±a ",e.jsx("b",{className:"text-danger",children:"*"})]}),e.jsx("input",{ref:O,className:"form-control",type:"password",required:!0,id:"password",placeholder:"Ingrese su contraseÃ±a"})]}),e.jsxs("div",{className:"col-sm-6 mb-3",children:[e.jsxs("label",{htmlFor:"confirmation",className:"form-label",children:["Confirmacion ",e.jsx("b",{className:"text-danger",children:"*"})]}),e.jsx("input",{ref:j,className:"form-control",type:"password",required:!0,id:"confirmation",placeholder:"Confirme su contraseÃ±a"})]}),e.jsx("div",{className:"col-12 mb-3",children:e.jsxs("div",{className:"form-check mx-auto",style:{width:"max-content"},children:[e.jsx("input",{ref:S,type:"checkbox",className:"form-check-input",id:"checkbox-signup",required:!0}),e.jsxs("label",{className:"form-check-label",htmlFor:"checkbox-signup",children:["Acepto los",e.jsx("a",{href:"#terms",className:"ms-1 text-blue",onClick:()=>$(E.current).modal("show"),children:"terminos y condiciones"})]})]})}),e.jsx(se,{className:"m-auto mb-3",sitekey:i,onChange:v,style:{display:"block",width:"max-content"}}),e.jsx("div",{className:"mb-0 text-center d-grid",children:e.jsx("button",{className:"btn btn-primary",type:"submit",disabled:R,children:R?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fa fa-spinner fa-spin"})," Verificando"]}):"Registrarme"})})]})]})}),e.jsx("div",{className:"row mt-3",children:e.jsx("div",{className:"col-12 text-center",children:e.jsxs("p",{className:"text-muted",children:["Ya tienes una cuenta? ",e.jsx(M,{href:"/login",className:"text-white ms-1",children:e.jsx("b",{children:"Iniciar sesion"})})]})})})]})})})}),e.jsx(J,{modalRef:E,title:"Terminos y condiciones",size:"lg",hideFooter:!0,children:e.jsx(Y,{html:r})})]})};K((n,i)=>{V(n).render(e.jsx(oe,{...i}))});

var w=Object.defineProperty;var h=(r,t,i)=>t in r?w(r,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[t]=i;var f=(r,t,i)=>h(r,typeof t!="symbol"?t+"":t,i);import{j as s}from"./AboutSimple-Cf8x2fCZ.js";import{B as b}from"./Base-CluM7K_v.js";import{r as o}from"./index-BH53Isel.js";import{T as v}from"./TextareaFormGroup-CdwdsTk2.js";import{c as j}from"./ReactAppend-DTVVXReZ.js";import{S as q}from"./ProductCard-C2H10lUi.js";import{M as B}from"./Modal-BJ3DTV_x.js";import{D as p}from"./DxButton-CsjWvhyj.js";import{I as E}from"./InputFormGroup-D5I6zpZc.js";import{T as F}from"./Table-CP679pea.js";import{C}from"./CreateReactScript-C53VDHBb.js";import{B as D}from"./ModalImportItem-Cjgn8e-W.js";import"./index-yBjzXJbu.js";import"./Global-BM4Id4Pw.js";import"./tippy-react.esm-BWiGTO87.js";import"./index-rimy3MAc.js";import"./index-fNjTmf9T.js";/* empty css              */import"./Logout-CGCqvje3.js";import"./main-BSEyQEJW.js";import"./___vite-browser-external_commonjs-proxy-0zb4Agf2.js";import"./MenuItemContainer-BkmzVQNY.js";import"./index.esm-BE8-iLxT.js";/* empty css               */import"./General-BmbBKdsB.js";class S extends D{constructor(){super(...arguments);f(this,"path","admin/faqs")}}const c=new S,T=()=>{const r=o.useRef(),t=o.useRef(),i=o.useRef(),a=o.useRef(),l=o.useRef(),[d,u]=o.useState(!1),m=e=>{e!=null&&e.id?u(!0):u(!1),i.current.value=(e==null?void 0:e.id)??"",a.current.value=(e==null?void 0:e.question)??"",l.current.value=(e==null?void 0:e.answer)??"",$(t.current).modal("show")},x=async e=>{e.preventDefault();const n={id:i.current.value||void 0,question:a.current.value,answer:l.current.value};await c.save(n)&&($(r.current).dxDataGrid("instance").refresh(),$(t.current).modal("hide"))},g=async e=>{const{isConfirmed:n}=await q.fire({title:"Eliminar indicador",text:"Â¿Estas seguro de eliminar este indicador?",icon:"warning",showCancelButton:!0,confirmButtonText:"Si, eliminar",cancelButtonText:"Cancelar"});!n||!await c.delete(e)||$(r.current).dxDataGrid("instance").refresh()};return s.jsxs(s.Fragment,{children:[s.jsx(F,{gridRef:r,title:"Preguntas Frecuentes",rest:c,toolBar:e=>{e.unshift({widget:"dxButton",location:"after",options:{icon:"refresh",hint:"Refrescar tabla",onClick:()=>$(r.current).dxDataGrid("instance").refresh()}}),e.unshift({widget:"dxButton",location:"after",options:{icon:"plus",text:"Nueva pregunta",hint:"Nueva pregunta",onClick:()=>m()}})},columns:[{dataField:"id",caption:"ID",visible:!1},{dataField:"question",caption:"Pregunta"},{dataField:"answer",caption:"Respuesta"},{caption:"Acciones",cellTemplate:(e,{data:n})=>{e.append(p({className:"btn btn-xs btn-soft-primary",title:"Editar",icon:"fa fa-pen",onClick:()=>m(n)})),e.append(p({className:"btn btn-xs btn-soft-danger",title:"Eliminar",icon:"fa fa-trash",onClick:()=>g(n.id)}))},allowFiltering:!1,allowExporting:!1}]}),s.jsx(B,{modalRef:t,title:d?"Editar Pregunta":"Agregar Pregunta",onSubmit:x,size:"md",children:s.jsxs("div",{className:"row",id:"faqs-container",children:[s.jsx("input",{ref:i,type:"hidden"}),s.jsx(E,{eRef:a,label:"Pregunta",col:"col-sm-8",rows:3,required:!0}),s.jsx(v,{eRef:l,label:"Respuesta",rows:3})]})})]})};C((r,t)=>{j.createRoot(r).render(s.jsx(b,{...t,title:"Preguntas Frecuentes",children:s.jsx(T,{...t})}))});

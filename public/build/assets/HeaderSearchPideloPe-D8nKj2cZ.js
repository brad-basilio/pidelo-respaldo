import{j as t}from"./AboutSimple-Cf8x2fCZ.js";import{r}from"./index-BH53Isel.js";import{S as C}from"./react-select.esm-Bm_2RwVo.js";import{G as E}from"./Global-CQLDm_nT.js";import{C as O}from"./HeaderSearch-DiN9TfNr.js";import{m as i}from"./main-BvVILmTO.js";import{M as L}from"./MobileMenu-Knf2BRwI.js";import{X as P}from"./x-DBMwyD6F.js";import{S as G}from"./search-TwiiKGP5.js";import{S as H}from"./shopping-cart-CZEUxbmv.js";import"./index-yBjzXJbu.js";import"./Select-aab027f3.esm-kGkkFbxE.js";import"./hoist-non-react-statics.cjs-kbdZbs82.js";import"./index-rimy3MAc.js";import"./index-fNjTmf9T.js";import"./index-Bv81MoWS.js";import"./index-Chjiymov.js";import"./CartItemRow-BhtCHp_j.js";import"./tippy-react.esm-BWiGTO87.js";import"./Number2Currency-e57Tgsuk.js";import"./minus-jyhodMPN.js";import"./createLucideIcon-Cy5Ya80P.js";import"./plus-Bot15Khs.js";import"./___vite-browser-external_commonjs-proxy-0zb4Agf2.js";import"./chevron-left-B2s3ZsB7.js";import"./chevron-right-Ckt5D2ka.js";const pe=({items:l,data:v,cart:c,setCart:S,isUser:y,pages:p,generals:m=[]})=>{var w;const u=m.find(e=>e.correlative==="phone_whatsapp"),d=m.find(e=>e.correlative==="message_whatsapp");u&&u.description,d&&d.description;const[N,h]=r.useState(!1),[o,x]=r.useState(!1),[W,B]=r.useState(!1),[f,k]=r.useState(((w=l[0])==null?void 0:w.slug)||""),g=c.reduce((e,s)=>Number(e)+Number(s.quantity),0),[I,R]=r.useState(!1),j=r.useRef(null);r.useEffect(()=>{function e(s){j.current&&!j.current.contains(s.target)&&setIsOpen(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const[a,M]=r.useState(i.GET.search??""),n=l.map(e=>({value:e.slug,label:e.name})),b=()=>{if(!a.trim())return"#";const e=new URLSearchParams;return f&&e.append("shop",f),a.trim()&&e.append("search",a.trim()),`/catalogo?${e.toString()}`};return t.jsxs("header",{className:`w-full ${o?"fixed w-screen h-screen bg-white z-50":"relative"}`,children:[t.jsx("div",{className:"px-primary 2xl:px-0 2xl:max-w-7xl mx-auto py-4 font-font-secondary text-base font-semibold",children:t.jsxs("div",{className:"flex items-center justify-between gap-4",children:[t.jsx("a",{href:"/",className:"flex items-center gap-2",children:t.jsx("img",{src:`/assets/resources/logo.png?v=${crypto.randomUUID()}`,alt:E.APP_NAME,className:"h-14 object-contain object-center",onError:e=>{e.target.onerror=null,e.target.src="/assets/img/logo-bk.svg"}})}),t.jsx("button",{onClick:()=>x(!o),className:"flex md:hidden items-center justify-center bg-primary rounded-lg w-auto h-auto p-2 text-white fill-white transition-all duration-300",children:o?t.jsx(P,{}):t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[t.jsx("path",{d:"M10 5H20",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M4 12H20",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M4 19H14",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})}),t.jsxs("div",{className:"hidden md:flex mx-auto px-4 relative w-full max-w-xl gap-6 items-center border rounded-full",children:[t.jsx(C,{options:n,defaultValue:n.find(e=>e.value==i.GET.shop)??n[0],onChange:e=>k(e.value),className:"w-[200px]",classNamePrefix:"react-select",styles:{control:e=>({...e,backgroundColor:"transparent",border:"none",boxShadow:"none",minHeight:"40px",cursor:"pointer"}),menu:e=>({...e,zIndex:9999}),option:e=>({...e,cursor:"pointer"})}}),t.jsx("input",{type:"search",placeholder:"Buscar productos",value:a,defaultValue:i.GET.search??"",onChange:e=>M(e.target.value),onKeyDown:e=>{e.key==="Enter"&&(window.location.href=b())},className:"w-full py-4 focus:ring-0 focus:outline-none bg-transparent"}),t.jsxs("a",{href:b(),className:"absolute flex gap-4 right-3 top-1/2 transform -translate-y-1/2 p-2 bg-accent customtext-primary rounded-xl px-4","aria-label":"Buscar",children:["Buscar",t.jsx(G,{})]})]}),t.jsx("div",{className:"flex items-center gap-4",children:p.map((e,s)=>e.menuable&&t.jsx("li",{className:"flex flex-col py-1 lg:py-0",children:t.jsx("a",{href:e.path,className:"hover:customtext-primary cursor-pointer transition-all duration-300 pr-6",onClick:()=>setMenuOpen(!1),children:e.name})},s))}),t.jsxs("button",{onClick:()=>h(!0),className:"relative p-2 hover:bg-gray-100 rounded-full transition-all duration-300","aria-label":"Carrito de compras",children:[t.jsx(H,{className:"h-6 w-6"}),g>0&&t.jsx("span",{className:"absolute -top-1 -right-1 bg-primary text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:g})]})]})}),t.jsx(O,{data:v,modalOpen:N,setModalOpen:h,cart:c,setCart:S}),o&&t.jsx(L,{setOpenMenu:x,pages:p,isUser:y})]})};export{pe as default};

import{j as e}from"./AboutHeader-COUW3Uy_.js";import{r as n}from"./index-CqkZ-sT_.js";import{C as D}from"./CardHoverBtn-BbIISpOC.js";import{c as M}from"./createLucideIcon-D0vxYqnu.js";import{C as p}from"./chevron-down-CxOx8ByU.js";import{S as w}from"./search-DhoFIDMi.js";import"./ProductCard-DppMoL6U.js";/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=M("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),U=({items:y,data:m,categories:C,brands:v,prices:S,cart:A,setCart:_})=>{const[c,F]=n.useState({marca:!0,precio:!0,categoria:!0,colores:!1}),[r,u]=n.useState({marcas:[],categorias:[],subcategorias:[],precio:null});n.useEffect(()=>{const a=new URLSearchParams(window.location.search).get("category");a&&u(t=>({...t,categorias:[a]}))},[]);const[h,k]=n.useState(""),[g,B]=n.useState(""),[j,P]=n.useState("reciente"),d=s=>{F(a=>({...a,[s]:!a[s]}))},o=(s,a)=>{u(t=>{if(s==="precio"){const l=t.precio&&t.precio.min===a.min&&t.precio.max===a.max;return{...t,precio:l?null:a}}const x=t[s].includes(a)?t[s].filter(l=>l!==a):[...t[s],a];return{...t,[s]:x}})},$=v.filter(s=>s.name.toLowerCase().includes(h.toLowerCase())),L=C.filter(s=>s.slug.toLowerCase().includes(g.toLowerCase()));let i=y.filter(s=>{var f,b,N;const a=r.marcas.length===0||r.marcas.includes((f=s.brand)==null?void 0:f.name),t=r.categorias.length===0||r.categorias.includes((b=s.category)==null?void 0:b.slug),x=r.subcategorias.length===0||r.subcategorias.includes((N=s.subcategory)==null?void 0:N.name),l=!r.precio||s.price>=r.precio.min&&s.price<=r.precio.max;return a&&t&&x&&l});return i=[...i].sort((s,a)=>{switch(j){case"precio_mayor":return a.price-s.price;case"precio_menor":return s.price-a.price;case"reciente":return new Date(a.created_at)-new Date(s.created_at);case"antiguo":return new Date(s.created_at)-new Date(a.created_at);case"nombre_az":return s.name.localeCompare(a.name);case"nombre_za":return a.name.localeCompare(s.name);default:return 0}}),e.jsx("section",{className:"py-12 bg-[#F7F9FB]",children:e.jsxs("div",{className:"mx-auto px-primary",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8 pb-4 border-b-2",children:[e.jsx("h2",{className:"text-4xl font-bold",children:m==null?void 0:m.title}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{children:["Productos seleccionados: ",i.length]}),e.jsxs("select",{className:"bg-primary text-white px-6 py-3 text-base rounded-lg font-bold",value:j,onChange:s=>P(s.target.value),children:[e.jsx("option",{value:"reciente",children:"Más reciente"}),e.jsx("option",{value:"antiguo",children:"Más antiguo"}),e.jsx("option",{value:"precio_mayor",children:"Precio: Mayor a menor"}),e.jsx("option",{value:"precio_menor",children:"Precio: Menor a mayor"}),e.jsx("option",{value:"nombre_az",children:"Nombre: A-Z"}),e.jsx("option",{value:"nombre_za",children:"Nombre: Z-A"})]})]})]}),e.jsxs("div",{className:"relative flex gap-4",children:[e.jsxs("div",{className:"w-3/12 bg-white p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Filtros"}),e.jsx(z,{className:"h-5 w-5"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("button",{onClick:()=>d("marca"),className:"flex items-center justify-between w-full mb-4",children:[e.jsx("span",{className:"font-medium",children:"Marca"}),e.jsx(p,{className:`h-5 w-5 transform transition-transform ${c.marca?"":"-rotate-180"}`})]}),c.marca&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(w,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar",className:"w-full pl-10 pr-4 py-2 bg-gray-100 rounded-lg text-sm",value:h,onChange:s=>k(s.target.value)})]}),e.jsx("div",{className:"space-y-3",children:$.map(s=>e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300",onChange:()=>o("marcas",s.name)}),e.jsx("span",{children:s.name})]},s.id))})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("button",{onClick:()=>d("precio"),className:"flex items-center justify-between w-full mb-4",children:[e.jsx("span",{className:"font-medium",children:"Precio"}),e.jsx(p,{className:`h-5 w-5 transform transition-transform ${c.precio?"":"-rotate-180"}`})]}),c.precio&&e.jsx("div",{className:"space-y-3",children:S.map(s=>e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"radio",name:"precio",className:"h-4 w-4 rounded border-gray-300",onChange:()=>o("precio",s),checked:r.precio&&r.precio.min===s.min&&r.precio.max===s.max}),e.jsx("span",{children:`S/ ${s.min} - S/ ${s.max}`})]},`${s.min}-${s.max}`))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("button",{onClick:()=>d("categoria"),className:"flex items-center justify-between w-full mb-4",children:[e.jsx("span",{className:"font-medium",children:"Categoría"}),e.jsx(p,{className:`h-5 w-5 transform transition-transform ${c.categoria?"":"-rotate-180"}`})]}),c.categoria&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(w,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar",className:"w-full pl-10 pr-4 py-2 bg-gray-100 rounded-lg text-sm",value:g,onChange:s=>B(s.target.value)})]}),L.map(s=>e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300",onChange:()=>o("categorias",s.slug)}),e.jsx("span",{children:s.name})]}),r.categorias.includes(s.slug)&&e.jsx("ul",{className:"ml-6 mt-2 space-y-2",children:s.subcategories.map(a=>e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300",onChange:()=>o("subcategorias",a.name)}),e.jsx("span",{children:a.name})]},a.id))})]},s.id))]})]}),e.jsx("button",{className:"w-full bg-blue-500 text-white py-3 rounded-lg hover:bg-blue-600 transition-colors",children:"Aplicar Filtro"})]}),e.jsx("div",{className:"w-9/12 py-4",children:e.jsx("div",{className:"flex items-center flex-wrap gap-y-8 transition-all duration-300 ease-in-out",children:i.length>0?i.map(s=>e.jsx(D,{product:s,widthClass:"lg:w-1/4",setCart:_},s.id)):e.jsx("p",{children:"No hay productos que coincidan con los filtros seleccionados."})})})]})]})})};export{U as default};

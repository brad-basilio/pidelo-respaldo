import{j as a}from"./AboutHeader-Bdo2C3ON.js";import"./index-DFv2mRv-.js";import{N as o}from"./Number2Currency-e57Tgsuk.js";import{i as h}from"./tippy-react.esm-BVvHiWwH.js";import{S as i}from"./ProductCard-FwiEcsI0.js";const w=({cart:e,item:s,setCart:x})=>{var r,c;const p=l=>{const n=structuredClone(e),d=n.findIndex(g=>g.id==l.id);d==-1?n.push({...l,quantity:1}):n[d].quantity++,x(n),i.fire({title:"Producto agregado",text:`Se agregÃ³ ${l.name} al carrito`,icon:"success",timer:1500})},u=e==null?void 0:e.find(l=>l.id==(s==null?void 0:s.id)),t=(s==null?void 0:s.discount)>0?s==null?void 0:s.discount:s==null?void 0:s.price;return s?a.jsxs("div",{className:"w-full relative",children:[a.jsx("img",{src:`/api/items/media/${s==null?void 0:s.image}`,alt:s==null?void 0:s.name,className:"border w-full object-cover mb-4 aspect-square rounded-3xl shadow-lg"}),(s==null?void 0:s.tags)&&a.jsx("div",{className:"absolute top-2 left-2 flex flex-col gap-1 text-xs font-bold",children:(r=s==null?void 0:s.tags)==null?void 0:r.map((l,n)=>a.jsx("span",{className:"px-2 py-1 bg-secondary text-textPrimary rounded",children:l.name}))}),(s==null?void 0:s.category)&&a.jsx("h3",{className:"line-clamp-1 h-8",children:(c=s==null?void 0:s.category)==null?void 0:c.name}),a.jsx("h2",{className:"text-2xl w-full line-clamp-1 font-bold mb-2",children:s==null?void 0:s.name}),a.jsx("p",{className:"line-clamp-3 h-[72px] opacity-80 mb-4",children:s==null?void 0:s.description}),a.jsxs("div",{className:"flex justify-between items-end",children:[a.jsxs("div",{className:"h-[52px] flex flex-col items-start justify-end",children:[a.jsx("span",{className:"text-sm block opacity-80 line-through",children:(s==null?void 0:s.discount)>0?a.jsxs(a.Fragment,{children:["S/. ",o(s==null?void 0:s.price)]}):""}),a.jsxs("span",{className:"text-2xl font-bold",children:["S/. ",o(t)]})]}),a.jsx(h,{content:"Agregar al carrito",children:a.jsx("button",{className:"bg-primary text-white text-lg px-3 py-1 rounded disabled:cursor-not-allowed disabled:opacity-80",disabled:u,onClick:()=>p(s),children:a.jsx("i",{className:"mdi mdi-cart-plus"})})})]})]}):a.jsxs("div",{className:"w-full ",children:[a.jsx("figure",{className:"w-full mb-4 aspect-square rounded-3xl shadow-lg bg-gray-200 animate-pulse"}),a.jsx("h3",{className:"line-clamp-1 h-8 animate-pulse bg-gray-200 w-32"}),a.jsx("h2",{className:"text-2xl w-full line-clamp-1 font-bold mb-2 h-8 animate-pulse bg-gray-200"}),a.jsx("p",{className:"line-clamp-3 h-[72px] opacity-80 mb-4 animate-pulse bg-gray-200"}),a.jsxs("div",{className:"flex justify-between items-end",children:[a.jsxs("div",{className:"h-[52px] flex flex-col items-start justify-end",children:[a.jsx("span",{className:"text-sm block opacity-80 line-through h-5 animate-pulse bg-gray-200 w-16"}),a.jsx("span",{className:"text-2xl font-bold h-8 w-28 animate-pulse bg-gray-200"})]}),a.jsx("figure",{className:"text-lg px-3 py-1 rounded disabled:cursor-not-allowed disabled:opacity-80 animate-pulse bg-gray-200 text-gray-200",children:"xD"})]})]})};export{w as P};

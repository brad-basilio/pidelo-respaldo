var u=Object.defineProperty;var y=(o,t,e)=>t in o?u(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e;var c=(o,t,e)=>y(o,typeof t!="symbol"?t+"":t,e);import{c as l}from"./createLucideIcon-CC2OGGjd.js";import{j as d}from"./AboutHeader-ClKiNAEV.js";import"./index-DFv2mRv-.js";import{m as i}from"./main-rZoj-gSW.js";/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=l("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x=l("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),E=({children:o,className:t="",...e})=>d.jsx("button",{type:"button",className:`w-full bg-primary font-bold text-white py-3 px-4  hover:opacity-90 hover:shadow-md transition-all duration-300 focus:outline-none active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed rounded-xl ${t}`,...e,children:o}),k=({children:o,className:t="",...e})=>d.jsx("a",{className:`w-full block border-primary cursor-pointer border-2 text-center font-bold customtext-primary py-3 px-4  hover:opacity-90 hover:shadow-md transition-all duration-300 focus:outline-none active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed rounded-xl ${t}`,...e,children:o});class m{}c(m,"getShippingCost",async t=>{try{const{status:e,result:r}=await i.Fetch("./api/delivery-prices",{method:"POST",body:JSON.stringify(t)});if(!e)throw new Error((r==null?void 0:r.message)||"Error al obtener datos");return i.Notify.add({icon:"/assets/img/icon.svg",title:"Operacion correcta",body:"Se obtuvo correctamente el precio de envio"}),r}catch(e){return i.Notify.add({icon:"/assets/img/icon.svg",title:"Error",body:e.message,type:"danger"}),!1}});function g(){let o="";for(let t=0;t<12;t++){const e=Math.floor(Math.random()*10);o+=e}return o}const C=o=>new Promise((t,e)=>{try{console.log(o);const r=g(o.email);console.log(r),window.Culqi.publicKey="pk_test_f4d42a7b5073e8df",window.Culqi.settings({title:"Sala Fabulosa",email:o.email,currency:"PEN",amount:o.amount*100,order:`${r}`}),console.log(window.Culqi.settings),window.Culqi.options({lang:"es",installments:!1,paymentMethods:{tarjeta:!0,yape:!0,bancaMovil:!0,agente:!0,billetera:!0,cuotealo:!0},style:{logo:"https://i.ibb.co/Xf7Nbc7J/Simplification.png",bannerColor:"#20A4E0",buttonBackground:"#20A4E0"}}),window.Culqi.open(),window.culqi=async function(){try{if(!window.Culqi.token){e("No se obtuvo un token de Culqi");return}const a=window.Culqi.token.id;console.log("✅ Token generado:",a),o={...o,token:a,orderNumber:r},console.log("_request actualizado",o);const{status:s,result:n}=await i.Fetch("./api/pago",{method:"POST",body:JSON.stringify(o)});s||console.log((n==null?void 0:n.message)||"Error en el pago"),window.Culqi.close(),i.Notify.add({icon:"/assets/img/icon.svg",title:"Pago Exitoso",body:"El pago se procesó correctamente.",type:"success"}),t(n)}catch(a){i.Notify.add({icon:"/assets/img/icon.svg",title:"Error en el Pago",body:a.message,type:"danger"}),e(a.message||"Error en el pago")}},document.addEventListener("culqi.error",function(a){var s,n;i.Notify.add({icon:"/assets/img/icon.svg",title:"Error en Culqi",body:((s=a.detail)==null?void 0:s.message)||"Error desconocido",type:"danger"}),e(((n=a.detail)==null?void 0:n.message)||"Error desconocido")})}catch(r){i.Notify.add({icon:"/assets/img/icon.svg",title:"Error",body:r.message,type:"danger"}),e("Error en la integración con Culqi")}});export{E as B,m as D,v as M,x as T,k as a,C as p};

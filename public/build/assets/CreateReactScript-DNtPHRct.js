import{W as $}from"./index.esm-BE8-iLxT.js";import{m as d}from"./main-BSEyQEJW.js";import{G as v}from"./Global-BM4Id4Pw.js";/* empty css               *//* empty css              */import{G as A}from"./General-BmbBKdsB.js";import{L as C}from"./LaravelSession-Dz9cpV3l.js";const X=g=>{$({resolve:l=>`/${l}.jsx`,setup:({el:l,props:h})=>{const s=h.initialPage.props;if(s!=null&&s.global)for(const o in s.global)v.set(o,s.global[o]);if(s!=null&&s.generals)for(const o in s.generals){const{correlative:e,description:a}=s.generals[o];A.set(e,a)}const c={...s==null?void 0:s.session};for(const o in c)C.set(`${o}`,c[o]);const y=(o,...e)=>{var r,m,f,u;const a=[];if(Array.isArray(o))for(const n of o)a.push(...e.map(i=>`${n}.${i}`));else a.push(...e.map(n=>`${o}.${n}`));if((m=(r=s==null?void 0:s.session)==null?void 0:r.permissions)!=null&&m.find(n=>a.includes(n.name)||n.name=="general.root"))return!0;const t=((f=s==null?void 0:s.session)==null?void 0:f.roles)??[];for(const n of t)if((u=n==null?void 0:n.permissions)!=null&&u.find(i=>a.includes(i.name)||i.name=="general.root"))return!0;return!1},p=(...o)=>{var t;const e=[];return Array.isArray(o)?e.push(...o):e.push(o),!!(((t=s==null?void 0:s.session)==null?void 0:t.roles)??[]).find(r=>e.includes(r.name))};d.FetchParams.headers={Accept:"application/json","Content-Type":"application/json","X-Xsrf-Token":decodeURIComponent(d.Cookies.get("XSRF-TOKEN"))},g(l,{...s,can:y,hasRole:p})}})};export{X as C};

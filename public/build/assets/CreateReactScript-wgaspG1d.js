import{V as y}from"./index.esm-Cu-mVv1q.js";import{m as u}from"./main-B2CtU6ez.js";import{G as A}from"./Global-mC9lKANG.js";/* empty css               *//* empty css              */const v=d=>{y({resolve:l=>`/${l}.jsx`,setup:({el:l,props:p})=>{const o=p.initialPage.props;if(o!=null&&o.global)for(const s in o.global)A.set(s,o.global[s]);const h=(s,...e)=>{var r,c,m,f;const a=[];if(Array.isArray(s))for(const n of s)a.push(...e.map(i=>`${n}.${i}`));else a.push(...e.map(n=>`${s}.${n}`));if((c=(r=o==null?void 0:o.session)==null?void 0:r.permissions)!=null&&c.find(n=>a.includes(n.name)||n.name=="general.root"))return!0;const t=((m=o==null?void 0:o.session)==null?void 0:m.roles)??[];for(const n of t)if((f=n==null?void 0:n.permissions)!=null&&f.find(i=>a.includes(i.name)||i.name=="general.root"))return!0;return!1},g=(...s)=>{var t;const e=[];return Array.isArray(s)?e.push(...s):e.push(s),!!(((t=o==null?void 0:o.session)==null?void 0:t.roles)??[]).find(r=>e.includes(r.name))};u.FetchParams.headers={Accept:"application/json","Content-Type":"application/json","X-Xsrf-Token":decodeURIComponent(u.Cookies.get("XSRF-TOKEN"))},d(l,{...o,can:h,hasRole:g})}})};export{v as C};
